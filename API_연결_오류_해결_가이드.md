# 🚨 API 연결 오류 해결 가이드

## 문제 원인
**404 오류는 서버가 실행되지 않아서 발생합니다.**

프론트엔드(`127.0.0.1:5501`)는 `http://localhost:3003/api/related-keywords`로 API를 호출하지만,
서버가 실행되지 않으면 연결할 수 없어 404 오류가 발생합니다.

---

## ✅ 해결 방법 (단계별)

### **1단계: 서버 실행하기**

#### 방법 1: 배치 파일 사용 (가장 쉬움) ⭐
1. 프로젝트 폴더에서 **`서버시작.bat`** 파일을 찾으세요
2. **더블클릭**하여 실행하세요
3. 검은색 터미널 창이 열립니다
4. 다음과 같은 메시지가 보이면 성공입니다:
   ```
   🚀 통합 API 서버가 시작되었습니다!
   🌐 서버 주소: http://0.0.0.0:3003
   ```

#### 방법 2: 터미널에서 직접 실행
1. **Windows 키 + R**을 누르세요
2. `cmd`를 입력하고 Enter를 누르세요
3. 프로젝트 폴더로 이동:
   ```
   cd "C:\Users\오다쉐프\Desktop\사징픽_권순미 최종수정중"
   ```
4. 서버 실행:
   ```
   node server.js
   ```

---

### **2단계: 서버 실행 확인**

브라우저에서 다음 URL을 열어보세요:
- **`http://localhost:3003/health`**

**성공 시:** 다음과 같은 JSON이 보입니다:
```json
{
  "status": "OK",
  "message": "통합 API 서버가 정상 작동 중입니다."
}
```

**실패 시:** "사이트에 연결할 수 없습니다" 또는 "ERR_CONNECTION_REFUSED" 오류가 보입니다.
→ 서버가 실행되지 않은 것입니다. 1단계를 다시 확인하세요.

---

### **3단계: 연관 키워드 API 테스트**

브라우저에서 다음 URL을 열어보세요:
- **`http://localhost:3003/api/related-keywords?seed=테스트`**

**성공 시:** JSON 응답이 보입니다 (네이버 API 키가 설정되어 있어야 함)

**실패 시:** 
- 404 오류 → 서버가 실행되지 않았거나 API 엔드포인트가 등록되지 않음
- 500 오류 → 네이버 API 키가 설정되지 않았을 수 있음

---

### **4단계: 프론트엔드에서 테스트**

서버가 실행된 상태에서:
1. `naver_search.html` 페이지를 **새로고침**하세요 (F5)
2. **"연관키워드"** 탭을 클릭하세요
3. 키워드를 입력하고 **"연관 키워드 검색"** 버튼을 클릭하세요
4. 이제 정상 작동해야 합니다! ✅

---

## ⚠️ 중요 사항

### 서버 실행 중 유지
- **서버를 실행한 터미널 창을 닫지 마세요!**
- 터미널 창을 닫으면 서버가 종료됩니다
- 서버가 종료되면 다시 404 오류가 발생합니다

### 서버 종료 방법
- 서버를 종료하려면 터미널 창에서 **`Ctrl + C`**를 누르세요

### 여러 개의 서버 실행 방지
- 서버는 한 번에 하나만 실행해야 합니다
- 이미 실행 중인 서버가 있으면 새로 실행하지 마세요
- 포트 충돌이 발생할 수 있습니다

---

## 🔍 문제 해결 체크리스트

다음 항목을 확인하세요:

- [ ] **서버가 실행 중인가요?**
  - `http://localhost:3003/health`에서 "OK" 응답이 오는지 확인
  
- [ ] **포트 3003이 다른 프로그램에 사용되고 있지 않은가요?**
  - 다른 Node.js 서버가 실행 중이 아닌지 확인
  
- [ ] **`.env` 파일에 네이버 API 키가 설정되어 있나요?**
  - 프로젝트 폴더에 `.env` 파일이 있는지 확인
  - 파일 내용에 `NAVER_CUSTOMER_ID`, `NAVER_API_KEY`, `NAVER_SECRET_KEY`가 있는지 확인
  
- [ ] **`node_modules` 폴더가 있고 패키지가 설치되어 있나요?**
  - 프로젝트 폴더에 `node_modules` 폴더가 있는지 확인
  - 없으면 `pnpm install` 명령어 실행

---

## 📝 빠른 참조

### 서버 실행 명령어
```bash
node server.js
```

### 서버 상태 확인 URL
```
http://localhost:3003/health
```

### 연관 키워드 API 테스트 URL
```
http://localhost:3003/api/related-keywords?seed=테스트
```

---

## 💡 추가 도움말

### 서버 실행이 안 될 때
1. **Node.js가 설치되어 있나요?**
   - 터미널에서 `node --version` 명령어로 확인
   - 설치되어 있지 않으면 Node.js를 설치하세요

2. **포트 3003이 사용 중인가요?**
   - 다른 프로그램이 포트 3003을 사용하고 있을 수 있습니다
   - 다른 포트를 사용하거나 해당 프로그램을 종료하세요

3. **에러 메시지를 확인하세요**
   - 터미널에 나타나는 에러 메시지를 읽어보세요
   - 에러 메시지가 문제 해결의 단서가 됩니다

---

## ✅ 최종 확인

서버가 정상 실행되면:
1. ✅ `http://localhost:3003/health`에서 "OK" 응답 확인
2. ✅ `naver_search.html`에서 연관 키워드 검색 정상 작동 확인

이제 API 연결 오류 없이 사용할 수 있습니다! 🎉


