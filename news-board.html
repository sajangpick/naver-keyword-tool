<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; connect-src 'self' http://localhost:3003 http://127.0.0.1:3003 https://*.supabase.co https://naver-keyword-tool.onrender.com https://naver-keyword-tool.onrender.com wss://*.supabase.co; img-src 'self' data: https:; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; font-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com data:; frame-ancestors 'self'; base-uri 'self'; form-action 'self'"
    />
    <meta name="referrer" content="no-referrer" />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <!-- ÏÇ¨Ïù¥Ìä∏ ÏÑ§Î™Ö (SEO) -->
    <meta
      name="description"
      content="ÏãùÎãπ ÏÇ¨Ïû•ÎãòÏùÑ ÏúÑÌïú Ï†ïÎ≥¥ Í≤åÏãúÌåê. Ï†ïÏ±Ö/Î≤ïÍ∑ú, ÎßàÏºÄÌåÖ, Ïö¥ÏòÅ ÎÖ∏ÌïòÏö∞, Ìä∏Î†åÎìúÍπåÏßÄ! AIÍ∞Ä Ï∂îÏ≤úÌïòÎäî ÎßûÏ∂§ Îâ¥Ïä§Î•º ÌôïÏù∏ÌïòÏÑ∏Ïöî."
    />
    <meta
      name="keywords"
      content="ÏãùÎãπ Îâ¥Ïä§, ÏÜåÏÉÅÍ≥µÏù∏ Ï†ïÎ≥¥, Ï†ïÏ±Ö Î≤ïÍ∑ú, ÎßàÏºÄÌåÖ ÌåÅ, Ïö¥ÏòÅ ÎÖ∏ÌïòÏö∞"
    />
    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Îâ¥Ïä§ Í≤åÏãúÌåê - ÏÇ¨Ïû•ÌîΩ" />
    <meta
      property="og:description"
      content="ÏãùÎãπ ÏÇ¨Ïû•ÎãòÏùÑ ÏúÑÌïú Ï†ïÎ≥¥ Í≤åÏãúÌåê. AIÍ∞Ä Ï∂îÏ≤úÌïòÎäî ÎßûÏ∂§ Îâ¥Ïä§"
    />
    <meta property="og:site_name" content="ÏÇ¨Ïû•ÌîΩ" />
    <title>Îâ¥Ïä§ Í≤åÏãúÌåê - ÏÇ¨Ïû•ÌîΩ</title>
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='32' r='30' fill='%2303c75a'/%3E%3Ctext x='32' y='40' text-anchor='middle' font-size='28' font-family='Arial' fill='white'%3ESP%3C/text%3E%3C/svg%3E"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      rel="stylesheet"
      integrity="sha384-t1nt8BQoYMLFN5p42tRAtuAAFQaCQODekUVeKKZrEnEyp4H2R0RHFz0KWpmj7i8g"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      as="style"
      crossorigin
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css"
    />

    <style>
      :root {
        --accent-color: #ff7b54;
        --bg-color: #fff7f0;
        --text-primary: #201a17;
        --text-secondary: #7a6a60;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Pretendard Variable", Pretendard, -apple-system,
          BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI",
          "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic",
          "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        background: var(--bg-color);
        color: var(--text-primary);
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      .is-hidden {
        display: none !important;
      }

      @media (max-width: 992px) {
        .header {
          display: none;
        }
      }

      .header.header-hidden {
        transform: translateY(-100%);
      }

      .header-inner {
        max-width: 100%;
        margin: 0;
        padding: 12px 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        position: relative;
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 800;
        font-size: 12px;
        color: var(--text-primary);
        cursor: pointer;
        flex: 0 0 auto;
      }

      .logo-icon {
        width: 28px;
        height: 28px;
        border-radius: 12px;
        background: var(--accent-color);
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
      }

      .logo-text {
        letter-spacing: -0.03em;
        text-transform: lowercase;
        font-size: 12px;
      }

      .header-slogan {
        font-size: 16px;
        font-weight: 600;
        color: var(--text-secondary);
        margin: 0;
        white-space: nowrap;
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1;
      }

      .header-auth {
        display: flex;
        align-items: center;
        flex: 0 0 auto;
      }

      @media (max-width: 768px) {
        .header-inner {
          padding: 12px 16px;
          flex-wrap: wrap;
        }

        .header-slogan {
          font-size: 12px;
          position: static;
          transform: none;
          order: 3;
          width: 100%;
          text-align: center;
          margin-top: 8px;
        }

        .logo-container {
          order: 1;
          gap: 8px;
        }

        .header-auth {
          order: 2;
        }

        .logo-icon {
          width: 26px;
          height: 26px;
          font-size: 13px;
        }

        .logo-text {
          font-size: 12px;
        }
      }

      @media (max-width: 480px) {
        .header-inner {
          padding: 10px 12px;
          gap: 12px;
        }

        .header-slogan {
          display: none;
        }

        .logo-container {
          gap: 6px;
        }
      }

      @media (max-width: 360px) {
        .header-inner {
          padding: 8px 6px 8px 8px;
          gap: 0;
          min-height: auto;
          flex-wrap: nowrap;
          justify-content: space-between;
          align-items: center;
        }

        .logo-container {
          gap: 4px;
          flex: 0 1 auto;
          min-width: 0;
          margin-right: auto;
        }

        .logo-icon {
          width: 19px;
          height: 19px;
          font-size: 10px;
          flex-shrink: 0;
        }

        .logo-text {
          font-size: 11px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 120px;
        }

        .header-slogan {
          display: none;
        }

        .header-auth {
          flex-shrink: 0;
          margin-left: auto;
          margin-right: 0;
        }

        .auth-buttons {
          gap: 2px;
          flex-wrap: nowrap;
          justify-content: flex-end;
        }

        .auth-btn {
          height: 28px;
          padding: 0 6px;
          font-size: 9px;
          min-width: auto;
          flex-shrink: 0;
        }

        .auth-btn i {
          font-size: 9px;
          margin-right: 2px;
        }

        .auth-btn span {
          font-size: 9px;
          white-space: nowrap;
        }

        .auth-btn--ghost {
          display: none;
        }
      }

      /* ÏÇ¨Ïù¥ÎìúÎ∞î Ïä§ÌÉÄÏùº - ÏÉàÎ°úÏö¥ ÎîîÏûêÏù∏ */
      .side-nav {
        background: #ffe8d9;
        border-radius: 18px;
        padding: 18px 11px;
        display: flex;
        flex-direction: column;
        gap: 14px;
        align-items: center;
        position: fixed;
        left: 20px;
        top: 120px;
        width: 66px;
        height: auto;
        max-height: calc(100vh - 160px);
        overflow-y: auto;
        z-index: 40;
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.12);
      }

      .side-nav .menu-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 3px;
        padding: 9px 6px;
        color: #5a5a5a;
        text-decoration: none;
        font-weight: 500;
        font-size: 9px;
        border-radius: 11px;
        transition: all 0.3s ease;
        width: 43px;
        position: relative;
        background: transparent;
      }

      .side-nav .menu-item:hover {
        background: #ffffff;
        color: #ff7e46;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 126, 70, 0.3);
      }

      .side-nav .menu-item:hover .ico {
        color: #ff7e46;
        background: rgba(255, 126, 70, 0.1);
      }

      .side-nav .menu-item.active {
        background: #ffffff;
        color: #ff7e46;
      }

      .side-nav .menu-item.active .ico {
        color: #ff7e46;
        background: rgba(255, 126, 70, 0.1);
      }

      .side-nav .ico {
        width: 29px;
        height: 29px;
        border-radius: 7px;
        display: grid;
        place-items: center;
        background: transparent;
        color: #5a5a5a;
        font-size: 13px;
        transition: all 0.3s ease;
      }

      /* Í∏∞Ï°¥ ÏÇ¨Ïù¥ÎìúÎ∞î Ïà®ÍπÄ */
      .sidebar {
        display: none;
      }

      .sidebar-header {
        padding: 20px 16px;
        border-bottom: 1px solid rgba(0, 0, 0, 0.06);
      }

      .sidebar-logo {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        color: inherit;
        transition: opacity 0.3s ease;
      }

      .sidebar-logo:hover {
        opacity: 0.8;
      }

      .sidebar-logo-icon {
        width: 36px;
        height: 36px;
        background: var(--accent-color);
        color: white;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
      }

      .sidebar-logo-text {
        font-size: 18px;
        font-weight: 800;
        color: var(--text-primary);
      }

      .sidebar-menu {
        padding: 16px 0;
      }

      .sidebar-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 20px;
        color: var(--text-secondary);
        text-decoration: none;
        font-size: 14px;
        font-weight: 600;
        transition: all 0.3s ease;
        border-left: 3px solid transparent;
      }

      .sidebar-item:hover {
        background: rgba(255, 126, 70, 0.1);
        color: var(--accent-color);
        border-left-color: var(--accent-color);
      }

      .sidebar-item.active {
        background: rgba(255, 126, 70, 0.15);
        color: var(--accent-color);
        border-left-color: var(--accent-color);
        font-weight: 700;
      }

      .sidebar-item i {
        font-size: 16px;
        width: 20px;
        text-align: center;
      }

      /* Î©îÏù∏ Ïª®ÌÖêÏ∏† ÏòÅÏó≠ */
      .main-content {
        margin-left: 0;
        padding-left: 100px;
        min-height: 100vh;
      }

      @media (max-width: 768px) {
        .container {
          padding: 16px 12px;
        }
      }

      @media (max-width: 360px) {
        .container {
          padding: 16px 12px;
        }
      }

      @media (max-width: 992px) {
        .side-nav {
          position: fixed !important;
          bottom: 20px !important;
          left: 50%;
          transform: translateX(-50%);
          top: auto !important;
          flex-direction: row;
          width: calc(100vw - 40px);
          max-width: calc(100vw - 40px);
          padding: 6px 10px;
          overflow-x: auto;
          overflow-y: hidden;
          gap: 8px;
          border-radius: 18px;
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
          z-index: 100;
          justify-content: flex-start;
          -webkit-overflow-scrolling: touch;
          touch-action: pan-x;
          scrollbar-width: thin;
          scroll-snap-type: x mandatory;
        }

        /* Ïò§Î•∏Ï™Ω ÌéòÏù¥ÎìúÏïÑÏõÉ Ìö®Í≥º */
        .side-nav::after {
          content: "";
          position: absolute;
          top: 0;
          right: 0;
          width: 50px;
          height: 100%;
          background: linear-gradient(to right, transparent, #ffe8d9);
          pointer-events: none;
          z-index: 1;
          opacity: 1;
          transition: opacity 0.3s ease;
        }

        /* Ïò§Î•∏Ï™Ω ÌôîÏÇ¥Ìëú Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ */
        .side-nav::before {
          content: "‚Üí";
          position: absolute;
          top: 50%;
          right: 8px;
          transform: translateY(-50%);
          font-size: 18px;
          color: rgba(255, 126, 70, 0.6);
          pointer-events: none;
          z-index: 2;
          opacity: 1;
          transition: opacity 0.3s ease;
          animation: slideHintSide 2s ease-in-out infinite;
        }

        @keyframes slideHintSide {
          0%,
          100% {
            transform: translateY(-50%) translateX(0);
          }
          50% {
            transform: translateY(-50%) translateX(5px);
          }
        }

        /* Ïù∏ÎîîÏºÄÏù¥ÌÑ∞Í∞Ä Ïà®Í≤®ÏßÑ Í≤ΩÏö∞ */
        .side-nav.hide-indicator::before,
        .side-nav.hide-indicator::after {
          opacity: 0 !important;
          animation: none !important;
        }

        .side-nav::-webkit-scrollbar {
          height: 4px;
        }

        .side-nav::-webkit-scrollbar-track {
          background: rgba(0, 0, 0, 0.05);
          border-radius: 2px;
        }

        .side-nav::-webkit-scrollbar-thumb {
          background: rgba(255, 126, 70, 0.4);
          border-radius: 2px;
        }

        .side-nav::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 126, 70, 0.6);
        }

        .side-nav .menu-item {
          flex-direction: column;
          min-width: 50px;
          padding: 4px 5px;
          font-size: 8px;
          flex: 0 0 50px;
          flex-shrink: 0;
          scroll-snap-align: start;
          gap: 3px;
        }

        .side-nav .menu-item .ico {
          width: 32px;
          height: 32px;
          font-size: 14px;
        }

        .side-nav .menu-item.active {
          background: #ffffff;
          color: #ff7e46;
        }

        .side-nav .menu-item.active .ico {
          color: #ff7e46;
          background: rgba(255, 126, 70, 0.1);
        }

        .main-content {
          padding-left: 0;
          padding-bottom: 65px;
        }
      }

      @media (max-width: 360px) {
        .side-nav {
          position: fixed !important;
          bottom: 12px !important;
          top: auto !important;
          width: calc(100vw - 16px);
          max-width: calc(100vw - 16px);
          padding: 5px 8px;
          gap: 6px;
          border-radius: 14px;
          overflow-x: auto;
          overflow-y: hidden;
          justify-content: flex-start;
          -webkit-overflow-scrolling: touch;
          touch-action: pan-x;
          scrollbar-width: thin;
          scroll-snap-type: x mandatory;
        }

        /* Ïò§Î•∏Ï™Ω ÌéòÏù¥ÎìúÏïÑÏõÉ Ìö®Í≥º */
        .side-nav::after {
          content: "";
          position: absolute;
          top: 0;
          right: 0;
          width: 40px;
          height: 100%;
          background: linear-gradient(to right, transparent, #ffe8d9);
          pointer-events: none;
          z-index: 1;
          opacity: 1;
          transition: opacity 0.3s ease;
        }

        /* Ïò§Î•∏Ï™Ω ÌôîÏÇ¥Ìëú Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ */
        .side-nav::before {
          content: "‚Üí";
          position: absolute;
          top: 50%;
          right: 6px;
          transform: translateY(-50%);
          font-size: 16px;
          color: rgba(255, 126, 70, 0.6);
          pointer-events: none;
          z-index: 2;
          animation: slideHintSide 2s ease-in-out infinite;
          opacity: 1;
          transition: opacity 0.3s ease;
        }

        /* Ïù∏ÎîîÏºÄÏù¥ÌÑ∞Í∞Ä Ïà®Í≤®ÏßÑ Í≤ΩÏö∞ (360px Ïù¥Ìïò) */
        .side-nav.hide-indicator::before,
        .side-nav.hide-indicator::after {
          opacity: 0 !important;
          animation: none !important;
        }

        .side-nav::-webkit-scrollbar {
          height: 3px;
        }

        .side-nav::-webkit-scrollbar-track {
          background: rgba(0, 0, 0, 0.05);
          border-radius: 2px;
        }

        .side-nav::-webkit-scrollbar-thumb {
          background: rgba(255, 126, 70, 0.4);
          border-radius: 2px;
        }

        .side-nav .menu-item {
          min-width: 45px;
          padding: 3px 4px;
          font-size: 7px;
          flex: 0 0 45px;
          flex-shrink: 0;
          gap: 2px;
          scroll-snap-align: start;
        }

        .side-nav .menu-item .ico {
          width: 28px;
          height: 28px;
          font-size: 12px;
        }

        .side-nav .menu-item span:not(.ico) {
          font-size: 7px;
          word-break: keep-all;
          line-height: 1.2;
          text-align: center;
        }

        .side-nav .menu-item:hover .ico {
          background: #ffffff;
        }

        .side-nav .menu-item.active {
          background: #ffffff;
          color: #ff7e46;
        }

        .side-nav .menu-item.active .ico {
          color: #ff7e46;
          background: rgba(255, 126, 70, 0.1);
        }

        .main-content {
          padding-bottom: 55px;
        }
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 20px;
      }

      .header-auth {
        display: flex;
        align-items: center;
      }

      .auth-buttons {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .auth-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        height: 44px;
        padding: 0 22px;
        border-radius: 12px;
        font-weight: 700;
        font-size: 14px;
        border: 1px solid rgba(0, 0, 0, 0.05);
        background: #fff;
        color: var(--text-primary);
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease, border 0.2s ease;
      }

      .auth-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 18px rgba(0, 0, 0, 0.08);
      }

      .auth-btn--primary {
        background: transparent;
        color: var(--accent-color);
        border: 1px solid var(--accent-color);
      }

      .auth-btn--primary:hover {
        background: var(--accent-color);
        color: #fff;
        box-shadow: 0 8px 18px rgba(255, 126, 70, 0.3);
        transform: translateY(-1px);
      }

      .auth-btn--ghost {
        background: transparent;
        color: var(--text-secondary);
        display: inline-flex;
      }

      .auth-btn--ghost:hover {
        border-color: var(--accent-color);
        color: var(--accent-color);
      }

      .auth-user {
        display: none;
        align-items: center;
        gap: 14px;
        padding: 10px 16px;
        border-radius: 16px;
        background: rgba(255, 123, 84, 0.12);
        color: var(--text-primary);
      }

      .auth-user__avatar {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        background: var(--accent-color);
        color: #fff;
        font-weight: 700;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
      }

      .auth-user__avatar {
        letter-spacing: -0.02em;
        text-transform: uppercase;
      }

      .auth-user__meta {
        display: flex;
        flex-direction: column;
        line-height: 1.2;
      }

      .auth-user__label {
        font-size: 11px;
        font-weight: 600;
        color: var(--text-secondary);
        letter-spacing: 0.08em;
        text-transform: uppercase;
        text-decoration: none;
      }

      .auth-user__email {
        font-size: 14px;
        font-weight: 600;
        color: var(--text-primary);
        cursor: pointer;
        transition: color 0.2s ease;
        text-decoration: none;
      }

      .auth-user__email:hover {
        color: var(--accent-color);
      }

      .auth-user__logout {
        height: 36px;
        padding: 0 16px;
        border-radius: 12px;
        border: 1px solid rgba(0, 0, 0, 0.08);
        background: #fff;
        color: var(--text-primary);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
      }

      .auth-user__logout:hover {
        background: rgba(255, 126, 70, 0.12);
        transform: translateY(-2px);
      }
      @media (max-width: 768px) {
        .mobile-menu-toggle {
          display: block !important;
        }

        .auth-btn {
          height: 38px;
          padding: 0 16px;
          font-size: 13px;
        }

        .auth-user {
          padding: 8px 12px;
          gap: 10px;
        }

        .auth-user__avatar {
          width: 32px;
          height: 32px;
          font-size: 14px;
        }

        .auth-user__email {
          font-size: 13px;
        }

        .auth-user__logout {
          height: 32px;
          padding: 0 12px;
          font-size: 12px;
        }

        .sidebar {
          width: 280px;
          height: 100vh;
          position: fixed;
          top: 0;
          left: -280px;
          transition: left 0.3s ease;
          z-index: 60;
          box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
        }

        .sidebar.open {
          left: 0;
        }

        .main-content {
          margin-left: 0;
        }

        .sidebar-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.5);
          z-index: 50;
          opacity: 0;
          visibility: hidden;
          transition: all 0.3s ease;
        }

        .sidebar-overlay.active {
          opacity: 1;
          visibility: visible;
        }
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 32px;
        background: transparent;
      }

      @media (max-width: 768px) {
        .container {
          padding: 16px 12px;
        }
      }

      @media (max-width: 360px) {
        .container {
          padding: 16px 12px;
        }
      }

      /* ÌéòÏù¥ÏßÄ Ìó§Îçî ÏÑπÏÖò - ÌÜµÏùºÎêú Ïä§ÌÉÄÏùº */
      .header-section {
        background: #ffe8d9;
        border-radius: 20px 20px 0 0;
        padding: 8px 20px 8px 20px;
        margin-bottom: 0;
        min-height: 56px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .page-header {
        margin-bottom: 0;
        text-align: center;
        width: 100%;
      }

      .page-header h1 {
        font-size: 12pt;
        font-weight: 800;
        color: var(--text-primary);
        margin-bottom: 2px;
        line-height: 1.2;
      }

      .page-header p {
        font-size: 8pt;
        color: var(--text-secondary);
        line-height: 1.3;
        margin: 0;
      }

      .content-section {
        padding: 36px;
      }

      @media (max-width: 768px) {
        .header-section {
          padding: 8px 12px 8px 12px;
          border-radius: 16px 16px 0 0;
          min-height: 56px;
        }

        .page-header {
          margin-bottom: 0;
        }

        .page-header h1 {
          font-size: 12pt;
          margin-bottom: 2px;
          line-height: 1.2;
        }

        .page-header p {
          font-size: 8pt;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          line-height: 1.3;
        }

        .content-section {
          padding: 24px 16px;
        }
      }

      @media (max-width: 360px) {
        .header-section {
          padding: 8px 8px 8px 8px;
          border-radius: 12px 12px 0 0;
          min-height: 56px;
        }

        .page-header {
          margin-bottom: 0;
        }

        .page-header h1 {
          font-size: 12pt;
          margin-bottom: 2px;
          line-height: 1.2;
        }

        .page-header p {
          font-size: 8pt;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          line-height: 1.3;
        }

        .content-section {
          padding: 20px 12px;
        }
      }

      .beta-badge {
        display: inline-block;
        padding: 4px 12px;
        background: var(--accent-color);
        color: white;
        font-size: 12px;
        font-weight: 500;
        border-radius: 20px;
        margin-left: 10px;
        vertical-align: middle;
      }

      .category-tabs {
        display: flex;
        gap: 8px;
        margin-bottom: 32px;
        overflow-x: auto;
        padding: 16px 0;
        -webkit-overflow-scrolling: touch;
      }

      .category-tabs::-webkit-scrollbar {
        display: none;
      }

      .category-tab {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 10px 16px;
        border: 1px solid #e1e5e9;
        background: #ffffff;
        border-radius: 20px;
        cursor: pointer;
        font-weight: 500;
        font-size: 14px;
        color: #4e5968;
        white-space: nowrap;
        transition: all 0.2s ease;
        flex-shrink: 0;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
      }

      .category-tab:hover {
        border-color: var(--accent-color);
        background: rgba(255, 123, 84, 0.08);
        color: var(--accent-color);
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(255, 123, 84, 0.15);
      }

      .category-tab.active {
        background: var(--accent-color);
        color: white;
        border-color: var(--accent-color);
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(255, 123, 84, 0.25);
      }

      .category-tab.active:hover {
        transform: translateY(-1px);
        box-shadow: 0 3px 12px rgba(255, 123, 84, 0.3);
      }

      .featured-section {
        margin-bottom: 48px;
      }

      .section-title {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        color: var(--text-primary);
        gap: 8px;
      }

      .featured-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 24px;
      }

      .featured-card {
        background: white;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        transition: all 0.3s;
        cursor: pointer;
        position: relative;
      }

      .featured-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
      }

      .featured-badge {
        position: absolute;
        top: 16px;
        right: 16px;
        background: #ffd700;
        color: #333;
        padding: 6px 12px;
        border-radius: 8px;
        font-size: 12px;
        font-weight: 700;
        z-index: 1;
      }

      .news-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .news-placeholder {
        width: 100%;
        height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 64px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .news-content {
        padding: 24px;
      }

      .news-category {
        display: inline-block;
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 600;
        margin-bottom: 12px;
      }

      .category-policy {
        background: #e8f5e9;
        color: #2e7d32;
      }
      .category-trend {
        background: #e3f2fd;
        color: #1565c0;
      }
      .category-management {
        background: #fff3e0;
        color: #ef6c00;
      }
      .category-ingredients {
        background: #f3e5f5;
        color: #7b1fa2;
      }
      .category-technology {
        background: #fce4ec;
        color: #c2185b;
      }

      .news-title {
        font-size: 20px;
        font-weight: 700;
        margin-bottom: 12px;
        color: #333;
        display: -webkit-box;
        line-clamp: 2;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .news-excerpt {
        font-size: 14px;
        color: #666;
        line-height: 1.6;
        margin-bottom: 16px;
        display: -webkit-box;
        line-clamp: 3;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .news-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 13px;
        color: #999;
        padding-top: 16px;
        border-top: 1px solid #f0f0f0;
      }

      .news-list {
        display: grid;
        gap: 16px;
      }

      .news-item {
        background: white;
        border-radius: 12px;
        padding: 24px;
        display: flex;
        gap: 24px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        transition: all 0.3s;
        cursor: pointer;
      }

      .news-item:hover {
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        transform: translateX(4px);
      }

      .news-item-image {
        width: 140px;
        height: 140px;
        border-radius: 8px;
        object-fit: cover;
        flex-shrink: 0;
        background: #f0f0f0;
      }

      .news-item-placeholder {
        width: 140px;
        height: 140px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 48px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        flex-shrink: 0;
      }

      .news-item-content {
        flex: 1;
        min-width: 0;
      }

      .news-item-title {
        font-size: 18px;
        font-weight: 700;
        margin-bottom: 8px;
        color: #333;
      }

      .news-item-excerpt {
        font-size: 14px;
        color: #666;
        margin-bottom: 12px;
        display: -webkit-box;
        line-clamp: 2;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .pagination {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-top: 48px;
      }

      .page-btn {
        width: 40px;
        height: 40px;
        border-radius: 8px;
        border: 1px solid #e0e0e0;
        background: white;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.2s;
      }

      .page-btn:hover {
        background: #f5f5f5;
      }

      .page-btn.active {
        background: var(--accent-color);
        color: white;
        border-color: var(--accent-color);
      }

      .empty-state {
        text-align: center;
        padding: 80px 20px;
        color: #999;
      }

      .empty-icon {
        font-size: 64px;
        margin-bottom: 16px;
      }

      .loading {
        text-align: center;
        padding: 80px 20px;
        color: #999;
      }

      .loading i {
        font-size: 48px;
        margin-bottom: 16px;
      }

      /* Î™®Îã¨ Ïä§ÌÉÄÏùº */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        z-index: 10000;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .modal.active {
        display: flex;
      }

      .modal-content {
        background: white;
        border-radius: 16px;
        width: 100%;
        max-width: 800px;
        max-height: 90vh;
        overflow-y: auto;
        padding: 40px;
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 24px;
      }

      .modal-close {
        width: 36px;
        height: 36px;
        border-radius: 8px;
        border: none;
        background: #f5f5f5;
        cursor: pointer;
        font-size: 20px;
        transition: all 0.2s;
      }

      .modal-close:hover {
        background: #e0e0e0;
      }

      .modal-image {
        width: 100%;
        height: 300px;
        object-fit: cover;
        border-radius: 12px;
        margin-bottom: 24px;
      }

      .modal-category {
        display: inline-block;
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 600;
        margin-bottom: 16px;
      }

      .modal-title {
        font-size: 32px;
        font-weight: 800;
        margin-bottom: 16px;
        color: #333;
        line-height: 1.4;
      }

      .modal-meta {
        display: flex;
        gap: 16px;
        font-size: 14px;
        color: #999;
        margin-bottom: 24px;
        padding-bottom: 24px;
        border-bottom: 2px solid #f0f0f0;
      }

      .modal-body {
        font-size: 16px;
        line-height: 1.8;
        color: #333;
        margin-bottom: 32px;
      }

      .modal-source {
        background: #f5f5f5;
        padding: 16px 20px;
        border-radius: 8px;
        text-align: center;
      }

      .modal-source a {
        color: var(--accent-color);
        font-weight: 600;
        text-decoration: none;
      }

      .modal-source a:hover {
        text-decoration: underline;
      }

      @media (max-width: 768px) {
        .container {
          padding: 16px 12px;
        }

        .featured-grid {
          grid-template-columns: 1fr;
        }

        .news-item {
          flex-direction: column;
        }

        .news-item-image,
        .news-item-placeholder {
          width: 100%;
          height: 200px;
        }

        .modal-content {
          padding: 24px;
        }

        .modal-title {
          font-size: 24px;
        }

        .category-tabs {
          gap: 6px;
          padding: 12px 0;
        }

        .category-tab {
          padding: 8px 12px;
          font-size: 12px;
          border-radius: 16px;
        }
        button {
          font-size: 9px;
          padding: 6px 10px;
        }
        .news-title {
          font-size: 13px;
          margin-bottom: 8px;
        }
        .news-excerpt {
          font-size: 10px;
          line-height: 1.4;
          margin-bottom: 10px;
        }
        .news-category {
          font-size: 8px;
          padding: 3px 8px;
          margin-bottom: 8px;
        }
        .news-meta {
          font-size: 9px;
          padding-top: 10px;
        }
        .section-title {
          font-size: 14px;
          margin-bottom: 12px;
        }
        .modal-title {
          font-size: 16px;
        }
        .modal-body {
          font-size: 11px;
          line-height: 1.5;
        }
        .news-content {
          padding: 16px;
        }
        .featured-card {
          border-radius: 12px;
        }
        .news-item {
          padding: 14px;
        }
      }
    </style>
    <!-- Ïù∏Ï¶ù Í∞ÄÎìú: Î°úÍ∑∏Ïù∏ ÌïÑÏàò Í∏∞Îä• Î≥¥Ìò∏ -->
    <script src="./assets/auth-guard.js" defer></script>
  </head>
  <body>
    <header class="header">
      <div class="header-inner">
        <a href="/" class="logo-container">
          <div class="logo-icon">
            <i class="fa-solid fa-thumbtack"></i>
          </div>
          <span class="logo-text">sajang pick</span>
        </a>

        <h1 class="header-slogan">ÏÑºÏä§ÏûàÎäî ÏÇ¨Ïû•ÎãòÎì§Ïùò ÏÑ†ÌÉù</h1>

        <div class="header-auth">
          <div class="auth-buttons" id="authButtons">
            <div class="auth-user" id="authUser" style="display: none">
              <div class="auth-user__avatar" id="userAvatar">U</div>
              <div class="auth-user__meta">
                <a
                  href="/mypage.html"
                  class="auth-user__label"
                  style="cursor: pointer; text-decoration: none"
                  >ÎÇòÏùò ÌéòÏù¥ÏßÄ</a
                >
                <a
                  href="/mypage.html"
                  class="auth-user__email"
                  id="userEmail"
                  style="cursor: pointer; text-decoration: none"
                ></a>
              </div>
              <button class="auth-user__logout" id="logoutBtn" type="button">
                Î°úÍ∑∏ÏïÑÏõÉ
              </button>
            </div>
            <a
              href="/login.html"
              class="auth-btn auth-btn--primary"
              id="loginBtn"
            >
              <i class="fa-solid fa-sign-in-alt" style="margin-right: 8px"></i>
              <span>Î°úÍ∑∏Ïù∏</span>
            </a>
            <a
              href="/join.html"
              class="auth-btn auth-btn--ghost"
              id="signupBtn"
            >
              <i class="fa-solid fa-user-plus" style="margin-right: 8px"></i>
              <span>ÌöåÏõêÍ∞ÄÏûÖ</span>
            </a>
          </div>
        </div>
      </div>
    </header>

    <aside class="side-nav" aria-label="ÏÇ¨Ïù¥Îìú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò">
      <a class="menu-item" href="./index.html">
        <span class="ico"><i class="fa-solid fa-house"></i></span>
        <span>Ìôà</span>
      </a>
      <a class="menu-item" href="./naver_search.html">
        <span class="ico"><i class="fa-solid fa-key"></i></span>
        <span>ÌÇ§ÏõåÎìú</span>
      </a>
      <a class="menu-item" href="./AI-Review.html">
        <span class="ico"><i class="fa-solid fa-pen-nib"></i></span>
        <span>Î¶¨Î∑∞</span>
      </a>
      <a class="menu-item" href="./Blog-Editor.html">
        <span class="ico"><i class="fa-solid fa-blog"></i></span>
        <span>Î∏îÎ°úÍ∑∏</span>
      </a>
      <a class="menu-item" href="./recipe-manager.html">
        <span class="ico"><i class="fa-solid fa-utensils"></i></span>
        <span>Î†àÏãúÌîº</span>
      </a>
      <a class="menu-item" href="./shorts-editor.html">
        <span class="ico"><i class="fa-solid fa-film"></i></span>
        <span>ÏòÅÏÉÅ</span>
      </a>
      <a class="menu-item" href="./sajangpick-book.html">
        <span class="ico"><i class="fa-solid fa-book-open"></i></span>
        <span>Ï†ÑÏûêÏ±Ö</span>
      </a>
      <a class="menu-item active" href="./news-board.html">
        <span class="ico"><i class="fa-solid fa-newspaper"></i></span>
        <span>Îâ¥Ïä§</span>
      </a>
      <a class="menu-item" href="./policy-support.html">
        <span class="ico"><i class="fa-solid fa-coins"></i></span>
        <span>Ï†ïÏ±Ö</span>
      </a>
    </aside>

    <!-- Î©îÏù∏ Ïª®ÌÖêÏ∏† -->
    <div class="main-content">
      <div class="container">
        <!-- Ìó§Îçî ÏÑπÏÖò -->
        <div class="header-section">
          <div class="page-header">
            <h1>Îâ¥Ïä§ Í≤åÏãúÌåê</h1>
            <p>ÏãùÎãπ ÎåÄÌëúÎãòÎì§ÏùÑ ÏúÑÌïú Ïú†Ïö©Ìïú Îâ¥Ïä§Î•º Î™®ÏïòÏäµÎãàÎã§.</p>
          </div>
        </div>

        <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÌÉ≠ -->
        <div
          class="content-section"
          style="
            background: white;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            margin-top: 0;
            margin-bottom: 40px;
          "
        >
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
              flex-wrap: wrap;
              gap: 12px;
            "
          >
            <div class="category-tabs" style="flex: 1; margin: 0">
              <button
                class="category-tab active"
                data-category="all"
                onclick="filterCategory('all')"
              >
                Ï†ÑÏ≤¥
              </button>
              <button
                class="category-tab"
                data-category="policy"
                onclick="filterCategory('policy')"
              >
                Ï†ïÏ±Ö/Î≤ïÍ∑ú
              </button>
              <button
                class="category-tab"
                data-category="trend"
                onclick="filterCategory('trend')"
              >
                Ìä∏Î†åÎìú
              </button>
              <button
                class="category-tab"
                data-category="management"
                onclick="filterCategory('management')"
              >
                Í≤ΩÏòÅ ÌåÅ
              </button>
              <button
                class="category-tab"
                data-category="ingredients"
                onclick="filterCategory('ingredients')"
              >
                ÏãùÏûêÏû¨ Ï†ïÎ≥¥
              </button>
              <button
                class="category-tab"
                data-category="technology"
                onclick="filterCategory('technology')"
              >
                Í∏∞Ïà†/ÎèÑÍµ¨
              </button>
            </div>
          </div>

          <!-- Ï†ÑÏ≤¥ Îâ¥Ïä§ -->
          <div>
            <h2 class="section-title">
              <span>Ï†ÑÏ≤¥ Îâ¥Ïä§</span>
            </h2>
            <div class="news-list" id="newsList">
              <div class="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <div>Î°úÎî© Ï§ë...</div>
              </div>
            </div>

            <div class="pagination" id="pagination"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Îâ¥Ïä§ ÏÉÅÏÑ∏ Î™®Îã¨ -->
    <div class="modal" id="newsModal">
      <div class="modal-content">
        <div class="modal-header">
          <div></div>
          <button class="modal-close" onclick="closeModal()">√ó</button>
        </div>
        <div id="modalNewsContent"></div>
      </div>
    </div>

    <script>
      const isLocalhost = ["localhost", "127.0.0.1"].includes(
        window.location.hostname
      );
      const API_BASE = isLocalhost ? "http://localhost:3003" : "";
      const PRIMARY_RENDER_BASE = "https://naver-keyword-tool.onrender.com";
      const LEGACY_RENDER_BASE = "https://naver-keyword-tool.onrender.com";
      const FALLBACK_RENDER_BASES = [
        PRIMARY_RENDER_BASE,
        LEGACY_RENDER_BASE,
      ].filter(Boolean);
      const RETRYABLE_STATUS = new Set([
        404, 408, 500, 502, 503, 504, 521, 522, 523,
      ]);

      function cloneRequestOptions(options) {
        if (!options) return undefined;
        const cloned = { ...options };

        if (options.headers instanceof Headers) {
          cloned.headers = new Headers(options.headers);
        } else if (options.headers) {
          cloned.headers = { ...options.headers };
        }

        if (options.body instanceof FormData) {
          const formDataCopy = new FormData();
          options.body.forEach((value, key) => formDataCopy.append(key, value));
          cloned.body = formDataCopy;
        } else if (options.body instanceof URLSearchParams) {
          cloned.body = new URLSearchParams(options.body);
        } else if (options.body instanceof Blob) {
          cloned.body = options.body.slice(
            0,
            options.body.size,
            options.body.type
          );
        } else if (options.body !== undefined) {
          cloned.body = options.body;
        }

        return cloned;
      }

      async function fetchWithFallback(path, options) {
        const targets = [];

        if (API_BASE) {
          targets.push(`${API_BASE}${path}`);
        } else {
          targets.push(path);
        }

        FALLBACK_RENDER_BASES.forEach((host) => {
          if (!host) return;
          const absolutePath = `${host}${path}`;
          if (!targets.includes(absolutePath)) {
            targets.push(absolutePath);
          }
        });

        let lastError = null;
        let lastResponse = null;

        for (let index = 0; index < targets.length; index += 1) {
          const target = targets[index];

          try {
            const response = await fetch(target, cloneRequestOptions(options));

            if (response.ok) {
              return response;
            }

            lastResponse = response;

            if (
              RETRYABLE_STATUS.has(response.status) &&
              index < targets.length - 1
            ) {
              continue;
            }

            return response;
          } catch (error) {
            lastError = error;
          }
        }

        if (lastResponse) return lastResponse;
        if (lastError) throw lastError;
        throw new Error("API ÏöîÏ≤≠Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.");
      }

      async function fetchJson(path, options) {
        const response = await fetchWithFallback(path, options);
        const text = await response.text();
        let data = {};

        if (text) {
          try {
            data = JSON.parse(text);
          } catch (parseError) {
            data = { error: text };
          }
        }

        if (!response.ok) {
          const message = data?.error || `ÏöîÏ≤≠ Ïã§Ìå® (${response.status})`;
          const error = new Error(message);
          error.status = response.status;
          error.data = data;
          throw error;
        }

        return data;
      }

      let currentPage = 1;
      let currentCategory = "all";

      // HTML ÏóîÌã∞Ìã∞ Ïù¥Ïä§ÏºÄÏù¥ÌîÑ Ìï®Ïàò (XSS Î∞©ÏßÄ)
      function escapeHtml(unsafe) {
        return unsafe
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/"/g, "&quot;")
          .replace(/'/g, "&#039;");
      }

      // Ïπ¥ÌÖåÍ≥†Î¶¨ ÎùºÎ≤®
      const categoryLabels = {
        policy: "Ï†ïÏ±Ö/Î≤ïÍ∑ú",
        trend: "Ìä∏Î†åÎìú",
        management: "Í≤ΩÏòÅ ÌåÅ",
        ingredients: "ÏãùÏûêÏû¨ Ï†ïÎ≥¥",
        technology: "Í∏∞Ïà†/ÎèÑÍµ¨",
        // ÌïúÍ∏Ä Ïπ¥ÌÖåÍ≥†Î¶¨ÎèÑ ÏßÄÏõê (DBÏóê ÌïúÍ∏ÄÎ°ú Ï†ÄÏû•Îêú Í≤ΩÏö∞)
        "Ï†ïÏ±Ö/Î≤ïÍ∑ú": "Ï†ïÏ±Ö/Î≤ïÍ∑ú",
        Ìä∏Î†åÎìú: "Ìä∏Î†åÎìú",
        "Í≤ΩÏòÅ ÌåÅ": "Í≤ΩÏòÅ ÌåÅ",
        "ÏãùÏûêÏû¨ Ï†ïÎ≥¥": "ÏãùÏûêÏû¨ Ï†ïÎ≥¥",
        "Í∏∞Ïà†/ÎèÑÍµ¨": "Í∏∞Ïà†/ÎèÑÍµ¨",
      };

      // Ïπ¥ÌÖåÍ≥†Î¶¨Î•º CSS ÌÅ¥ÎûòÏä§Î°ú Î≥ÄÌôòÌïòÎäî Ìï®Ïàò
      function getCategoryClass(category) {
        if (!category) return "policy";
        const normalized = category.toLowerCase();

        if (
          normalized.includes("Ï†ïÏ±Ö") ||
          normalized.includes("Î≤ïÍ∑ú") ||
          normalized === "policy"
        )
          return "policy";
        if (normalized.includes("Ìä∏Î†åÎìú") || normalized === "trend")
          return "trend";
        if (
          normalized.includes("Í≤ΩÏòÅ") ||
          normalized.includes("ÌåÅ") ||
          normalized === "management"
        )
          return "management";
        if (
          normalized.includes("ÏãùÏûêÏû¨") ||
          normalized.includes("Ï†ïÎ≥¥") ||
          normalized === "ingredients"
        )
          return "ingredients";
        if (
          normalized.includes("Í∏∞Ïà†") ||
          normalized.includes("ÎèÑÍµ¨") ||
          normalized === "technology"
        )
          return "technology";

        return "policy";
      }

      // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Îâ¥Ïä§ Î∂àÎü¨Ïò§Í∏∞
      document.addEventListener("DOMContentLoaded", () => {
        loadNews();
      });

      // Îâ¥Ïä§ Î™©Î°ù Î°úÎìú
      async function loadNews(page = 1) {
        currentPage = page;
        const newsList = document.getElementById("newsList");

        try {
          const params = new URLSearchParams({
            page,
            limit: 10,
          });

          if (currentCategory !== "all") {
            // ÏòÅÎ¨∏ ÏΩîÎìúÎ•º ÌïúÍ∏Ä Ïπ¥ÌÖåÍ≥†Î¶¨Î°ú Î≥ÄÌôò
            const categoryMap = {
              policy: "Ï†ïÏ±Ö/Î≤ïÍ∑ú",
              trend: "Ìä∏Î†åÎìú",
              management: "Í≤ΩÏòÅ ÌåÅ",
              ingredients: "ÏãùÏûêÏû¨ Ï†ïÎ≥¥",
              technology: "Í∏∞Ïà†/ÎèÑÍµ¨",
            };
            const dbCategory = categoryMap[currentCategory] || currentCategory;
            params.append("category", dbCategory);
          }

          const result = await fetchJson(
            `/api/news-board?${params.toString()}`
          );

          if (!result.success || !result.data) {
            throw new Error(result.error || "Îâ¥Ïä§Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.");
          }

          if (result.data.length === 0) {
            newsList.innerHTML = `
            <div class="empty-state">
              <div class="empty-icon">üì∞</div>
              <div>Îì±Î°ùÎêú Îâ¥Ïä§Í∞Ä ÏóÜÏäµÎãàÎã§</div>
            </div>
          `;
            document.getElementById("pagination").innerHTML = "";
            return;
          }

          // Îâ¥Ïä§ ÏïÑÏù¥ÌÖú ÏÉùÏÑ±
          newsList.innerHTML = result.data
            .map((news) => {
              const excerpt = news.content
                .replace(/<[^>]*>/g, "")
                .substring(0, 150);
              const createdAt = new Date(news.created_at).toLocaleDateString(
                "ko-KR"
              );

              return `
            <div class="news-item" onclick="openNews(${news.id})">
              ${
                news.image_url
                  ? `<img src="${news.image_url}" alt="${news.title}" class="news-item-image" />`
                  : `<div class="news-item-placeholder">üì∞</div>`
              }
              <div class="news-item-content">
                <span class="news-category category-${getCategoryClass(
                  news.category
                )}">
                  ${categoryLabels[news.category] || news.category}
                </span>
                <h3 class="news-item-title">${escapeHtml(news.title)}</h3>
                <p class="news-item-excerpt">${excerpt}...</p>
                <div class="news-meta">
                  <span><i class="fas fa-calendar"></i> ${createdAt}</span>
                  <span><i class="fas fa-eye"></i> ${news.views}Ìöå</span>
                </div>
              </div>
            </div>
          `;
            })
            .join("");

          // ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò
          renderPagination(result.pagination);
        } catch (error) {
          console.error("Load news error:", error);

          let errorMessage = "Îâ¥Ïä§Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§";
          let errorDetails = "";

          if (
            error.message.includes("Failed to fetch") ||
            error.message.includes("NetworkError")
          ) {
            errorMessage = "ÏÑúÎ≤ÑÏóê Ïó∞Í≤∞Ìï† Ïàò ÏóÜÏäµÎãàÎã§";
            errorDetails = `
            <div style="margin-top: 16px; padding: 16px; background: #fff3cd; border-radius: 8px; font-size: 13px; line-height: 1.6;">
              <strong>üîß ÏÑúÎ≤ÑÎ•º Ïã§ÌñâÌï¥Ï£ºÏÑ∏Ïöî:</strong><br>
              1. VS Code ÌÑ∞ÎØ∏ÎÑê Ïó¥Í∏∞ (Ctrl + Î∞±Ìã± ÌÇ§)<br>
              2. Îã§Ïùå Î™ÖÎ†πÏñ¥ Ïã§Ìñâ: <code style="background: #f8f9fa; padding: 2px 6px; border-radius: 4px;">node server.js</code><br>
              3. ÏÑúÎ≤ÑÍ∞Ä <strong>localhost:3003</strong>ÏóêÏÑú Ïã§ÌñâÎêòÎäîÏßÄ ÌôïÏù∏<br>
              4. ÌéòÏù¥ÏßÄÎ•º ÏÉàÎ°úÍ≥†Ïπ®ÌïòÏÑ∏Ïöî
            </div>
          `;
          } else {
            errorDetails = `
            <div style="margin-top: 16px; padding: 16px; background: #fff3cd; border-radius: 8px; font-size: 13px;">
              <strong>ÌôïÏù∏ÏÇ¨Ìï≠:</strong><br>
              - ÏÑúÎ≤ÑÍ∞Ä Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Ïã§Ìñâ Ï§ëÏù∏ÏßÄ ÌôïÏù∏<br>
              - Î∏åÎùºÏö∞Ï†Ä Í∞úÎ∞úÏûê ÎèÑÍµ¨(F12) > ConsoleÏóêÏÑú ÏÉÅÏÑ∏ Ïò§Î•ò ÌôïÏù∏
            </div>
          `;
          }

          newsList.innerHTML = `
          <div class="empty-state">
            <div class="empty-icon">‚ö†Ô∏è</div>
            <div style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">${errorMessage}</div>
            ${errorDetails}
          </div>
        `;
        }
      }

      // ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò Î†åÎçîÎßÅ
      function renderPagination(pagination) {
        const paginationEl = document.getElementById("pagination");
        if (!pagination || pagination.totalPages <= 1) {
          paginationEl.innerHTML = "";
          return;
        }

        let html = "";

        // Ïù¥Ï†Ñ Î≤ÑÌäº
        if (pagination.page > 1) {
          html += `<button class="page-btn" onclick="loadNews(${
            pagination.page - 1
          })">‚Üê</button>`;
        }

        // ÌéòÏù¥ÏßÄ Î≤àÌò∏
        for (let i = 1; i <= pagination.totalPages; i++) {
          if (i === pagination.page) {
            html += `<button class="page-btn active">${i}</button>`;
          } else if (
            i === 1 ||
            i === pagination.totalPages ||
            Math.abs(i - pagination.page) <= 2
          ) {
            html += `<button class="page-btn" onclick="loadNews(${i})">${i}</button>`;
          } else if (i === pagination.page - 3 || i === pagination.page + 3) {
            html += `<span style="padding: 8px;">...</span>`;
          }
        }

        // Îã§Ïùå Î≤ÑÌäº
        if (pagination.page < pagination.totalPages) {
          html += `<button class="page-btn" onclick="loadNews(${
            pagination.page + 1
          })">‚Üí</button>`;
        }

        paginationEl.innerHTML = html;
      }

      // Ïπ¥ÌÖåÍ≥†Î¶¨ ÌïÑÌÑ∞
      function filterCategory(category) {
        currentCategory = category;

        // Î≤ÑÌäº ÌôúÏÑ±Ìôî ÏÉÅÌÉú
        document.querySelectorAll(".category-tab").forEach((btn) => {
          btn.classList.toggle("active", btn.dataset.category === category);
        });

        loadNews(1);
      }

      // Ï∂úÏ≤ò Ï†ïÎ≥¥ Î†åÎçîÎßÅ Ìï®Ïàò
      function renderSourceInfo(news) {
        let sourceInfo = "";

        // source_citationÏù¥ JSON ÌòïÏãùÏù∏ Í≤ΩÏö∞ ÌååÏã±
        let citation = null;
        if (news.source_citation) {
          try {
            citation = JSON.parse(news.source_citation);
          } catch (e) {
            // JSONÏù¥ ÏïÑÎãàÎ©¥ ÌÖçÏä§Ìä∏Î°ú Ï≤òÎ¶¨
            citation = { text: news.source_citation };
          }
        }

        // Ï∂úÏ≤ò Ï†ïÎ≥¥Í∞Ä ÏûàÏúºÎ©¥ ÌëúÏãú
        if (
          citation &&
          (citation.press ||
            citation.journalist ||
            citation.publishedAt ||
            citation.link ||
            citation.text)
        ) {
          sourceInfo =
            '<div class="modal-source-info" style="margin-top: 32px; padding-top: 24px; border-top: 2px solid #f0f0f0;">';
          sourceInfo +=
            '<h4 style="color: var(--text-secondary); margin-bottom: 16px; font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 8px;">';
          sourceInfo += '<i class="fas fa-clipboard-list"></i> Ï∂úÏ≤ò Ï†ïÎ≥¥';
          sourceInfo += "</h4>";
          sourceInfo +=
            '<div style="font-size: 14px; color: var(--text-secondary); line-height: 1.8;">';

          // JSON ÌòïÏãùÏù∏ Í≤ΩÏö∞
          if (
            citation.press ||
            citation.journalist ||
            citation.publishedAt ||
            citation.link
          ) {
            if (citation.press) {
              sourceInfo += `<div style="margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">`;
              sourceInfo += `<i class="fas fa-newspaper" style="color: var(--text-secondary); width: 16px;"></i>`;
              sourceInfo += `<span>Ïñ∏Î°†ÏÇ¨: <strong>${escapeHtml(
                citation.press
              )}</strong></span>`;
              sourceInfo += `</div>`;
            }
            if (citation.journalist) {
              sourceInfo += `<div style="margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">`;
              sourceInfo += `<i class="fas fa-user" style="color: var(--text-secondary); width: 16px;"></i>`;
              sourceInfo += `<span>Í∏∞Ïûê: <strong>${escapeHtml(
                citation.journalist
              )}</strong></span>`;
              sourceInfo += `</div>`;
            }
            if (citation.publishedAt) {
              sourceInfo += `<div style="margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">`;
              sourceInfo += `<i class="fas fa-clock" style="color: var(--text-secondary); width: 16px;"></i>`;
              sourceInfo += `<span>ÏûÖÎ†• ÏãúÍ∞Å: <strong>${escapeHtml(
                citation.publishedAt
              )}</strong></span>`;
              sourceInfo += `</div>`;
            }
            if (citation.link || news.source_url) {
              const link = citation.link || news.source_url;
              sourceInfo += `<div style="margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">`;
              sourceInfo += `<i class="fas fa-link" style="color: var(--text-secondary); width: 16px;"></i>`;
              sourceInfo += `<span>ÏõêÎ¨∏ ÎßÅÌÅ¨: <a href="${escapeHtml(
                link
              )}" target="_blank" rel="noopener" style="color: #03C75A; text-decoration: underline; word-break: break-all;">${escapeHtml(
                link
              )}</a></span>`;
              sourceInfo += `</div>`;
            }
          } else if (citation.text) {
            // ÌÖçÏä§Ìä∏ ÌòïÏãùÏù∏ Í≤ΩÏö∞
            sourceInfo += `<div style="margin-bottom: 8px;">${escapeHtml(
              citation.text
            )}</div>`;
          }

          sourceInfo += "</div></div>";
        } else if (news.source_url) {
          // source_citationÏù¥ ÏóÜÏßÄÎßå source_urlÏù¥ ÏûàÎäî Í≤ΩÏö∞
          sourceInfo =
            '<div class="modal-source" style="margin-top: 32px; padding-top: 24px; border-top: 2px solid #f0f0f0;">';
          sourceInfo += '<i class="fas fa-external-link-alt"></i>';
          sourceInfo += `<a href="${escapeHtml(
            news.source_url
          )}" target="_blank" rel="noopener">ÏõêÎ¨∏ Î≥¥Í∏∞</a>`;
          sourceInfo += "</div>";
        }

        return sourceInfo;
      }

      // Îâ¥Ïä§ ÏÉÅÏÑ∏ Î≥¥Í∏∞
      async function openNews(id) {
        const modal = document.getElementById("newsModal");
        const content = document.getElementById("modalNewsContent");

        modal.classList.add("active");
        content.innerHTML =
          '<div class="loading"><i class="fas fa-spinner fa-spin"></i></div>';

        try {
          const result = await fetchJson(`/api/news-board?id=${id}`);

          if (!result.success || !result.data) {
            throw new Error("Îâ¥Ïä§Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.");
          }

          const news = result.data;
          const createdAt = new Date(news.created_at).toLocaleDateString(
            "ko-KR"
          );

          // XSS Î∞©ÏßÄÎ•º ÏúÑÌï¥ ÏïàÏ†ÑÌïòÍ≤å ÏΩòÌÖêÏ∏† ÏÉùÏÑ±
          // Ïù¥ÎØ∏ÏßÄÎäî content_htmlÏóê Ìè¨Ìï®ÎêòÏñ¥ ÏûàÏúºÎØÄÎ°ú ÏÉÅÎã®Ïóê Î≥ÑÎèÑÎ°ú ÌëúÏãúÌïòÏßÄ ÏïäÏùå
          content.innerHTML = `
          <span class="modal-category category-${getCategoryClass(
            news.category
          )}">
            ${categoryLabels[news.category] || news.category}
          </span>
          <h1 class="modal-title">${escapeHtml(news.title)}</h1>
          <div class="modal-meta">
            <span><i class="fas fa-calendar"></i> ${createdAt}</span>
            <span><i class="fas fa-eye"></i> ${news.views}Ìöå</span>
          </div>
          <div class="modal-body" id="modalBodyContent"></div>
          ${renderSourceInfo(news)}
        `;

          // HTML ÏΩòÌÖêÏ∏†Î•º ÏïàÏ†ÑÌïòÍ≤å Î†åÎçîÎßÅ (HTML ÌÉúÍ∑∏ ÌóàÏö©Ïù¥ ÌïÑÏöîÌïú Í≤ΩÏö∞)
          const modalBodyContent = document.getElementById("modalBodyContent");
          if (modalBodyContent) {
            // ÏÑúÎ≤ÑÏóêÏÑú Ïù¥ÎØ∏ sanitizeÎêú HTMLÏù¥ÎùºÎ©¥ innerHTML ÏÇ¨Ïö©
            // Í∑∏Î†áÏßÄ ÏïäÎã§Î©¥ textContent ÏÇ¨Ïö©
            modalBodyContent.innerHTML = news.content;
          }
        } catch (error) {
          console.error("Open news error:", error);
          content.innerHTML = `
          <div class="empty-state">
            <div class="empty-icon">‚ö†Ô∏è</div>
            <div>Îâ¥Ïä§Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§</div>
          </div>
        `;
        }
      }

      // Î™®Îã¨ Îã´Í∏∞
      function closeModal() {
        document.getElementById("newsModal").classList.remove("active");
      }

      // Î™®Îã¨ Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú Îã´Í∏∞
      document.getElementById("newsModal").addEventListener("click", (e) => {
        if (e.target.id === "newsModal") {
          closeModal();
        }
      });

      // Î°úÍ∑∏Ïù∏ ÏÉÅÌÉú ÌôïÏù∏ Î∞è UI ÏóÖÎç∞Ïù¥Ìä∏ (localStorage Ïö∞ÏÑ†, Supabase ÏÑ∏ÏÖò ÌôïÏù∏)
      async function updateAuthUI() {
        const loginBtn = document.getElementById("loginBtn");
        const signupBtn = document.getElementById("signupBtn");
        const userEmailSpan = document.getElementById("userEmail");
        const logoutBtn = document.getElementById("logoutBtn");
        const authUser = document.getElementById("authUser");
        const userAvatar = document.getElementById("userAvatar");

        let currentUser = null;

        // Î®ºÏ†Ä localStorageÏóêÏÑú ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÌôïÏù∏ (Îπ†Î•∏ Ï¥àÍ∏∞ Î†åÎçîÎßÅ)
        const isLoggedIn = localStorage.getItem("isLoggedIn") === "true";
        const rawUser = localStorage.getItem("userData");

        if (isLoggedIn && rawUser) {
          try {
            currentUser = JSON.parse(rawUser);
            console.log("[news-board] localStorage ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥:", {
              email: currentUser.email,
            });

            // Ï¶âÏãú UI ÏóÖÎç∞Ïù¥Ìä∏
            if (loginBtn) loginBtn.style.display = "none";
            if (signupBtn) signupBtn.style.display = "none";
            if (authUser) authUser.style.display = "flex";
            if (userEmailSpan) {
              userEmailSpan.textContent = currentUser.email || "ÎßàÏù¥ÌéòÏù¥ÏßÄ";
              userEmailSpan.title = currentUser.email
                ? `${currentUser.email} (ÎßàÏù¥ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô)`
                : "ÌÅ¥Î¶≠ÌïòÏó¨ ÎßàÏù¥ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô";
            }
            if (userAvatar) {
              const base = currentUser.displayName || currentUser.email || "U";
              userAvatar.textContent = (base.trim()[0] || "U").toUpperCase();
            }
            if (logoutBtn) {
              logoutBtn.style.display = "inline-flex";
              logoutBtn.onclick = async function () {
                if (!confirm("Î°úÍ∑∏ÏïÑÏõÉ ÌïòÏãúÍ≤†ÏäµÎãàÍπå?")) return;
                try {
                  if (window.authState?.signOut) {
                    await window.authState.signOut();
                  }
                } finally {
                  localStorage.removeItem("isLoggedIn");
                  localStorage.removeItem("userData");
                  location.href = "./login.html";
                }
              };
            }
          } catch (error) {
            console.error("[news-board] userData ÌååÏã± Ïò§Î•ò:", error);
            currentUser = null;
          }
        }

        // Supabase ÏÑ∏ÏÖò ÌôïÏù∏ (auth-state.jsÍ∞Ä Î°úÎìúÎêú Í≤ΩÏö∞)
        if (window.authState?.supabase) {
          try {
            const { data } = await window.authState.supabase.auth.getSession();
            const session = data?.session;

            if (session?.user) {
              // Supabase ÏÑ∏ÏÖòÏù¥ ÏûàÏúºÎ©¥ Supabase ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÏÇ¨Ïö©
              currentUser = {
                email: session.user.email,
                displayName:
                  session.user.user_metadata?.full_name || session.user.email,
                id: session.user.id,
              };

              console.log("[news-board] Supabase ÏÑ∏ÏÖò ÌôïÏù∏Îê®:", {
                email: currentUser.email,
              });

              // UI ÏóÖÎç∞Ïù¥Ìä∏
              if (loginBtn) loginBtn.style.display = "none";
              if (signupBtn) signupBtn.style.display = "none";
              if (authUser) authUser.style.display = "flex";
              if (userEmailSpan) {
                userEmailSpan.textContent = currentUser.email || "ÎßàÏù¥ÌéòÏù¥ÏßÄ";
                userEmailSpan.title = currentUser.email
                  ? `${currentUser.email} (ÎßàÏù¥ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô)`
                  : "ÌÅ¥Î¶≠ÌïòÏó¨ ÎßàÏù¥ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô";
              }
              if (userAvatar) {
                const base =
                  currentUser.displayName || currentUser.email || "U";
                userAvatar.textContent = (base.trim()[0] || "U").toUpperCase();
              }
              if (logoutBtn) {
                logoutBtn.style.display = "inline-flex";
                logoutBtn.onclick = async function () {
                  if (!confirm("Î°úÍ∑∏ÏïÑÏõÉ ÌïòÏãúÍ≤†ÏäµÎãàÍπå?")) return;
                  try {
                    if (window.authState?.signOut) {
                      await window.authState.signOut();
                    }
                  } finally {
                    localStorage.removeItem("isLoggedIn");
                    localStorage.removeItem("userData");
                    location.href = "./login.html";
                  }
                };
              }
            } else if (!isLoggedIn || !rawUser) {
              // ÏÑ∏ÏÖòÏù¥ ÏóÜÍ≥† localStorageÏóêÎèÑ ÏóÜÏúºÎ©¥ Î°úÍ∑∏ÏïÑÏõÉ ÏÉÅÌÉú
              if (authUser) authUser.style.display = "none";
              if (loginBtn) loginBtn.style.display = "inline-flex";
              if (signupBtn) signupBtn.style.display = "inline-flex";
              if (logoutBtn) logoutBtn.style.display = "none";
            }
          } catch (error) {
            console.error("[news-board] Supabase ÏÑ∏ÏÖò ÌôïÏù∏ Ïò§Î•ò:", error);
            // ÏóêÎü¨ Î∞úÏÉù Ïãú localStorage Í∏∞Î∞òÏúºÎ°ú Ïú†ÏßÄ
            if (!currentUser) {
              if (authUser) authUser.style.display = "none";
              if (loginBtn) loginBtn.style.display = "inline-flex";
              if (signupBtn) signupBtn.style.display = "inline-flex";
              if (logoutBtn) logoutBtn.style.display = "none";
            }
          }
        } else if (!currentUser) {
          // auth-state.jsÍ∞Ä ÏóÜÍ≥† localStorageÏóêÎèÑ ÏóÜÏúºÎ©¥ Î°úÍ∑∏ÏïÑÏõÉ ÏÉÅÌÉú
          if (authUser) authUser.style.display = "none";
          if (loginBtn) loginBtn.style.display = "inline-flex";
          if (signupBtn) signupBtn.style.display = "inline-flex";
          if (logoutBtn) logoutBtn.style.display = "none";
        }
      }

      // Î™®Î∞îÏùº Î©îÎâ¥ ÌÜ†Í∏Ä Í∏∞Îä•
      function initMobileMenu() {
        const mobileMenuToggle = document.getElementById("mobileMenuToggle");
        const sidebar = document.getElementById("sidebar");
        const sidebarOverlay = document.getElementById("sidebarOverlay");

        if (mobileMenuToggle) {
          mobileMenuToggle.addEventListener("click", () => {
            sidebar.classList.toggle("open");
            sidebarOverlay.classList.toggle("active");
          });
        }

        if (sidebarOverlay) {
          sidebarOverlay.addEventListener("click", () => {
            sidebar.classList.remove("open");
            sidebarOverlay.classList.remove("active");
          });
        }

        // ÏÇ¨Ïù¥ÎìúÎ∞î ÎßÅÌÅ¨ ÌÅ¥Î¶≠ Ïãú Î™®Î∞îÏùºÏóêÏÑú ÏÇ¨Ïù¥ÎìúÎ∞î Îã´Í∏∞
        document.querySelectorAll(".sidebar-item").forEach((item) => {
          item.addEventListener("click", () => {
            if (window.innerWidth <= 768) {
              sidebar.classList.remove("open");
              sidebarOverlay.classList.remove("active");
            }
          });
        });
      }

      // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïã§Ìñâ
      (async function () {
        initMobileMenu();

        // Ï¶âÏãú localStorage Í∏∞Î∞òÏúºÎ°ú UI ÏóÖÎç∞Ïù¥Ìä∏ (Îπ†Î•∏ Ï¥àÍ∏∞ Î†åÎçîÎßÅ)
        await updateAuthUI();

        // auth-state.jsÍ∞Ä Î°úÎìúÎê† ÎïåÍπåÏßÄ ÎåÄÍ∏∞ ÌõÑ Ïû¨Ïã§Ìñâ
        let waitCount = 0;
        const maxWait = 50; // 5Ï¥à ÎåÄÍ∏∞
        const checkAuthState = setInterval(() => {
          if (window.authState?.supabase) {
            clearInterval(checkAuthState);
            updateAuthUI();
            window.addEventListener("auth:state-changed", updateAuthUI);
            if (window.authState?.syncSession) {
              window.authState.syncSession();
            }
          } else if (waitCount >= maxWait) {
            clearInterval(checkAuthState);
            // auth-state.jsÍ∞Ä Î°úÎìúÎêòÏßÄ ÏïäÏïÑÎèÑ localStorage Í∏∞Î∞òÏúºÎ°ú ÌëúÏãú
            window.addEventListener("auth:state-changed", updateAuthUI);
          }
          waitCount++;
        }, 100);
      })();

      // ÌïòÎã®Î∞î Ïä¨ÎùºÏù¥Îìú Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ Ï†úÏñ¥
      (function () {
        const sideNav = document.querySelector(".side-nav");
        if (!sideNav) return;

        function updateSideNavIndicator() {
          // PC ÌôîÎ©¥ÏóêÏÑúÎäî Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ Ïà®Í∏∞Í∏∞ (Ï†àÎåÄ Í±¥Îì§ÏßÄ ÏïäÏùå)
          if (window.innerWidth > 992) {
            sideNav.classList.add("hide-indicator");
            return;
          }

          // Î™®Î∞îÏùº ÌôîÎ©¥ÏóêÏÑúÎßå ÎèôÏûë
          const scrollLeft = Math.round(sideNav.scrollLeft);
          const scrollWidth = sideNav.scrollWidth;
          const clientWidth = sideNav.clientWidth;

          // Ïä§ÌÅ¨Î°§Ïù¥ ÎÅùÏóê ÎèÑÎã¨ÌñàÎäîÏßÄ ÌôïÏù∏
          const remainingScroll = scrollWidth - scrollLeft - clientWidth;

          if (remainingScroll <= 3 || scrollWidth <= clientWidth) {
            // Ïä§ÌÅ¨Î°§Ïù¥ ÎÅùÏóê ÎèÑÎã¨ÌïòÍ±∞ÎÇò Ïä§ÌÅ¨Î°§Ïù¥ ÌïÑÏöî ÏóÜÏúºÎ©¥ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ Ïà®Í∏∞Í∏∞
            sideNav.classList.add("hide-indicator");
          } else {
            // Ïä§ÌÅ¨Î°§ Í∞ÄÎä•ÌïòÎ©¥ Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ Î≥¥Ïù¥Í∏∞
            sideNav.classList.remove("hide-indicator");
          }
        }

        // DOMÏù¥ ÏôÑÏ†ÑÌûà Î°úÎìúÎêú ÌõÑ Ï¥àÍ∏∞ ÏÉÅÌÉú ÌôïÏù∏
        function initIndicator() {
          setTimeout(() => {
            updateSideNavIndicator();
          }, 300);
        }

        // Ï¥àÍ∏∞ ÏÉÅÌÉú ÌôïÏù∏
        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", initIndicator);
        } else {
          initIndicator();
        }

        // Ïä§ÌÅ¨Î°§ Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà
        sideNav.addEventListener("scroll", updateSideNavIndicator, {
          passive: true,
        });

        // Î¶¨ÏÇ¨Ïù¥Ï¶à Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà
        let resizeTimeout;
        window.addEventListener("resize", () => {
          clearTimeout(resizeTimeout);
          resizeTimeout = setTimeout(updateSideNavIndicator, 150);
        });

        // ÌéòÏù¥ÏßÄ Î°úÎìú ÏôÑÎ£å ÌõÑ Ïû¨ÌôïÏù∏
        window.addEventListener("load", () => {
          setTimeout(updateSideNavIndicator, 500);
        });

        // MutationObserverÎ°ú DOM Î≥ÄÍ≤Ω Í∞êÏßÄ (ÎèôÏ†Å ÏΩòÌÖêÏ∏† ÎåÄÏùë)
        const observer = new MutationObserver(() => {
          setTimeout(updateSideNavIndicator, 100);
        });
        observer.observe(sideNav, { childList: true, subtree: true });
      })();
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.4/dist/umd/supabase.min.js"
      integrity="sha384-GFr3yTh5lJznCbZfpTtXnwboFsxqtTQoeTZCRHhE0579KrRmlCzen5AA8ohaB5ug"
      crossorigin="anonymous"
    ></script>
    <script src="./assets/auth-state.js?v=202410"></script>
  </body>
</html>
