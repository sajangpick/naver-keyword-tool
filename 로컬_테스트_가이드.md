# 🧪 ChatGPT 로컬 테스트 가이드

## ⚠️ 현재 문제

현재 `127.0.0.1:5501`에서 접속 중이지만, 서버가 실행되지 않아 연결이 안 됩니다.

## ✅ 올바른 테스트 방법

### 방법 1: 서버 실행 후 접속 (권장)

#### 1단계: 서버 실행

터미널(또는 PowerShell)을 열고 프로젝트 폴더로 이동한 후:

```bash
# 방법 1: pnpm 사용 (권장)
pnpm install
pnpm start

# 방법 2: npm 사용
npm install
npm start

# 방법 3: 직접 실행
node server.js
```

서버가 실행되면 다음과 같은 메시지가 보입니다:
```
🚀 통합 API 서버가 시작되었습니다!
🌐 서버 주소: http://0.0.0.0:3003
```

#### 2단계: 브라우저에서 접속

서버가 실행된 상태에서 브라우저에서 다음 주소로 접속:

```
http://localhost:3003/ChatGPT.html
```

또는

```
http://127.0.0.1:3003/ChatGPT.html
```

#### 3단계: 테스트

1. 페이지가 정상적으로 로드되는지 확인
2. 연결 상태가 "연결됨"으로 표시되는지 확인
3. 질문 입력하여 테스트:
   - "최근 소상공인 지원금에 대한 뉴스를 알려줘"
   - "김치찌개 레시피 알려줘"
   - "창업 지원금 정책이 있나요?"

### 방법 2: 테스트 HTML 파일 사용

#### 1단계: 서버 실행

위의 방법 1과 동일하게 서버 실행

#### 2단계: 테스트 페이지 접속

```
http://localhost:3003/test-chat-function-calling.html
```

#### 3단계: 각 테스트 케이스 실행

각 버튼을 클릭하여 테스트 진행

## 🔍 문제 해결

### 문제 1: "포트가 이미 사용 중입니다" 오류

**원인:** 다른 프로그램이 3003 포트를 사용 중

**해결:**
```bash
# Windows에서 포트 사용 확인
netstat -ano | findstr :3003

# 사용 중인 프로세스 종료 또는 다른 포트 사용
# .env 파일에 PORT=3004 추가하거나
# server.js에서 PORT 번호 변경
```

### 문제 2: "모듈을 찾을 수 없습니다" 오류

**원인:** 패키지가 설치되지 않음

**해결:**
```bash
pnpm install
```

### 문제 3: "OpenAI API 키가 설정되지 않았습니다" 오류

**원인:** 환경 변수가 설정되지 않음

**해결:**
1. `.env` 파일 생성 (프로젝트 루트에)
2. 다음 내용 추가:
```
OPENAI_API_KEY=your_openai_api_key_here
```

### 문제 4: 서버는 실행되는데 연결이 안 됨

**확인사항:**
1. 브라우저 주소가 `http://localhost:3003/...` 인지 확인
2. 서버가 정상 실행 중인지 확인 (터미널 메시지 확인)
3. 브라우저 콘솔(F12)에서 오류 확인

## 📝 체크리스트

테스트 전 확인사항:

- [ ] 서버가 실행 중 (`pnpm start` 또는 `node server.js`)
- [ ] 브라우저 주소가 `http://localhost:3003/...`
- [ ] `.env` 파일에 `OPENAI_API_KEY` 설정됨
- [ ] 연결 상태가 "연결됨"으로 표시됨

## 🎯 빠른 테스트

터미널에서 서버 실행:
```bash
pnpm start
```

브라우저에서:
```
http://localhost:3003/ChatGPT.html
```

질문 입력:
```
최근 소상공인 지원금에 대한 뉴스를 알려줘
```

## 💡 참고

- Live Server(5501 포트)는 정적 파일만 제공하므로 API 호출이 불가능합니다
- 반드시 Node.js 서버(3003 포트)를 실행해야 합니다
- 서버가 실행 중이어야 ChatGPT 기능이 작동합니다

