<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; connect-src 'self' https://*.supabase.co https://naver-keyword-tool.onrender.com wss://*.supabase.co; img-src 'self' data: https://images.unsplash.com https:; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; font-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com data:; frame-ancestors 'self'; base-uri 'self'; form-action 'self'"
    />
    <meta name="referrer" content="no-referrer" />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <title>사장픽(sajang pick) - 메인 허브</title>
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='32' r='30' fill='%2303c75a'/%3E%3Ctext x='32' y='40' text-anchor='middle' font-size='28' font-family='Arial' fill='white'%3ESP%3C/text%3E%3C/svg%3E"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      rel="stylesheet"
      integrity="sha384-t1nt8BQoYMLFN5p42tRAtuAAFQaCQODekUVeKKZrEnEyp4H2R0RHFz0KWpmj7i8g"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />
    <script src="/assets/common-header.js?v=20251029" defer></script>
    <style>
      :root {
        --accent-color: #ff7b54;
        --bg-color: #fff7f0;
        --text-primary: #201a17;
        --text-secondary: #7a6a60;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        background: var(--bg-color);
        min-height: 100vh;
        color: var(--text-primary);
        margin: 0;
        padding: 0;
        width: 100%;
        overflow-x: hidden;
      }

      /* 모바일에서 정확한 크기 보장 */
      @media (max-width: 768px) {
        html {
          width: 100%;
          overflow-x: hidden;
          /* 모바일 브라우저 주소창 높이 문제 해결 */
          height: -webkit-fill-available;
        }
        
        body {
          width: 100%;
          overflow-x: hidden;
          /* 모바일 브라우저 주소창 높이 문제 해결 */
          min-height: -webkit-fill-available;
          min-height: 100dvh; /* 동적 뷰포트 높이 사용 */
        }
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      .is-hidden {
        display: none !important;
      }

      .header {
        position: sticky;
        top: 0;
        z-index: 50;
        background: var(--bg-color);
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        box-shadow: none;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .header.header-hidden {
        transform: translateY(-100%);
      }

      .header-inner {
        max-width: 100%;
        margin: 0;
        padding: 12px 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        position: relative;
        box-sizing: border-box;
      }

      @media (max-width: 768px) {
        .header-inner {
          padding: 12px 16px;
          flex-wrap: wrap;
          box-sizing: border-box;
          width: 100%;
          max-width: 100%;
        }
        
        .header-slogan {
          font-size: 12px;
          position: static;
          transform: none;
          order: 3;
          width: 100%;
          text-align: center;
          margin-top: 8px;
        }
        
        .logo-container {
          order: 1;
          gap: 8px;
        }
        
        .header-auth {
          order: 2;
        }

        .logo-icon {
          width: 26px;
          height: 26px;
          font-size: 13px;
        }

        .logo-text {
          font-size: 12px;
        }
      }

      @media (max-width: 480px) {
        .header-inner {
          padding: 10px 16px;
          gap: 12px;
          box-sizing: border-box;
          width: 100%;
          max-width: 100%;
        }
        
        .header-slogan {
          display: none;
        }

        .logo-container {
          gap: 6px;
        }
      }

      @media (max-width: 360px) {
        .header-inner {
          padding: 8px 16px;
          gap: 0;
          min-height: auto;
          flex-wrap: nowrap;
          justify-content: space-between;
          align-items: center;
          box-sizing: border-box;
          width: 100%;
          max-width: 100%;
        }

        .logo-container {
          gap: 4px;
          flex: 0 1 auto;
          min-width: 0;
          margin-right: auto;
        }

        .logo-icon {
          width: 19px;
          height: 19px;
          font-size: 10px;
          flex-shrink: 0;
        }

        .logo-text {
          font-size: 11px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 120px;
        }

        .header-slogan {
          display: none;
        }

        .header-auth {
          flex-shrink: 0;
          margin-left: auto;
          margin-right: 0;
          max-width: 100%;
          box-sizing: border-box;
        }

        .auth-buttons {
          gap: 2px;
          flex-wrap: nowrap;
          justify-content: flex-end;
          box-sizing: border-box;
        }

        .auth-btn {
          height: 28px;
          padding: 0 6px;
          font-size: 9px;
          min-width: auto;
          flex-shrink: 0;
          box-sizing: border-box;
          white-space: nowrap;
        }

        .auth-btn i {
          font-size: 9px;
          margin-right: 2px;
        }

        .auth-btn span {
          font-size: 9px;
          white-space: nowrap;
        }

        .auth-btn--ghost {
          display: none;
        }
      }

      .header-left {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .header-menu-btn {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        border: none;
        background: rgba(255, 126, 70, 0.15);
        color: var(--accent-color);
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: transform 0.2s ease, background 0.2s ease;
      }

      .header-menu-btn:hover {
        transform: translateY(-2px);
        background: rgba(255, 126, 70, 0.25);
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 800;
        font-size: 12px;
        color: var(--text-primary);
        cursor: pointer;
        flex: 0 0 auto;
      }

      .logo-icon {
        width: 28px;
        height: 28px;
        border-radius: 12px;
        background: var(--accent-color);
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
      }

      .logo-text {
        letter-spacing: -0.03em;
        text-transform: lowercase;
        font-size: 12px;
      }

      .header-slogan {
        font-size: 16px;
        font-weight: 600;
        color: var(--text-secondary);
        margin: 0;
        white-space: nowrap;
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1;
      }

      @media (max-width: 768px) {
        .logo-icon {
          width: 26px;
          height: 26px;
          font-size: 13px;
        }

        .logo-text {
          font-size: 12px;
        }
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 20px;
      }

      .header-auth {
        display: flex;
        align-items: center;
        flex: 0 0 auto;
        margin-left: auto;
      }

      .auth-buttons {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .auth-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        height: 44px;
        padding: 0 22px;
        border-radius: 12px;
        font-weight: 700;
        font-size: 14px;
        border: 1px solid rgba(0, 0, 0, 0.05);
        background: #fff;
        color: var(--text-primary);
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease, border 0.2s ease;
      }

      .auth-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 18px rgba(0, 0, 0, 0.08);
      }

      .auth-btn--primary {
        background: transparent;
        color: var(--accent-color);
        border: 1px solid var(--accent-color);
      }

      .auth-btn--primary:hover {
        background: var(--accent-color);
        color: #fff;
        box-shadow: 0 8px 18px rgba(255, 126, 70, 0.3);
        transform: translateY(-1px);
      }

      .auth-btn--ghost {
        background: transparent;
        color: var(--text-secondary);
      }

      .auth-btn--ghost:hover {
        border-color: var(--accent-color);
        color: var(--accent-color);
      }

      .auth-user {
        display: none;
        align-items: center;
        gap: 14px;
        padding: 10px 16px;
        border-radius: 16px;
        background: rgba(3, 199, 90, 0.12);
        color: var(--text-primary);
      }

      .auth-user__avatar {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        background: var(--accent-color);
        color: #fff;
        font-weight: 700;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
      }

      .auth-user__meta {
        display: flex;
        flex-direction: column;
        line-height: 1.3;
      }

      .auth-user__label {
        font-size: 11px;
        font-weight: 600;
        color: var(--text-secondary);
        letter-spacing: 0.05em;
        text-transform: uppercase;
      }

      .auth-user__email {
        font-size: 14px;
        font-weight: 600;
        color: var(--text-primary);
      }

      .auth-user__logout {
        height: 36px;
        padding: 0 16px;
        border-radius: 10px;
        border: 1px solid rgba(0, 0, 0, 0.08);
        background: #fff;
        color: var(--accent-color);
        font-weight: 600;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        transition: background 0.2s ease, transform 0.2s ease;
      }

      .auth-user__logout:hover {
        background: rgba(255, 126, 70, 0.12);
        transform: translateY(-2px);
      }

      @media (max-width: 768px) {
        .auth-btn {
          height: 36px;
          padding: 0 14px;
          font-size: 12px;
        }

        .auth-user {
          padding: 6px 10px;
          gap: 8px;
        }

        .auth-user__avatar {
          width: 28px;
          height: 28px;
          font-size: 12px;
        }

        .auth-user__email {
          font-size: 11px;
        }

        .auth-user__logout {
          height: 30px;
          padding: 0 10px;
          font-size: 11px;
        }
      }

      .main-layout {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: 96px 1fr;
        gap: 32px;
        padding: 32px 32px 64px;
      }

      @media (max-width: 992px) {
        .main-layout {
          grid-template-columns: 1fr;
          padding: 0 16px;
          gap: 0;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          min-height: calc(100vh - 80px);
          box-sizing: border-box;
          width: 100%;
          max-width: 100%;
          overflow-x: hidden;
        }
      }

      @media (max-width: 360px) {
        .main-layout {
          padding: 0 12px;
          gap: 0;
          width: 100%;
          max-width: 100%;
          box-sizing: border-box;
          overflow-x: hidden;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          min-height: calc(100vh - 60px);
        }
      }

      /* Left thin sidebar + centered hero layout to mimic provided design */
      .ai-hero-wrap {
        display: block;
        margin: 0;
        margin-left: 0;
        padding: 0;
        background: transparent;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
      }

      @media (max-width: 360px) {
        .ai-hero-wrap {
          width: 100%;
          max-width: 100%;
          padding: 0;
          margin: 0;
          box-sizing: border-box;
          overflow-x: hidden;
        }
      }

      /* small vertical nav on left (floating card style) */
      .side-nav {
        background: #ffe8d9;
        border-radius: 18px;
        padding: 18px 11px;
        display: flex;
        flex-direction: column;
        gap: 14px;
        align-items: center;
        position: fixed;
        left: 20px;
        top: 120px;
        width: 66px;
        height: auto;
        max-height: calc(100vh - 160px);
        overflow-y: auto;
        z-index: 40;
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.12);
      }

      @media (max-width: 992px) {
        /* 홈화면(index.html)에서만 하단바 숨김 */
        body.index-page .side-nav {
          display: none !important;
        }

        .side-nav {
          position: fixed;
          bottom: 20px;
          left: 50%;
          transform: translateX(-50%);
          top: auto;
          flex-direction: row;
          width: auto;
          min-width: calc(100vw - 40px);
          max-width: fit-content;
          padding: 12px 16px;
          overflow-x: auto;
          overflow-y: hidden;
          gap: 8px;
          border-radius: 24px;
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
          z-index: 100;
          justify-content: flex-start;
          -webkit-overflow-scrolling: touch;
          touch-action: pan-x;
          scrollbar-width: thin;
        }

        .side-nav::-webkit-scrollbar {
          height: 4px;
        }

        .side-nav::-webkit-scrollbar-track {
          background: rgba(0, 0, 0, 0.05);
          border-radius: 2px;
        }

        .side-nav::-webkit-scrollbar-thumb {
          background: rgba(255, 126, 70, 0.4);
          border-radius: 2px;
        }

        .side-nav::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 126, 70, 0.6);
        }

        .side-nav .menu-item {
          flex-direction: column;
          min-width: 0;
          padding: 8px 6px;
          font-size: 8px;
          flex: 0 0 auto;
          flex-shrink: 0;
        }

        .side-nav .menu-item .ico {
          width: 32px;
          height: 32px;
          font-size: 14px;
        }

        .side-nav .menu-item.active {
          background: #ffffff;
          color: #ff7e46;
        }

        .side-nav .menu-item.active .ico {
          color: #ff7e46;
          background: rgba(255, 126, 70, 0.1);
        }

        .main-content {
          padding-left: 0;
          padding-bottom: 90px;
        }
      }

      @media (max-width: 360px) {
        .side-nav {
          bottom: 12px;
          min-width: calc(100vw - 16px);
          max-width: fit-content;
          padding: 8px 4px;
          gap: 2px;
          border-radius: 18px;
          overflow-x: auto;
          overflow-y: hidden;
          justify-content: flex-start;
          -webkit-overflow-scrolling: touch;
          touch-action: pan-x;
          scrollbar-width: thin;
        }

        .side-nav::-webkit-scrollbar {
          height: 3px;
        }

        .side-nav::-webkit-scrollbar-track {
          background: rgba(0, 0, 0, 0.05);
          border-radius: 2px;
        }

        .side-nav::-webkit-scrollbar-thumb {
          background: rgba(255, 126, 70, 0.4);
          border-radius: 2px;
        }

        .side-nav .menu-item {
          min-width: 40px;
          padding: 4px 6px;
          font-size: 6px;
          flex: 0 0 auto;
          flex-shrink: 0;
          gap: 2px;
        }

        .side-nav .menu-item .ico {
          width: 22px;
          height: 22px;
          font-size: 10px;
        }

        .side-nav .menu-item span:not(.ico) {
          font-size: 6px;
          word-break: keep-all;
          line-height: 1.2;
          text-align: center;
        }

        .side-nav .menu-item:hover .ico {
          background: #ffffff;
        }

        .side-nav .menu-item.active {
          background: #ffffff;
          color: #ff7e46;
        }

        .side-nav .menu-item.active .ico {
          color: #ff7e46;
          background: rgba(255, 126, 70, 0.1);
        }

        .main-content {
          padding-bottom: 70px;
        }
      }

      /* 기본 컨테이너 스타일이 없어서 일부 레이아웃이 흐트러질 수 있어 추가합니다 */
      .container {
        max-width: 100%;
        margin: 0;
        padding: 0;
        display: grid;
        grid-template-columns: 1fr;
        background: transparent;
      }

      .side-nav .menu-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 3px;
        padding: 9px 6px;
        color: #5a5a5a;
        text-decoration: none;
        font-weight: 500;
        font-size: 9px;
        border-radius: 11px;
        transition: all 0.3s ease;
        width: 43px;
        position: relative;
        background: transparent;
      }
      
      .side-nav .menu-item:hover {
        background: #ffffff;
        color: #ff7e46;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 126, 70, 0.3);
      }
      
      .side-nav .menu-item:hover .ico {
        color: #ff7e46;
        background: #ffffff;
      }

      .side-nav .menu-item.active {
        background: #ffffff;
        color: #ff7e46;
      }

      .side-nav .menu-item.active .ico {
        color: #ff7e46;
        background: rgba(255, 126, 70, 0.1);
      }

      .side-nav .ico {
        width: 29px;
        height: 29px;
        border-radius: 7px;
        display: grid;
        place-items: center;
        background: transparent;
        color: #5a5a5a;
        font-size: 13px;
        transition: all 0.3s ease;
      }

      /* main hero column content wrapper - centered content */
      .hero-main {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 0;
        width: 100%;
        flex-grow: 0;
        padding: 0;
        background: transparent;
        min-height: calc(100vh - 200px);
      }

      @media (max-width: 768px) {
        .hero-main {
          min-height: calc(100vh - 140px);
          padding: 0;
          justify-content: center;
          display: flex;
          flex-direction: column;
          align-items: center;
        }
      }

      @media (max-width: 360px) {
        .hero-main {
          padding: 0;
          width: 100%;
          max-width: 100%;
          box-sizing: border-box;
          min-height: calc(100vh - 120px);
          justify-content: center;
          display: flex;
          flex-direction: column;
          align-items: center;
        }
      }

      .hero-card {
        display: flex;
        flex-direction: column;
        gap: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border-radius: 0;
        padding: 0 20px 24px 20px;
        box-shadow: none;
        margin-top: 0;
      }

      @media (max-width: 768px) {
        .hero-card {
          padding: 0 12px 20px 12px;
        }
      }

      @media (max-width: 360px) {
        .hero-card {
          padding: 0 12px 4px 12px;
          width: 100%;
          max-width: 100%;
          box-sizing: border-box;
          margin-top: 0;
          overflow-x: hidden;
        }
      }

      @media (max-width: 768px) {
        .hero-card {
          padding: 0 16px 12px 16px;
          box-sizing: border-box;
          width: 100%;
          max-width: 100%;
          overflow-x: hidden;
        }
      }

      .hero-left {
        display: flex;
        flex-direction: column;
        gap: 0;
        width: 100%;
        max-width: 900px;
        margin: 0 auto;
        align-items: center;
      }

      @media (max-width: 768px) {
        .hero-left {
          gap: 0;
        }
      }

      @media (max-width: 360px) {
        .hero-left {
          gap: 0;
        }
      }

      @media (max-width: 360px) {
        .hero-left {
          width: 100%;
          max-width: 100%;
          padding: 0;
          box-sizing: border-box;
          overflow-x: hidden;
        }
      }

      @media (max-width: 768px) {
        .hero-left {
          width: 100%;
          max-width: 100%;
          box-sizing: border-box;
          overflow-x: hidden;
        }
      }

      .hero-right { display: none; }

      .center-logo {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        margin-bottom: 0;
        padding: 24px 0 16px;
        width: 100%;
      }

      .center-logo img { height: 40px; width: auto; }

      /* pill-style input and chips */
      .chat-pills {
        display: flex;
        gap: 10px;
        margin-bottom: 14px;
        flex-wrap: wrap;
        justify-content: flex-start;
      }
      .chat-pill {
        padding: 7px 12px;
        border-radius: 999px;
        background: rgba(0,0,0,0.05);
        color: #6b655f;
        font-weight: 600;
        font-size: 12px;
        border: 1px solid rgba(0,0,0,0.03);
      }

      .chat-input {
        width: 100%;
        max-width: 100%;
        border-radius: 28px;
        padding: 20px 24px;
        box-shadow: 0 12px 32px rgba(255, 126, 70, 0.15), 0 4px 12px rgba(0,0,0,0.1);
        display: flex;
        align-items: center;
        gap: 16px;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        margin-bottom: 32px;
        border: 2px solid rgba(255, 126, 70, 0.2);
        transition: all 0.3s ease;
        position: relative;
      }

      @media (max-width: 768px) {
        .chat-input {
          padding: 18px 16px;
          gap: 10px;
          border-radius: 20px;
          margin-bottom: 12px;
          width: 100%;
          max-width: 100%;
          box-sizing: border-box;
          overflow-x: hidden;
        }
      }

      @media (max-width: 360px) {
        .chat-input {
          padding: 12px 12px;
          gap: 6px;
          border-radius: 12px;
          margin-bottom: 8px;
          width: 100%;
          max-width: 100%;
          box-sizing: border-box;
          flex-wrap: nowrap;
          position: relative;
          overflow-x: hidden;
        }
      }
      
      .chat-input:hover {
        box-shadow: 0 16px 40px rgba(255, 126, 70, 0.2), 0 6px 16px rgba(0,0,0,0.12);
        border-color: rgba(255, 126, 70, 0.3);
        transform: translateY(-2px);
      }
      
      .chat-input:focus-within {
        box-shadow: 0 20px 48px rgba(255, 126, 70, 0.25), 0 8px 20px rgba(0,0,0,0.15);
        border-color: var(--accent-color);
      }
      .chat-input textarea { 
        min-height: 56px; 
        border-radius: 18px; 
        padding: 16px 20px; 
        font-size: 16px;
        border: none;
        outline: none;
        resize: none;
        background: rgba(255, 126, 70, 0.05);
        flex: 1;
        font-family: inherit;
        color: #333;
        transition: background-color 0.2s ease;
      }

      @media (max-width: 768px) {
        .chat-input textarea {
          min-height: 70px;
          padding: 16px 12px;
          font-size: 14px;
          border-radius: 14px;
          flex: 1 1 auto;
          min-width: 0;
        }
      }

      @media (max-width: 360px) {
        .chat-input textarea {
          min-height: 64px;
          max-height: 120px;
          padding: 12px 8px;
          font-size: 10px;
          border-radius: 6px;
          overflow-y: auto;
          flex: 1 1 auto;
          min-width: 0;
          width: auto;
        }
      }
      
      .chat-input textarea:focus {
        background: rgba(255, 126, 70, 0.08);
      }
      
      .chat-input textarea::placeholder {
        color: #999;
        font-weight: 500;
      }
      .chat-input button { 
        border-radius: 18px; 
        width: 64px; 
        height: 64px; 
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, var(--accent-color) 0%, #ff9068 100%);
        color: #fff;
        border: none;
        font-size: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 8px 20px rgba(255, 126, 70, 0.3);
        position: relative;
        overflow: hidden;
      }

      @media (max-width: 768px) {
        .chat-input button {
          width: 48px;
          height: 48px;
          font-size: 16px;
          border-radius: 14px;
          flex-shrink: 0;
          flex-grow: 0;
          min-width: 48px;
        }
      }

      @media (max-width: 360px) {
        .chat-input button {
          width: 32px;
          height: 32px;
          font-size: 10px;
          border-radius: 6px;
          flex-shrink: 0;
          flex-grow: 0;
          /* 전송 버튼이 항상 보이도록 */
          position: relative;
          z-index: 10;
          min-width: 32px; /* 최소 너비 보장 */
        }
      }
      
      .chat-input button * {
        pointer-events: none;
      }
      
      .chat-input button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
        transition: left 0.5s ease;
      }
      
      .chat-input button:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 24px rgba(255, 126, 70, 0.4);
        background: linear-gradient(135deg, #ff9068 0%, var(--accent-color) 100%);
      }
      
      .chat-input button:hover::before {
        left: 100%;
      }
      
      .chat-input button:active {
        transform: translateY(-1px);
        box-shadow: 0 6px 12px rgba(255, 126, 70, 0.35);
      }

      @media (max-width: 1200px) {
        .main-layout {
          padding: 32px 24px 64px;
        }
      }

      @media (max-width: 992px) {
        .main-layout {
          grid-template-columns: 1fr;
          padding: 24px;
        }
      }

      .app-sidebar {
        background: linear-gradient(180deg, rgba(255, 126, 70, 0.18) 0%, rgba(255, 209, 164, 0.5) 100%);
        border-radius: 28px;
        padding: 24px 16px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 24px;
        position: sticky;
        top: 120px;
        height: fit-content;
        box-shadow: 0 24px 40px rgba(255, 126, 70, 0.18);
      }

      .sidebar-menu-btn {
        width: 46px;
        height: 46px;
        border-radius: 16px;
        border: none;
        background: #fff;
        color: var(--accent-color);
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 10px 18px rgba(0, 0, 0, 0.08);
        cursor: pointer;
        transition: transform 0.2s ease;
      }

      .sidebar-menu-btn:hover {
        transform: translateY(-3px);
      }

      .sidebar-nav {
        display: flex;
        flex-direction: column;
        gap: 12px;
        width: 100%;
      }

      .sidebar-link {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        padding: 14px 10px;
        border-radius: 20px;
        color: var(--text-secondary);
        font-size: 12px;
        font-weight: 600;
        transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;
      }

      .sidebar-link i {
        font-size: 18px;
        line-height: 1;
      }

      .sidebar-link span {
        width: 100%;
        font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        font-weight: 600;
        font-size: 12px;
        letter-spacing: -0.01em;
        text-align: center;
        white-space: nowrap;
      }

      .sidebar-link:hover {
        background: rgba(255, 255, 255, 0.6);
        color: var(--accent-color);
        transform: translateY(-2px);
      }

      .sidebar-link.active {
        background: #fff;
        color: var(--accent-color);
        box-shadow: 0 12px 20px rgba(0, 0, 0, 0.08);
      }

      @media (max-width: 992px) {
        .app-sidebar {
          flex-direction: row;
          justify-content: flex-start;
          padding: 16px;
          overflow-x: auto;
          border-radius: 20px;
          position: static;
          box-shadow: none;
          background: rgba(255, 126, 70, 0.12);
        }

        .sidebar-nav {
          flex-direction: row;
          gap: 8px;
        }

        .sidebar-link {
          flex-direction: row;
          padding: 12px 16px;
          border-radius: 14px;
        }
      }

      .chat-area {
        display: flex;
        flex-direction: column;
        gap: 40px;
      }

      .chat-hero {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .chat-hero-badge {
        align-self: flex-start;
        padding: 8px 16px;
        border-radius: 20px;
        background: rgba(255, 126, 70, 0.15);
        color: var(--accent-color);
        font-weight: 700;
        font-size: 13px;
        letter-spacing: 0.04em;
      }

      .chat-hero h1 {
        font-size: 36px;
        font-weight: 800;
        color: var(--text-primary);
        line-height: 1.18;
      }

      .chat-hero p {
        font-size: 18px;
        line-height: 1.6;
        color: var(--text-secondary);
        max-width: 640px;
      }

      @media (max-width: 768px) {
        .chat-hero h1 {
          font-size: 28px;
        }

        .chat-hero p {
          font-size: 14px;
        }
      }

      .chat-card {
        position: relative;
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(10px);
        border-radius: 32px;
        padding: 36px;
        box-shadow: 0 28px 60px rgba(255, 126, 70, 0.12);
        overflow: hidden;
      }

      .chat-card::before {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(120% 120% at 10% 0%, rgba(255, 126, 70, 0.18) 0%, rgba(255, 192, 150, 0.06) 45%, transparent 80%);
        z-index: 0;
      }

      .chat-card > * {
        position: relative;
        z-index: 1;
      }

      @media (max-width: 768px) {
        .chat-card {
          padding: 28px 20px;
          border-radius: 24px;
        }
      }

      @media (max-width: 600px) {
        .quick-action {
          padding: 14px;
          border-radius: 12px;
        }
        .quick-icon {
          width: 36px;
          height: 36px;
          font-size: 16px;
        }
        .chat-hero h1 {
          font-size: 24px;
        }
        .main-layout { 
          padding: 16px 12px 100px 12px; 
          gap: 16px; 
        }

        .hero-card {
          padding: 0 8px 16px 8px;
        }

        .chat-input {
          padding: 12px 14px;
          gap: 10px;
        }

        .chat-input textarea {
          font-size: 13px;
          padding: 10px 14px;
        }

        .chat-input button {
          width: 44px;
          height: 44px;
          font-size: 14px;
        }
      }

      .chat-card-header {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        margin-bottom: 32px;
      }

      .chat-brand {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .chat-brand-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 44px;
        height: 44px;
        border-radius: 14px;
        background: var(--accent-color);
        color: #fff;
        font-weight: 800;
        font-size: 16px;
        letter-spacing: 0.06em;
      }

      .chat-brand-name {
        font-size: 32px;
        font-weight: 800;
        color: var(--text-primary);
        letter-spacing: -0.04em;
      }

      .chat-mode-tabs {
        display: flex;
        align-items: center;
        gap: 12px;
        background: rgba(255, 255, 255, 0.6);
        padding: 8px;
        border-radius: 18px;
      }

      .mode-tab {
        border: none;
        border-radius: 14px;
        padding: 10px 18px;
        font-weight: 600;
        font-size: 14px;
        color: var(--text-secondary);
        background: transparent;
        cursor: pointer;
        transition: background 0.2s ease, color 0.2s ease;
      }

      .mode-tab.active {
        background: #fff;
        color: var(--accent-color);
        box-shadow: 0 10px 18px rgba(255, 126, 70, 0.15);
      }

      .mode-tab:hover {
        color: var(--accent-color);
      }

      .chat-form {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .chat-textarea {
        width: 100%;
        min-height: 100px;
        border: 1px solid rgba(0, 0, 0, 0.08);
        border-radius: 22px;
        padding: 16px 20px;
        font-size: 15px;
        resize: vertical;
        background: rgba(255, 255, 255, 0.95);
        transition: border 0.18s ease, box-shadow 0.18s ease;
        font-family: inherit;
        color: var(--text-primary);
      }

      .chat-textarea:focus {
        outline: none;
        border-color: var(--accent-color);
        box-shadow: 0 0 0 4px rgba(255, 126, 70, 0.12);
      }

      .chat-textarea::placeholder {
        color: rgba(0, 0, 0, 0.35);
      }

      .chat-form-footer {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        flex-wrap: wrap;
      }

      .chat-form-tools {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .util-btn {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 12px 16px;
        border-radius: 14px;
        border: 1px solid rgba(0, 0, 0, 0.08);
        background: #fff;
        color: var(--text-secondary);
        font-weight: 600;
        font-size: 13px;
        cursor: pointer;
        transition: border 0.2s ease, color 0.2s ease, transform 0.2s ease;
      }

      .util-btn i {
        font-size: 14px;
      }

      .util-btn:hover {
        border-color: var(--accent-color);
        color: var(--accent-color);
        transform: translateY(-1px);
      }

      .util-btn.util-select {
        padding-right: 20px;
      }

      .chat-send-btn {
        width: 52px;
        height: 52px;
        border-radius: 50%;
        background: var(--accent-color);
        color: #fff;
        border: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        cursor: not-allowed;
        opacity: 0.6;
        transition: opacity 0.18s ease, box-shadow 0.18s ease;
      }

      .chat-send-btn.enabled {
        cursor: pointer;
        opacity: 1;
        box-shadow: 0 10px 20px rgba(255, 126, 70, 0.18);
      }

      .chat-quick-actions {
        margin-top: 32px;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 18px;
      }

      .quick-action {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
        padding: 20px;
        border-radius: 20px;
        border: none;
        background: rgba(255, 126, 70, 0.12);
        color: var(--text-primary);
        text-align: left;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
      }

      .quick-action:hover {
        transform: translateY(-4px);
        box-shadow: 0 14px 26px rgba(255, 126, 70, 0.14);
        background: rgba(255, 126, 70, 0.16);
      }

      .quick-icon {
        width: 44px;
        height: 44px;
        border-radius: 14px;
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--accent-color);
        font-size: 18px;
        box-shadow: 0 6px 10px rgba(0, 0, 0, 0.06);
      }

      .quick-label {
        font-size: 15px;
        font-weight: 700;
      }

      .quick-desc {
        font-size: 13px;
        color: var(--text-secondary);
      }

      .tools-showcase,
      .feature-grid-section {
        display: flex;
        flex-direction: column;
        gap: 24px;
      }

      .section-head {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 16px;
      }

      .section-head h2 {
        font-size: 32px;
        font-weight: 900;
        color: #201a17;
        letter-spacing: -0.02em;
      }

      .section-head p {
        font-size: 15px;
        color: #7a6a60;
        max-width: 640px;
        line-height: 1.5;
      }

      @media (max-width: 768px) {
        .section-head h2 {
          font-size: 22px;
        }

        .section-head p {
          font-size: 13px;
        }
      }

      .center-icon-menu {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 36px;
        margin-top: 36px;
        flex-wrap: wrap;
        overflow-x: visible;
        padding: 0 10px;
        background: transparent;
      }

      @media (max-width: 768px) {
        .center-icon-menu {
          gap: 12px;
          row-gap: 8px;
          margin-top: 0;
          padding: 0 16px;
          justify-content: center;
          -webkit-overflow-scrolling: touch;
          overflow-x: hidden;
          overflow-y: hidden;
          flex-wrap: wrap;
          width: 100%;
          max-width: 100%;
          box-sizing: border-box;
        }

        .center-menu-item {
          flex: 0 0 calc(25% - 9px);
          max-width: calc(25% - 9px);
          min-width: 0;
          box-sizing: border-box;
        }
      }

      @media (max-width: 360px) {
        .center-icon-menu {
          gap: 8px;
          row-gap: 6px;
          margin-top: 0;
          padding: 0 12px;
          justify-content: center;
          flex-wrap: wrap;
          overflow-x: hidden;
          overflow-y: hidden;
          width: 100%;
          max-width: 100%;
          box-sizing: border-box;
          position: relative;
        }

        .center-menu-item {
          flex: 0 0 calc(25% - 6px);
          max-width: calc(25% - 6px);
          min-width: 0;
          box-sizing: border-box;
        }
      }
      
      .center-menu-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        text-decoration: none;
        color: #666;
        transition: all 0.2s ease;
        padding: 12px 8px;
        border-radius: 12px;
        flex-shrink: 0;
        min-width: 80px;
      }

      @media (max-width: 768px) {
        .center-menu-item {
          min-width: 0;
          padding: 8px 4px;
          gap: 6px;
          flex-shrink: 0;
        }
      }

      @media (max-width: 360px) {
        .center-menu-item {
          min-width: 0;
          padding: 8px 4px;
          gap: 6px;
          flex-shrink: 0;
        }
      }
      
      .center-menu-item:hover {
        color: var(--accent-color);
        transform: translateY(-2px);
      }
      
      .center-icon {
        width: 56px;
        height: 56px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        color: var(--accent-color);
        border-radius: 16px;
        transition: all 0.2s ease;
      }

      @media (max-width: 768px) {
        .center-icon {
          width: 44px;
          height: 44px;
          font-size: 20px;
          border-radius: 12px;
        }
      }

      @media (max-width: 360px) {
        .center-icon {
          width: 40px;
          height: 40px;
          font-size: 18px;
          border-radius: 10px;
        }
      }
      
      .center-menu-item:hover .center-icon {
        background: rgba(255, 126, 70, 0.1);
      }
      
      .center-label {
        font-size: 14px;
        font-weight: 600;
        text-align: center;
        line-height: 1.2;
      }

      /* 준비중 뱃지 (홈 아이콘 하단) */
      .wip-badge {
        display: block;
        margin-top: 2px;
        font-size: 11px;
        font-weight: 700;
        color: #c47a5a; /* 브랜드 톤과 어울리는 웜톤 브라운 */
        opacity: 0.9;
        letter-spacing: -0.01em;
      }

      @media (max-width: 768px) {
        .center-label {
          font-size: 11px;
          line-height: 1.3;
        }
      }

      @media (max-width: 360px) {
        .center-label {
          font-size: 11px;
          line-height: 1.3;
          word-break: keep-all;
        }
      }

      .tools-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 16px;
      }

      .tool-card {
        display: flex;
        flex-direction: column;
        gap: 12px;
        padding: 24px;
        border-radius: 22px;
        background: #fff;
        box-shadow: 0 18px 30px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(0, 0, 0, 0.04);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .tool-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 18px 30px rgba(255, 126, 70, 0.12);
      }

      .tool-icon {
        width: 48px;
        height: 48px;
        border-radius: 16px;
        background: rgba(3, 199, 90, 0.12);
        color: #03c75a;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
      }

      .tool-title {
        font-size: 16px;
        font-weight: 700;
        color: var(--text-primary);
      }

      .tool-desc {
        font-size: 14px;
        color: var(--text-secondary);
        line-height: 1.5;
      }

      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 20px;
      }

      .feature-card {
        display: flex;
        flex-direction: column;
        gap: 14px;
        padding: 28px;
        border-radius: 26px;
        background: linear-gradient(145deg, rgba(3, 199, 90, 0.12), rgba(3, 199, 90, 0.05));
        border: 1px solid rgba(3, 199, 90, 0.12);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .feature-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 24px 36px rgba(3, 199, 90, 0.18);
      }

      .feature-label {
        font-size: 13px;
        font-weight: 700;
        color: #03c75a;
        letter-spacing: 0.05em;
      }

      .feature-title {
        font-size: 20px;
        font-weight: 800;
        color: var(--text-primary);
      }

      .feature-desc {
        font-size: 14px;
        color: var(--text-secondary);
        line-height: 1.6;
      }

      .feature-cta {
        margin-top: auto;
        font-weight: 700;
        color: #03c75a;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .chat-area a {
        text-decoration: none;
      }

      .hero-title {
        font-size: 34px;
        line-height: 1.15;
        color: #231815;
        margin-bottom: 12px;
        font-weight: 800;
        text-align: center;
      }

      @media (max-width: 768px) {
        .hero-title {
          font-size: 22px;
          line-height: 1.3;
          margin-bottom: 8px;
        }
      }

      @media (max-width: 360px) {
        .hero-title {
          font-size: 11px;
          line-height: 1.3;
          margin-bottom: 4px;
          padding: 0 2px;
          word-break: keep-all;
          white-space: normal;
        }
      }

      .hero-sub {
        color: #6b655f;
        margin-bottom: 18px;
        font-size: 16px;
        text-align: center;
      }

      @media (max-width: 768px) {
        .hero-sub {
          font-size: 13px;
          margin-bottom: 12px;
          line-height: 1.5;
        }
      }

      @media (max-width: 360px) {
        .hero-sub {
          font-size: 6px;
          margin-bottom: 6px;
          line-height: 1.4;
          padding: 0 2px;
          word-break: keep-all;
        }
      }
      /* 중복 스타일 제거 - 위쪽의 더 구체적인 스타일 사용 */

      .feature-cards {
        display: flex;
        gap: 10px;
        margin-top: 12px;
        flex-wrap: wrap;
      }
      .fcard {
        background: #fff;
        padding: 10px 14px;
        border-radius: 12px;
        display: inline-flex;
        gap: 8px;
        align-items: center;
        min-width: auto;
        box-shadow: 0 4px 12px rgba(0,0,0,0.04);
        text-decoration: none;
        color: #201a17;
        font-weight: 600;
        font-size: 12px;
      }
      .fcard .icon {
        width: 32px;
        height: 32px;
        border-radius: 8px;
        display: grid;
        place-items: center;
        background: rgba(255,126,70,0.1);
        color: var(--accent-color);
        box-shadow: none;
        font-size: 14px;
      }
      @media (max-width: 768px) {
        .hero-banner {
          height: 200px;
          margin-bottom: 30px;
          border-radius: 16px;
        }
      }
      .banner-slider {
        display: flex;
        transition: transform 0.5s ease-in-out;
        height: 100%;
      }
      .banner-slide {
        min-width: 100%;
        height: 100%;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, rgba(3, 199, 90, 0.9) 0%, rgba(2, 168, 80, 0.9) 100%),
                    url('https://images.unsplash.com/photo-1556742502-ec7c0e9f34b1?w=1600&q=80') center/cover;
        padding: 60px;
      }
      @media (max-width: 768px) {
        .banner-slide {
          padding: 20px 16px;
        }
      }
      .banner-slide.blue {
        background: linear-gradient(135deg, rgba(74, 144, 226, 0.9) 0%, rgba(53, 122, 189, 0.9) 100%),
                    url('https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1600&q=80') center/cover;
      }
      .banner-slide.teal {
        background: linear-gradient(135deg, rgba(80, 201, 195, 0.9) 0%, rgba(59, 163, 157, 0.9) 100%),
                    url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=1600&q=80') center/cover;
      }
      .banner-slide.purple {
        background: linear-gradient(135deg, rgba(155, 89, 182, 0.9) 0%, rgba(142, 68, 173, 0.9) 100%),
                    url('https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=1600&q=80') center/cover;
      }
      .banner-content {
        text-align: center;
        color: var(--primary-white);
        max-width: 800px;
      }
      .banner-content h2 {
        font-size: 48px;
        font-weight: 800;
        margin-bottom: 20px;
        text-shadow: 0 3px 15px rgba(0, 0, 0, 0.5);
      }
      .banner-content p {
        font-size: 20px;
        font-weight: 500;
        opacity: 0.95;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
      }
      @media (max-width: 768px) {
        .banner-content h2 {
          font-size: 20px;
          margin-bottom: 10px;
          line-height: 1.3;
        }
        .banner-content p {
          font-size: 12px;
          line-height: 1.4;
        }
      }
      .banner-nav {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 12px;
        z-index: 10;
      }
      .banner-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: rgba(255,255,255,0.4);
        cursor: pointer;
        transition: all 0.3s;
      }
      .banner-dot.active {
        background: var(--primary-white);
        width: 32px;
        border-radius: 6px;
      }
      .banner-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 50px;
        height: 50px;
        background: rgba(255,255,255,0.3);
        border: none;
        border-radius: 50%;
        color: var(--primary-white);
        font-size: 24px;
        cursor: pointer;
        transition: all 0.3s;
        z-index: 10;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .banner-arrow:hover {
        background: rgba(255,255,255,0.5);
      }
      .banner-arrow.prev {
        left: 20px;
      }
      .banner-arrow.next {
        right: 20px;
      }
      @media (max-width: 768px) {
        .banner-arrow {
          width: 40px;
          height: 40px;
          font-size: 18px;
        }
        .banner-arrow.prev {
          left: 10px;
        }
        .banner-arrow.next {
          right: 10px;
        }
      }

      /* 5가지 주요 기능 아이콘 버튼 */
      .quick-menu {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 20px;
        margin-bottom: 60px;
        max-width: 1400px;
        margin-left: auto;
        margin-right: auto;
        padding: 0 20px;
      }
      @media (max-width: 768px) {
        .quick-menu {
          grid-template-columns: repeat(5, 1fr);
          gap: 4px;
          margin-bottom: 32px;
          padding: 0 12px;
        }
      }
      .quick-menu-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 40px 20px;
        background: var(--primary-white);
        border: 3px solid var(--primary-green);
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
      }
      .quick-menu-item:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 30px rgba(3, 199, 90, 0.25);
        background: var(--primary-green);
      }
      .quick-menu-item:hover .quick-icon {
        color: var(--primary-white);
      }
      .quick-menu-item:hover .quick-label {
        color: var(--primary-white);
      }
      @media (max-width: 768px) {
        .quick-menu-item {
          padding: 8px 2px;
          border-width: 2px;
          border-radius: 10px;
        }
      }
      .quick-icon {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: var(--primary-green);
        color: var(--primary-white);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 36px;
        margin-bottom: 16px;
        transition: all 0.3s ease;
      }
      @media (max-width: 768px) {
        .quick-icon {
          width: 32px;
          height: 32px;
          font-size: 16px;
          margin-bottom: 4px;
        }
      }
      .quick-menu-item:hover .quick-icon {
        background: var(--primary-white);
        color: var(--primary-green);
      }
      .quick-label {
        font-size: 20px;
        font-weight: 700;
        color: var(--primary-green);
        transition: all 0.3s ease;
        text-align: center;
        width: 100%;
      }
      @media (max-width: 768px) {
        .quick-label {
          font-size: 8px;
          font-weight: 600;
          line-height: 1.2;
          text-align: center;
          width: 100%;
          word-break: keep-all;
        }
      }

      /* 상세 배너 섹션 */
      .features-section {
        display: grid;
        gap: 30px;
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
      }
      .feature-banner {
        position: relative;
        width: 100%;
        height: 300px;
        border-radius: 24px;
        overflow: hidden;
        display: flex;
        align-items: center;
        padding: 50px;
        background: linear-gradient(135deg, #ffb399 0%, #ffa588 100%);
        transition: all 0.3s ease;
        cursor: pointer;
      }
      .feature-banner:hover {
        transform: translateY(-4px);
        box-shadow: 0 16px 40px rgba(255, 123, 84, 0.2);
      }
      @media (max-width: 768px) {
        .feature-banner {
          height: auto;
          min-height: 180px;
          padding: 24px 20px;
          border-radius: 16px;
        }
      }
      .feature-banner.style-2 {
        background: linear-gradient(135deg, #ffb399 0%, #ffa588 100%);
      }
      .feature-banner.style-3 {
        background: linear-gradient(135deg, #ffbeaa 0%, #ffad99 100%);
      }
      .feature-banner.style-4 {
        background: linear-gradient(135deg, #ffc3b3 0%, #ffb2a2 100%);
      }
      .feature-banner.style-6 {
        background: linear-gradient(135deg, #ffc8bb 0%, #ffb7aa 100%);
      }
      .feature-content {
        flex: 1;
        color: var(--primary-white);
      }
      .feature-badge {
        display: inline-block;
        padding: 8px 20px;
        background: rgba(255,255,255,0.2);
        border-radius: 50px;
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 16px;
      }
      @media (max-width: 768px) {
        .feature-badge {
          font-size: 11px;
          padding: 6px 14px;
          margin-bottom: 10px;
        }
      }
      .feature-title {
        font-size: 36px;
        font-weight: 800;
        margin-bottom: 16px;
        text-shadow: 0 2px 10px rgba(0,0,0,0.1);
      }
      @media (max-width: 768px) {
        .feature-title {
          font-size: 18px;
          margin-bottom: 10px;
          line-height: 1.3;
        }
      }
      .feature-desc {
        font-size: 18px;
        line-height: 1.6;
        opacity: 0.95;
        margin-bottom: 24px;
      }
      @media (max-width: 768px) {
        .feature-desc {
          font-size: 12px;
          margin-bottom: 12px;
          line-height: 1.5;
        }
      }
      .feature-button {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 14px 28px;
        background: var(--primary-white);
        color: var(--primary-green);
        border-radius: 50px;
        font-weight: 700;
        font-size: 16px;
        transition: all 0.3s ease;
        text-decoration: none;
      }
      .feature-button:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(255,255,255,0.3);
      }
      @media (max-width: 768px) {
        .feature-button {
          padding: 10px 20px;
          font-size: 12px;
        }
      }
      .feature-banner.style-2 .feature-button {
        color: #ffb399;
      }
      .feature-banner.style-3 .feature-button {
        color: #ffbeaa;
      }
      .feature-banner.style-4 .feature-button {
        color: #ffc3b3;
      }
      .feature-banner.style-6 .feature-button {
        color: #ffc8bb;
      }

      .auth-buttons {
        display: flex;
        align-items: center;
        gap: 0;
      }
      .auth-user {
        display: none;
        align-items: center;
        gap: 12px;
        padding: 12px 24px;
        border-radius: 8px;
        background: var(--primary-green);
        color: var(--primary-white);
      }
      .auth-user__avatar {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: var(--primary-white);
        color: var(--primary-green);
        font-weight: 800;
        display: flex;
        align-items: center;
        justify-content: center;
        letter-spacing: -0.02em;
        text-transform: uppercase;
      }
      .auth-user__meta {
        display: flex;
        flex-direction: column;
        line-height: 1.3;
      }
      .auth-user__label {
        font-size: 11px;
        font-weight: 600;
        color: var(--primary-white);
        letter-spacing: 0.05em;
        text-transform: uppercase;
      }
      .auth-user__email {
        font-size: 14px;
        font-weight: 600;
        color: var(--primary-white);
      }
      .auth-user__logout {
        height: 36px;
        padding: 0 16px;
        border-radius: 6px;
        border: 1px solid rgba(255,255,255,0.3);
        background: transparent;
        color: var(--primary-white);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
      }
      .auth-user__logout:hover {
        background: rgba(255,255,255,0.1);
      }
      .auth-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        height: 50px;
        padding: 0 32px;
        border-radius: 8px;
        font-weight: 700;
        font-size: 16px;
        gap: 8px;
        border: none;
        text-decoration: none;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .auth-btn--primary {
        background: transparent;
        color: var(--accent-color);
        border: 1px solid var(--accent-color);
      }
      .auth-btn--primary:hover {
        background: var(--accent-color);
        color: #fff;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 126, 70, 0.3);
      }
      .auth-btn--ghost {
        background: transparent;
        color: var(--text-secondary);
      }

      @media (max-width: 480px) {
        .auth-btn--ghost {
          display: none;
        }
      }
      @media (max-width: 768px) {
        .auth-user {
          padding: 4px 8px;
          gap: 6px;
        }
        .auth-user__avatar {
          width: 24px;
          height: 24px;
          font-size: 10px;
        }
        .auth-user__label {
          font-size: 8px;
          white-space: nowrap;
        }
        .auth-user__email {
          font-size: 9px;
          white-space: nowrap;
        }
        .auth-user__logout {
          height: 24px;
          padding: 0 8px;
          font-size: 9px;
        }
        .auth-btn {
          height: 28px;
          padding: 0 12px;
          font-size: 11px;
        }
      }
      /* -----------------------------
         Visual fine-tuning overrides
         - 폰트 크기, 라인높이, 카드/텍스트 패딩을 소폭 조정
      ----------------------------- */
      :root {
        --base-font-size: 15px; /* 기본 폰트 기준 */
      }

      html { font-size: var(--base-font-size); }
      body { line-height: 1.58; }

      /* 헤더 / 브랜드 */
      .logo-text { font-size: 12px; }

      /* 히어로 및 카드 타이포그래피 */
      .chat-hero h1 { font-size: 34px; line-height: 1.16; }
      .chat-hero p { font-size: 16px; line-height: 1.6; }
      .hero-title { font-size: 30px; line-height: 1.12; }
      .hero-sub { font-size: 15px; }

      /* 카드 및 섀도우 완화 */
      .chat-card { padding: 32px; border-radius: 28px; box-shadow: 0 18px 40px rgba(255,126,70,0.08); }
      .tool-card, .feature-card { padding: 20px; }

      /* 입력창 가독성 개선 */
      .chat-textarea { min-height: 90px; padding: 14px 18px; font-size: 15px; border-radius: 18px; }
      .chat-textarea:focus { box-shadow: 0 0 0 4px rgba(3,199,90,0.08); }

      /* 전송 버튼 크기/그림자 조정 */
      .chat-send-btn { width: 48px; height: 48px; font-size: 16px; }
      .chat-send-btn.enabled { box-shadow: 0 8px 18px rgba(255,126,70,0.12); }

      /* 퀵메뉴, 라벨 조정 */
      .quick-label { font-size: 18px; }
      .quick-menu-item, .quick-action { padding: 16px; }

      /* 특징 섹션 텍스트 미세조정 */
      .feature-title { font-size: 32px; }
      .feature-desc { font-size: 16px; }

      /* 작은 화면 보정 (추가) */
      @media (max-width: 600px) {
        .chat-hero h1 { font-size: 22px; }
        .chat-hero p { font-size: 13px; }
        .hero-title { font-size: 20px; }
        .chat-card { padding: 20px; border-radius: 18px; }
        .chat-textarea { min-height: 72px; }
        .quick-label { font-size: 13px; }
      }
      /* -----------------------------
         Pixel-match tuning (desktop-focused)
      ----------------------------- */
      @media (min-width: 993px) {
        .ai-hero-wrap { display: block; }
        .hero-card {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 36px;
          padding: 36px;
          background: transparent;
          border-radius: 30px;
        }
        .hero-left { flex: 1 1 60%; max-width: 860px; }
        .hero-right { flex: 0 0 320px; display: flex; align-items: center; justify-content: center; }
        .hero-right img { max-width: 320px; width: 100%; height: auto; }

      .hero-tag {
        display: inline-block;
        padding: 8px 16px;
        border-radius: 999px;
        background: rgba(255,126,70,0.15);
        color: var(--accent-color);
        font-weight: 700;
        font-size: 12px;
        letter-spacing: 0.04em;
        margin-bottom: 10px;
        margin-top: 0;
      }

      .hero-title { 
        font-size: 26px; 
        line-height: 1.25; 
        margin-bottom: 8px; 
        color: #201a17;
        font-weight: 800;
        text-align: center;
      }
      .hero-sub { 
        font-size: 14px; 
        color: #7a6a60;
        margin-bottom: 16px;
        line-height: 1.5;
        text-align: center;
      }

        .chat-input { 
          padding: 14px; 
          border-radius: 20px; 
        }
        .chat-input textarea { 
          min-height: 84px; 
          font-size: 16px; 
        }
        .chat-input button { 
          height: 48px; 
          min-width: 48px; 
          padding: 0 14px; 
          border-radius: 12px; 
        }

        .feature-cards { margin-top: 18px; }
        .fcard { padding: 12px 16px; min-width: 180px; }
        .fcard .icon { width: 40px; height: 40px; font-size: 16px; }

        /* quick menu larger on desktop */
        .quick-menu { gap: 24px; }
        .quick-icon { width: 84px; height: 84px; font-size: 36px; border-radius: 999px; }
        .quick-label { font-size: 20px; }
      }
    </style>
  </head>
  <body class="index-page">
    <header class="header">
      <div class="header-inner">
        <a href="/" class="logo-container">
          <div class="logo-icon">
            <i class="fa-solid fa-thumbtack"></i>
          </div>
          <span class="logo-text">sajang pick</span>
        </a>
        
        <h1 class="header-slogan">센스있는 사장님들의 선택</h1>
        
        <div class="header-auth">
          <div class="auth-buttons" id="authButtons">
            <div class="auth-user" id="authUser" style="display: none;">
              <div class="auth-user__avatar" id="userAvatar">U</div>
              <div class="auth-user__meta">
                <a href="/mypage.html" class="auth-user__label" style="cursor: pointer; text-decoration: none;">나의 페이지</a>
                <a href="/mypage.html" class="auth-user__email" id="userEmail" style="cursor: pointer; text-decoration: none;"></a>
              </div>
              <button class="auth-user__logout" id="logoutBtn" type="button">
                로그아웃
              </button>
            </div>
            <a href="/login.html" class="auth-btn auth-btn--primary" id="loginBtn">
              <i class="fa-solid fa-sign-in-alt" style="margin-right: 8px;"></i>
              <span>로그인</span>
            </a>
            <a href="/join.html" class="auth-btn auth-btn--ghost" id="signupBtn">
              <i class="fa-solid fa-user-plus" style="margin-right: 8px;"></i>
              <span>회원가입</span>
            </a>
          </div>
        </div>
      </div>
    </header>

    <main class="container">
      <!-- AI 전용 히어로 카드 (첨부 디자인 유사) -->
      <section class="ai-hero-wrap">
        <aside class="side-nav" aria-label="사이드 네비게이션">
          <a class="menu-item" href="/">
            <span class="ico"><i class="fa-solid fa-house"></i></span>
            <span>홈</span>
          </a>
          <a class="menu-item" href="/naver_search.html">
            <span class="ico"><i class="fa-solid fa-key"></i></span>
            <span>키워드</span>
          </a>
          <a class="menu-item" href="/AI-Review.html">
            <span class="ico"><i class="fa-solid fa-pen-nib"></i></span>
            <span>리뷰</span>
          </a>
          <a class="menu-item" href="/Blog-Editor.html">
            <span class="ico"><i class="fa-solid fa-blog"></i></span>
            <span>블로그</span>
          </a>
          <a class="menu-item" href="/recipe-manager.html">
            <span class="ico"><i class="fa-solid fa-utensils"></i></span>
            <span>레시피</span>
          </a>
          <a class="menu-item" href="/shorts-editor.html">
            <span class="ico"><i class="fa-solid fa-film"></i></span>
            <span>영상</span>
          </a>
          <a class="menu-item" href="/sajangpick-book.html">
            <span class="ico"><i class="fa-solid fa-book-open"></i></span>
            <span>전자책</span>
          </a>
          <a class="menu-item" href="/news-board.html">
            <span class="ico"><i class="fa-solid fa-newspaper"></i></span>
            <span>정보</span>
          </a>
          <a class="menu-item" href="/policy-support.html">
            <span class="ico"><i class="fa-solid fa-coins"></i></span>
            <span>정책</span>
          </a>
        </aside>

        <div class="hero-main">
          <div class="center-logo" style="display: none;">
            <img src="/assets/logo.svg" alt="sajang pick" />
          </div>

          <div class="hero-card" role="region" aria-label="AI 사장픽 안내">
            <div class="hero-left">
              <h2 class="hero-title">사장님 전용 AI 비서와<br>지금 바로 대화해보세요.</h2>
              <p class="hero-sub">리뷰 답글, 블로그 작성, 정책 정보까지.<br>궁금한 모든 것을 AI 사장픽에서 친절하게 안내해드립니다.</p>

              <div class="chat-input">
                <textarea id="aiPrompt" placeholder="무엇이든 물어보세요(엔터 전송)" rows="2"></textarea>
                <button id="aiSendBtn" aria-label="전송"><i class="fa-solid fa-paper-plane"></i></button>
              </div>

              <div class="center-icon-menu">
                <a href="/ChatGPT.html" class="center-menu-item">
                  <div class="center-icon"><i class="fa-solid fa-robot"></i></div>
                  <span class="center-label">GPT-5</span>
                </a>
                <a href="/naver_search.html" class="center-menu-item">
                  <div class="center-icon"><i class="fa-solid fa-key"></i></div>
                  <span class="center-label">키워드 검색</span>
                </a>
                <a href="/AI-Review.html" class="center-menu-item">
                  <div class="center-icon"><i class="fa-solid fa-pen-nib"></i></div>
                  <span class="center-label">리뷰 답글</span>
                </a>
                <a href="#" class="center-menu-item" id="btn-open-checklist">
                  <div class="center-icon"><i class="fa-solid fa-list-check"></i></div>
                  <span class="center-label">업종 체크리스트</span>
                </a>
                <a href="/Blog-Editor.html" class="center-menu-item">
                  <div class="center-icon"><i class="fa-solid fa-blog"></i></div>
                  <span class="center-label">블로그 작성</span>
                </a>
                <a href="/recipe-manager.html" class="center-menu-item">
                  <div class="center-icon"><i class="fa-solid fa-utensils"></i></div>
                  <span class="center-label">레시피 관리</span>
                  <small class="wip-badge">준비중</small>
                </a>
                <a href="/shorts-editor.html" class="center-menu-item">
                  <div class="center-icon"><i class="fa-solid fa-film"></i></div>
                  <span class="center-label">영상 편집</span>
                  <small class="wip-badge">준비중</small>
                </a>
                <a href="/sajangpick-book.html" class="center-menu-item">
                  <div class="center-icon"><i class="fa-solid fa-book-open"></i></div>
                  <span class="center-label">전자책</span>
                  <small class="wip-badge">준비중</small>
                </a>
                <a href="/news-board.html" class="center-menu-item">
                  <div class="center-icon"><i class="fa-solid fa-newspaper"></i></div>
                  <span class="center-label">정보 게시판</span>
                  <small class="wip-badge">준비중</small>
                </a>
                <a href="/policy-support.html" class="center-menu-item">
                  <div class="center-icon"><i class="fa-solid fa-coins"></i></div>
                  <span class="center-label">정책지원금</span>
                  <small class="wip-badge">준비중</small>
                </a>
              </div>
            </div>

            <div class="hero-right" style="display: none;">
              <img src="/assets/hero-avatar.svg" alt="decorative" style="max-width:220px; width:100%; height:auto;"/>
            </div>
          </div>
        </div>
      </section>



    </main>

    <script
      src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.4/dist/umd/supabase.min.js"
      integrity="sha384-GFr3yTh5lJznCbZfpTtXnwboFsxqtTQoeTZCRHhE0579KrRmlCzen5AA8ohaB5ug"
      crossorigin="anonymous"
    ></script>
    <script src="/assets/auth-state.js?v=202410"></script>
    <script>
      // 배너 슬라이더 기능
      let currentBanner = 0;
      const totalBanners = 4;
      let bannerInterval;

      function moveBanner(direction) {
        currentBanner += direction;
        if (currentBanner < 0) currentBanner = totalBanners - 1;
        if (currentBanner >= totalBanners) currentBanner = 0;
        updateBanner();
      }

      function setBanner(index) {
        currentBanner = index;
        updateBanner();
      }

      function updateBanner() {
        const slider = document.getElementById('bannerSlider');
        const dots = document.querySelectorAll('.banner-dot');
        
        // 배너 슬라이더가 없으면 실행하지 않음
        if (!slider) return;
        
        slider.style.transform = `translateX(-${currentBanner * 100}%)`;
        
        dots.forEach((dot, index) => {
          if (index === currentBanner) {
            dot.classList.add('active');
          } else {
            dot.classList.remove('active');
          }
        });
        
        // 자동 슬라이드 타이머 재설정
        clearInterval(bannerInterval);
        startBannerAutoSlide();
      }

      function startBannerAutoSlide() {
        // 배너 슬라이더가 없으면 실행하지 않음
        if (!document.getElementById('bannerSlider')) return;
        
        bannerInterval = setInterval(() => {
          moveBanner(1);
        }, 5000); // 5초마다 자동 슬라이드
      }

      // 페이지 로드 시 배너가 있을 때만 자동 슬라이드 시작
      if (document.getElementById('bannerSlider')) {
        startBannerAutoSlide();
      }

      // 로그인 상태 확인 및 UI 업데이트 (즉시 실행)
      async function getActiveSession() {
        if (!window.authState?.supabase) {
          return null;
        }
        try {
          const { data } = await window.authState.supabase.auth.getSession();
          return data?.session ?? null;
        } catch (error) {
          console.error("세션 조회 실패:", error);
          return null;
        }
      }

      function renderLoggedOut() {
        const loginBtn = document.getElementById("loginBtn");
        const signupBtn = document.getElementById("signupBtn");
        const userEmailSpan = document.getElementById("userEmail");
        const logoutBtn = document.getElementById("logoutBtn");
        const authUser = document.getElementById("authUser");

        if (authUser) authUser.style.display = "none";
        if (loginBtn) loginBtn.style.display = "inline-flex";
        if (signupBtn) signupBtn.style.display = "inline-flex";
        if (userEmailSpan) {
          userEmailSpan.textContent = "";
          userEmailSpan.title = "";
        }
        if (logoutBtn) {
          logoutBtn.style.display = "none";
          logoutBtn.onclick = null;
        }
      }

      function renderLoggedIn(user) {
        const loginBtn = document.getElementById("loginBtn");
        const signupBtn = document.getElementById("signupBtn");
        const userEmailSpan = document.getElementById("userEmail");
        const logoutBtn = document.getElementById("logoutBtn");
        const authUser = document.getElementById("authUser");
        const userAvatar = document.getElementById("userAvatar");

        if (loginBtn) loginBtn.style.display = "none";
        if (signupBtn) signupBtn.style.display = "none";
        if (authUser) authUser.style.display = "flex";

        if (userEmailSpan) {
          const email = user.email || "마이페이지";
          userEmailSpan.textContent = email;
          userEmailSpan.title = `${email} (마이페이지로 이동)`;
        }

        if (userAvatar) {
          const base =
            user.user_metadata?.full_name ||
            user.email ||
            user.app_metadata?.provider ||
            "U";
          const initial = (base.trim()[0] || "U").toUpperCase();
          userAvatar.textContent = initial;
          userAvatar.setAttribute("aria-label", `${base} 프로필`);
        }

        if (logoutBtn) {
          logoutBtn.style.display = "inline-flex";
          logoutBtn.onclick = async function () {
            if (!confirm("로그아웃 하시겠습니까?")) return;
            try {
              if (window.authState?.signOut) {
                await window.authState.signOut();
              }
            } finally {
              localStorage.removeItem("isLoggedIn");
              localStorage.removeItem("userData");
              location.href = "login.html";
            }
          };
        }
      }

      let authRenderToken = 0;

      async function updateAuthUI() {
        const currentToken = ++authRenderToken;
        const session = await getActiveSession();

        // 이전 요청이 더 최신이면 렌더링하지 않습니다.
        if (currentToken !== authRenderToken) return;

        if (session?.user) {
          renderLoggedIn(session.user);
        } else {
          renderLoggedOut();
        }
      }

      updateAuthUI();
      window.addEventListener("auth:state-changed", () => {
        updateAuthUI();
      });
      if (window.authState?.syncSession) {
        window.authState.syncSession();
      }

      /* ===== 업종 선택(선택사항) 모달: 최초 1회 노출 ===== */
      (function(){
        const OVERLAY_ID = 'industry-setup-modal';
        const SEEN_KEY = 'industrySetupSeenV1';

        function buildModal(){
          if (document.getElementById(OVERLAY_ID)) return;
          const overlay = document.createElement('div');
          overlay.id = OVERLAY_ID;
          overlay.style.cssText = 'display:none;position:fixed;inset:0;background:rgba(0,0,0,0.45);z-index:9999;';
          overlay.innerHTML = `
            <div style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:min(520px,92vw);background:#fff;border-radius:16px;padding:18px;">
              <h3 style="margin:0 0 8px 0;font-size:18px;font-weight:800;color:#201a17;">업종을 선택하시겠어요? <span style="color:#888;font-weight:600;">(선택)</span></h3>
              <p style="margin:0 0 12px 0;color:#555;font-size:13px;">선택하면 맞춤 프리셋이 자동 적용됩니다. 나중에 마이페이지에서도 변경할 수 있어요.</p>
              <select id="indSetupSelect" style="width:100%;border:1px solid rgba(0,0,0,0.1);border-radius:10px;padding:10px 12px;margin-bottom:12px;">
                <option value="">선택 안 함</option>
                <option value="restaurant">음식점</option>
                <option value="beauty">미용실</option>
                <option value="lodging">숙박업</option>
                <option value="clinic">병원/의원</option>
                <option value="fitness">운동시설</option>
                <option value="attraction">여행/명소</option>
                <option value="agency">대행사</option>
              </select>
              <div style="display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;">
                <button id="indSetupLater" style="border:none;background:#f3f4f6;color:#111827;border-radius:10px;padding:10px 12px;cursor:pointer;">다음에</button>
                <button id="indSetupSave" style="border:none;background:#03c75a;color:#fff;border-radius:10px;padding:10px 12px;cursor:pointer;font-weight:800;">저장</button>
              </div>
            </div>
          `;
          document.body.appendChild(overlay);
        }

        async function saveToProfile(code){
          try {
            if (!window.authState?.supabase) return false;
            const { data: { session } } = await window.authState.supabase.auth.getSession();
            const user = session?.user;
            if (!user) return false;
            const updates = { industry_code: code || null, updated_at: new Date().toISOString() };
            if (code === 'agency') updates.user_type = 'agency';
            const { error } = await window.authState.supabase.from('profiles').update(updates).eq('id', user.id);
            if (error) throw new Error(error.message);
            return true;
          } catch(e){ console.warn('업종 저장 실패(프로필):', e); return false; }
        }

        function openModal(){ buildModal(); document.getElementById(OVERLAY_ID).style.display='block'; }
        function closeModal(){ const el=document.getElementById(OVERLAY_ID); if (el) el.style.display='none'; }

        function bindHandlers(){
          const later = document.getElementById('indSetupLater');
          const save = document.getElementById('indSetupSave');
          later?.addEventListener('click', ()=>{ try{localStorage.setItem(SEEN_KEY,'1');}catch(_){} closeModal(); });
          save?.addEventListener('click', async ()=>{
            const code = (document.getElementById('indSetupSelect')?.value) || '';
            try{ localStorage.setItem('pref_industry_code', code || ''); }catch(_){}
            await saveToProfile(code);
            try{ localStorage.setItem(SEEN_KEY,'1'); }catch(_){}
            closeModal();
          });
          document.getElementById(OVERLAY_ID)?.addEventListener('click', (e)=>{ if (e.target.id===OVERLAY_ID) closeModal(); });
        }

        try {
          const p = new URLSearchParams(location.search);
          const force = p.get('industry-setup')==='1';
          const seen = localStorage.getItem(SEEN_KEY)==='1';
          if (force || !seen){
            openModal(); bindHandlers();
          }
        } catch(_){}
      })();

      /* ===== 업종별 체크리스트 모달 (한 블록 삭제로 제거 가능) ===== */
      (function(){
        const ADMIN_URL = 'https://smartplace.naver.com/';
        const CHECKLIST = {
          restaurant: { title:'음식점', items:[
            '예약/대기 ON(좌석·피크타임) 설정',
            '메뉴·가격 최신화(대표 10개 사진 포함)',
            '대표사진 5장(외관/내부/시그니처/단체석/주차)',
            '영수증리뷰 유도 멘트 배치',
            'CTA: “네이버로 예약하고 대기 없이 식사하세요”'
          ]},
          beauty: { title:'미용실', items:[
            '디자이너별 예약 슬롯/가격 공개',
            '시술 전·후 포트폴리오 10컷 이상',
            '시술 카테고리/해시태그 구성',
            '리뷰 리마인드(단골 혜택)',
            'CTA: “원하는 디자이너로 바로 예약”'
          ]},
          lodging: { title:'숙박업', items:[
            '실시간 예약/요금/환불정책 명확화',
            '객실 타입/인원/편의시설 상세',
            '시즌 요금·취소 규정 공지',
            '교통/주차/조식 안내',
            'CTA: “지금 예약하고 혜택 확인”'
          ]},
          clinic: { title:'병원/의원', items:[
            '간편접수/대기 안내 설정',
            '진료과·의료진·진료시간 명확화',
            '비급여 가격표 링크(가능 시)',
            '주차/접수 동선 안내',
            'CTA: “네이버 간편접수로 대기 줄이기”'
          ]},
          fitness: { title:'운동시설', items:[
            '체험 예약(시간표/난이도/준비물) 설정',
            '시설 내부/락커/샤워 사진',
            '프로그램 가격·혜택 공지',
            '첫 방문 추천 코스 안내',
            'CTA: “오늘 체험 예약하고 시작”'
          ]},
          attraction: { title:'여행/명소', items:[
            '운영시간/입장료 최신화',
            '포토스팟·코스 소개',
            '날씨/혼잡도 팁 제공',
            '주차/대중교통/길찾기 강조',
            'CTA: “길찾기/주차 안내 바로보기”'
          ]}
        };

        const overlay = document.createElement('div');
        overlay.id = 'industry-checklist-modal';
        overlay.style.cssText = 'display:none;position:fixed;inset:0;background:rgba(0,0,0,0.45);z-index:9999;';
        overlay.innerHTML = `
          <div style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:min(860px,92vw);max-height:88vh;overflow:auto;background:#fff;border-radius:16px;padding:18px;">
            <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:12px;">
              <strong style="font-size:18px;color:#201a17;">업종별 체크리스트</strong>
              <button id="icm-close" style="border:none;background:#f4f4f4;border-radius:10px;padding:6px 10px;cursor:pointer;">닫기</button>
            </div>
            <div id="icm-tabs" style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px;"></div>
            <div id="icm-body"></div>
          </div>
        `;
        document.body.appendChild(overlay);

        function renderTabs(active){
          const tabs = document.getElementById('icm-tabs');
          tabs.innerHTML = Object.keys(CHECKLIST).map(code=>{
            const on = code===active;
            return `<button class="icm-tab" data-code="${code}" style="border:1px solid ${on?'rgba(3,199,90,0.35)':'rgba(0,0,0,0.08)'};background:${on?'#f4fff7':'#fff'};border-radius:10px;padding:8px 12px;cursor:pointer;font-weight:700;">${CHECKLIST[code].title}</button>`;
          }).join('');
        }
        function renderBody(code){
          const target = document.getElementById('icm-body');
          const data = CHECKLIST[code]; if(!data||!target) return;
          target.innerHTML = `
            <div style="border:1px solid rgba(0,0,0,0.06);border-radius:12px;padding:12px;">
              <h4 style="margin:0 0 8px 0;font-size:15px;color:#333;">${data.title} - 필수 5가지</h4>
              <ol style="margin:0;padding-left:18px;color:#333;line-height:1.7;font-size:14px;">
                ${data.items.map((t,i)=>`
                  <li style="margin:6px 0;">
                    ${t}
                    <span style="margin-left:6px;">
                      <button class="icm-copy" data-text="${t.replace(/"/g,'&quot;')}" style="border:1px solid rgba(3,199,90,0.3);background:#fff;color:#03c75a;border-radius:8px;padding:4px 8px;cursor:pointer;font-size:12px;">복사</button>
                      ${i===0?`<a href="${ADMIN_URL}" target="_blank" style="border:1px solid rgba(0,0,0,0.1);background:#fff;color:#555;border-radius:8px;padding:4px 8px;font-size:12px;text-decoration:none;">네이버 관리자 열기</a>`:''}
                    </span>
                  </li>
                `).join('')}
              </ol>
              <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap;">
                <button class="icm-copy-all" style="border:none;background:#03c75a;color:#fff;border-radius:10px;padding:8px 12px;cursor:pointer;font-size:13px;font-weight:700;">모두 복사</button>
                <a href="${ADMIN_URL}" target="_blank" style="border:none;background:#201a17;color:#fff;border-radius:10px;padding:8px 12px;font-size:13px;font-weight:700;text-decoration:none;">네이버 관리자 열기</a>
              </div>
            </div>
          `;
        }
        function openModal(preselect){
          const first = (preselect && CHECKLIST[preselect]) ? preselect : Object.keys(CHECKLIST)[0];
          renderTabs(first);
          renderBody(first);
          overlay.style.display = 'block';
        }
        function closeModal(){ overlay.style.display='none'; }

        overlay.addEventListener('click', (e)=>{
          if (e.target.id==='industry-checklist-modal' || e.target.id==='icm-close') closeModal();
          if (e.target.classList.contains('icm-tab')){
            const code = e.target.getAttribute('data-code');
            renderTabs(code); renderBody(code);
          }
          if (e.target.classList.contains('icm-copy')){
            const text = e.target.getAttribute('data-text')||'';
            navigator.clipboard.writeText(text);
          }
          if (e.target.classList.contains('icm-copy-all')){
            const active = document.querySelector('.icm-tab[style*="#f4fff7"]')?.getAttribute('data-code') || Object.keys(CHECKLIST)[0];
            const all = (CHECKLIST[active]?.items||[]).join('\\n• ');
            navigator.clipboard.writeText('• '+all);
          }
        });
        document.getElementById('btn-open-checklist')?.addEventListener('click', (ev)=>{ ev.preventDefault(); openModal(); });
        window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeModal(); });
        try {
          const p = new URLSearchParams(location.search);
          const c = p.get('checklist'); if (c) openModal(c);
        } catch(_) {}
      })();
      /* ===== /업종별 체크리스트 모달 ===== */

      // 모바일 브라우저 뷰포트 높이 문제 해결
      (function() {
        // 동적 뷰포트 높이 설정
        function setViewportHeight() {
          const vh = window.innerHeight * 0.01;
          document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        
        // 초기 설정
        setViewportHeight();
        
        // 리사이즈 및 스크롤 시 업데이트 (모바일 주소창 변화 대응)
        let resizeTimer;
        window.addEventListener('resize', () => {
          clearTimeout(resizeTimer);
          resizeTimer = setTimeout(setViewportHeight, 150);
        });
        
        window.addEventListener('orientationchange', () => {
          setTimeout(setViewportHeight, 500);
        });
        
        // 하단 아이콘 메뉴는 이제 wrap으로 변경되어 스크롤이 필요 없음
      })();

      // AI 히어로 입력 동작: 전송 시 ChatGPT 페이지로 프롬프트 전달
      (function() {
        const sendBtn = document.getElementById('aiSendBtn');
        const textarea = document.getElementById('aiPrompt');
        if (sendBtn && textarea) {
          sendBtn.addEventListener('click', () => {
            const v = textarea.value.trim();
            if (!v) return textarea.focus();
            try {
              // localStorage로 초기프롬프트 저장 (ChatGPT.html이 이를 읽도록 설계됨)
              localStorage.setItem('initialChatPrompt', v);
            } catch (e) {}
            // ChatGPT 페이지로 이동
            window.location.href = '/ChatGPT.html';
          });
          textarea.addEventListener('keydown', (ev) => {
            if (ev.key === 'Enter' && !ev.shiftKey) {
              ev.preventDefault();
              sendBtn.click();
            }
          });
          
          // textarea 높이 자동 조절 (전송 버튼이 가려지지 않도록)
          textarea.addEventListener('input', () => {
            if (window.innerWidth <= 360) {
              textarea.style.height = 'auto';
              const maxHeight = 120; // max-height와 동일
              if (textarea.scrollHeight <= maxHeight) {
                textarea.style.height = textarea.scrollHeight + 'px';
              } else {
                textarea.style.height = maxHeight + 'px';
              }
            }
          });
        }
      })();

    </script>

    <!-- 추적 및 모니터링 스크립트 -->
    <script src="/assets/analytics.js"></script>
    <script src="/assets/error-logger.js"></script>
    <script src="/assets/performance-tracker.js"></script>
  </body>
</html>

