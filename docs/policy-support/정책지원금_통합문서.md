# 🏛️ 정책지원금 시스템 통합 문서

> 작성일: 2025-11-01  
> 최종 수정: 2025-11-01 (v1.1.0)  
> 담당: AI Assistant  
> 위치: `/docs/policy-support/정책지원금_통합문서.md`

---

## 📋 목차

### Part 1. 시스템 문서
1. [시스템 개요](#시스템-개요)
2. [구현 현황](#구현-현황)
3. [데이터베이스 구조](#데이터베이스-구조)
4. [API 엔드포인트](#api-엔드포인트)
5. [페이지 구성](#페이지-구성)
6. [설치 및 설정](#설치-및-설정)

### Part 2. 실제 데이터 가이드
7. [실제 데이터 소스](#실제-데이터-소스)
8. [현재 진행 중인 정책](#현재-진행-중인-정책)
9. [데이터 수집 방법](#데이터-수집-방법)

### Part 3. 참고 자료
10. [샘플 데이터](#샘플-데이터)
11. [업데이트 기록](#업데이트-기록)
12. [향후 개선사항](#향후-개선사항)
13. [빠른 참조](#빠른-참조)

---

# Part 1. 시스템 문서

## 🎯 시스템 개요

소상공인을 위한 정부 정책지원금 정보를 체계적으로 관리하고 제공하는 시스템입니다.

### 주요 목적
- 📌 흩어져 있는 정부 지원금 정보를 한 곳에 모아 제공
- 🔔 마감 임박 지원금 알림
- 💾 개인별 관심 지원금 저장 및 관리
- 📊 카테고리별 체계적인 분류

### 타겟 사용자
- **소상공인**: 음식점, 카페, 소매업 등 운영자
- **관리자**: 정책 정보 등록 및 관리 담당자

---

## ✅ 구현 현황

### 완료된 기능

#### 1. **데이터베이스 설계** ✅
- 📁 위치: `database/schemas/features/policy-support/policy-support-schema.sql`
- 3개 핵심 테이블 생성
- RLS(Row Level Security) 정책 적용
- 인덱스 최적화

#### 2. **백엔드 API** ✅
- 📁 위치: `api/policy-support.js`
- 모든 CRUD 기능 구현
- 북마크 및 신청 관리 기능
- 카테고리별 통계 API

#### 3. **사용자 페이지** ✅
- 📁 위치: `policy-support.html`
- 반응형 디자인 적용
- 실시간 검색 및 필터링
- 마감일 카운트다운 표시

#### 4. **관리자 페이지** ✅
- 📁 위치: `admin/policy-management.html`
- 대량 정책 관리 인터페이스
- 태그 시스템 구현
- 통계 대시보드
- **실제 데이터 가져오기 버튼** (v1.1.0 추가)

#### 5. **메뉴 통합** ✅
- 메인 페이지 메뉴 추가
- 관리자 사이드바 메뉴 추가
- 스타일링 완료

#### 6. **실제 데이터 연동** ✅ (v1.1.0 신규)
- 📁 위치: `api/fetch-real-policy-data.js`
- 공공데이터 포털 API 연동
- RSS 피드 파싱 기능
- 6개 실제 진행 정책 내장
- 원클릭 데이터 추가 기능

---

## 🗄️ 데이터베이스 구조

### 1. policy_supports (정책지원금 정보)

```sql
CREATE TABLE policy_supports (
    id BIGSERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,                -- 지원금 제목
    organization VARCHAR(100) NOT NULL,         -- 지원 기관
    category VARCHAR(50) NOT NULL,              -- 카테고리
    summary TEXT NOT NULL,                      -- 간단 설명
    description TEXT NOT NULL,                  -- 상세 설명
    support_amount VARCHAR(100),                -- 지원 금액
    support_type VARCHAR(50),                   -- 지원 유형
    eligibility_criteria TEXT NOT NULL,         -- 지원 자격
    required_documents TEXT,                    -- 필요 서류
    business_type TEXT[],                       -- 대상 업종
    target_area TEXT[],                        -- 지원 지역
    application_start_date DATE,                -- 신청 시작일
    application_end_date DATE,                  -- 신청 마감일
    application_method TEXT,                    -- 신청 방법
    application_url VARCHAR(500),               -- 온라인 신청 링크
    contact_info TEXT,                          -- 문의처 정보
    phone_number VARCHAR(50),                   -- 전화번호
    website_url VARCHAR(500),                   -- 관련 웹사이트
    status VARCHAR(20) DEFAULT 'active',        -- 상태
    is_featured BOOLEAN DEFAULT false,          -- 중요 공지 여부
    view_count INTEGER DEFAULT 0,               -- 조회수
    tags TEXT[],                                -- 태그
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

### 2. user_policy_interests (사용자 관심 정책)

```sql
CREATE TABLE user_policy_interests (
    id BIGSERIAL PRIMARY KEY,
    user_id UUID NOT NULL,
    policy_id BIGINT NOT NULL,
    is_bookmarked BOOLEAN DEFAULT false,        -- 즐겨찾기 여부
    is_applied BOOLEAN DEFAULT false,           -- 신청 완료 여부
    applied_date DATE,                          -- 신청일
    notes TEXT,                                 -- 개인 메모
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

### 3. policy_notifications (알림 설정)

```sql
CREATE TABLE policy_notifications (
    id BIGSERIAL PRIMARY KEY,
    user_id UUID NOT NULL,
    categories TEXT[],                          -- 관심 카테고리
    business_types TEXT[],                      -- 관심 업종
    areas TEXT[],                               -- 관심 지역
    min_amount INTEGER,                         -- 최소 지원 금액
    notification_enabled BOOLEAN DEFAULT true,
    notification_method VARCHAR(20) DEFAULT 'email'
);
```

### 카테고리 분류

- `startup` - 창업지원
- `operation` - 운영지원
- `employment` - 인건비지원
- `facility` - 시설개선
- `marketing` - 마케팅
- `education` - 교육지원
- `other` - 기타

### 지원 유형

- `grant` - 보조금
- `loan` - 대출
- `tax_benefit` - 세제혜택
- `voucher` - 바우처
- `consulting` - 컨설팅
- `other` - 기타

---

## 🔌 API 엔드포인트

### 기본 API

| 메서드 | 엔드포인트 | 설명 | 권한 |
|--------|------------|------|------|
| GET | `/api/policy-support` | 정책 목록 조회 | 모두 |
| GET | `/api/policy-support?id={id}` | 정책 상세 조회 | 모두 |
| POST | `/api/policy-support` | 정책 등록 | 관리자 |
| PUT | `/api/policy-support` | 정책 수정 | 관리자 |
| DELETE | `/api/policy-support?id={id}` | 정책 삭제 | 관리자 |

### 추가 기능 API

| 메서드 | 엔드포인트 | 설명 | 권한 |
|--------|------------|------|------|
| GET | `/api/policy-support/categories` | 카테고리별 통계 | 모두 |
| POST | `/api/policy-support/bookmark` | 북마크 토글 | 회원 |
| POST | `/api/policy-support/apply` | 신청 상태 기록 | 회원 |
| GET | `/api/fetch-real-policies` | 실제 정책 데이터 조회 | 모두 |
| POST | `/api/fetch-real-policies` | 실제 정책 데이터 수집 및 저장 | 관리자 |

### 쿼리 파라미터

```javascript
// 목록 조회 시 사용 가능한 파라미터
{
    category: 'startup',        // 카테고리 필터
    status: 'active',           // 상태 필터 (active/upcoming/ended)
    area: '서울',               // 지역 필터
    business_type: '음식점',    // 업종 필터
    search: '지원금',           // 검색어
    page: 1,                    // 페이지 번호
    limit: 12,                  // 페이지당 항목 수
    user_id: 'uuid'            // 사용자 ID (관심 정보 포함)
}
```

---

## 📱 페이지 구성

### 1. 사용자 페이지 (`/policy-support.html`)

#### 주요 기능
- 🔍 **실시간 검색**: 제목, 기관명, 키워드 검색
- 🏷️ **다중 필터링**: 카테고리, 상태, 지역별 필터
- 📅 **마감일 알림**: D-Day 카운트다운 표시
- ⭐ **북마크 기능**: 관심 정책 저장
- 📊 **정렬 옵션**: 최신순, 마감임박순, 인기순

#### UI 구성
```
┌─────────────────────────────────┐
│        페이지 타이틀            │
├─────────────────────────────────┤
│      중요 알림 배너             │
├─────────────────────────────────┤
│   검색창 및 필터 옵션           │
├─────────────────────────────────┤
│   정렬 옵션    |   결과 개수     │
├─────────────────────────────────┤
│                                 │
│      정책 카드 그리드           │
│      (3열 반응형 레이아웃)      │
│                                 │
├─────────────────────────────────┤
│         페이지네이션            │
└─────────────────────────────────┘
```

### 2. 관리자 페이지 (`/admin/policy-management.html`)

#### 주요 기능
- ➕ **정책 등록**: 상세 정보 입력 폼
- ✏️ **정책 수정**: 기존 정보 편집
- 🗑️ **정책 삭제**: 선택 삭제 기능
- 🏷️ **태그 관리**: 업종, 지역, 검색 태그
- 📊 **통계 대시보드**: 카테고리별 현황
- 🔴 **실제 데이터 가져오기**: 원클릭 6개 정책 추가

---

## 🚀 설치 및 설정

### 1. 데이터베이스 설정

#### Supabase에서 테이블 생성
```bash
# Supabase SQL Editor에서 실행
database/schemas/features/policy-support/policy-support-schema.sql
```

### 2. 환경변수 설정

`.env` 파일에 다음 내용 추가:
```env
# Supabase 설정
SUPABASE_URL=your-project-url
SUPABASE_SERVICE_KEY=your-service-key

# OpenAI (AI 뉴스 추천용 - 선택사항)
OPENAI_API_KEY=your-openai-key

# 공공데이터포털 (실제 데이터 수집용 - 선택사항)
PUBLIC_DATA_KEY=your-public-data-key
```

### 3. 서버 실행

```bash
# 패키지 설치
pnpm install

# 서버 시작
node server.js

# 서버는 포트 3003에서 실행됩니다
```

### 4. 페이지 접속

- 사용자 페이지: http://localhost:3003/policy-support.html
- 관리자 페이지: http://localhost:3003/admin/policy-management.html

---

# Part 2. 실제 데이터 가이드

## 🏛️ 실제 데이터 소스

### 정부 공식 사이트 (실시간 업데이트)

#### 1. **기업마당** ⭐⭐⭐⭐⭐
- **URL**: https://www.bizinfo.go.kr
- **특징**: 모든 정부 지원사업 통합 검색
- **경로**: 
  - 홈 → 지원사업 → 지원사업 찾기
  - 소상공인 체크 → 지역/분야별 검색
- **데이터**: 3,000개+ 실시간 정책

#### 2. **소상공인마당** ⭐⭐⭐⭐⭐
- **URL**: https://www.sbiz.or.kr
- **특징**: 소상공인 전용 지원 정책
- **경로**: 
  - 정책자금 → 정책자금 안내
  - 지원사업 → 공고/공지
- **주요 지원금**:
  - 소상공인 정책자금
  - 스마트상점 지원
  - 온라인 판로 지원

#### 3. **K-스타트업** ⭐⭐⭐⭐
- **URL**: https://www.k-startup.go.kr
- **특징**: 창업 지원 특화
- **경로**: 
  - 창업지원 → 지원사업 통합공고
- **데이터**: 창업 관련 500개+ 사업

#### 4. **각 지자체 홈페이지** ⭐⭐⭐⭐
- **서울**: https://www.seoul.go.kr/economy
- **경기**: https://www.gg.go.kr/gg_info_center
- **부산**: https://www.busan.go.kr/business
- **지역별 소상공인 지원센터** 검색

---

## 📥 현재 진행 중인 정책

### 🔥 원클릭 실제 데이터 (관리자 페이지)

**빨간색 "실제 데이터 가져오기" 버튼**으로 즉시 추가 가능:

1. **2024년 소상공인 정책자금 융자** - 최대 7천만원 (중기부)
2. **소상공인 스마트상점 기술보급** - 최대 1천만원 (중기부)
3. **백년가게 육성사업** - 최대 3천만원 (중기부)
4. **착한가격업소 인센티브** - 연 200만원 (행안부)
5. **노란우산 희망장려금** - 월 1만원×12개월 (중기중앙회)
6. **일자리 안정자금** - 월 30만원 (고용부)

### 📅 즉시 신청 가능 정책 (2024.11 기준)

#### 1. 소상공인 정책자금 (중기부)
```
지원대상: 소상공인 (상시근로자 10인 미만)
지원금액: 최대 7천만원
금리: 연 3.27%~4.42%
신청기간: 2024.01.02 ~ 자금 소진시
신청: https://www.semas.or.kr
문의: ☎1357
```

#### 2. 소상공인 스마트상점 지원 (중기부)
```
지원대상: 연매출 2억원 이하 소상공인
지원금액: 최대 1천만원 (자부담 10%)
지원내용: 키오스크, POS, 온라인몰 구축
신청기간: 2024.02.01 ~ 2024.12.31
신청: 스마트상점 홈페이지
문의: ☎1357
```

#### 3. 백년가게 육성사업 (중기부)
```
지원대상: 업력 30년 이상 소상공인
지원금액: 최대 3천만원
지원내용: 브랜드 개발, 마케팅, 시설개선
신청기간: 2024.03.01 ~ 2024.11.30
신청: 소상공인마당
문의: ☎1357
```

#### 4. 착한가격업소 지원 (행안부)
```
지원대상: 착한가격업소 지정 업체
지원금액: 업소당 200만원 상당
지원내용: 상하수도료 감면, 쓰레기봉투
신청기간: 상시 (지자체별 상이)
신청: 각 지자체
문의: ☎120
```

#### 5. 노란우산 희망장려금 (중기중앙회)
```
지원대상: 노란우산 신규 가입 소상공인
지원금액: 월 1만원 × 12개월
지원내용: 가입 장려금
신청기간: 2024.01.01 ~ 예산 소진시
신청: 노란우산 홈페이지
문의: ☎1666-9988
```

### 📅 곧 시작 예정 (2025년)

#### 6. 2025 소상공인 새출발기금 (예정)
```
지원대상: 폐업 예정 소상공인
지원금액: 최대 2천만원
지원내용: 폐업비용, 재창업 교육
신청기간: 2025.01.02 ~ (예정)
```

#### 7. 2025 디지털 전환 바우처 (예정)
```
지원대상: 연매출 10억 이하 소상공인
지원금액: 최대 400만원 바우처
지원내용: 온라인몰, 배달앱, 키오스크
신청기간: 2025.02.01 ~ (예정)
```

---

## 🔍 데이터 수집 방법

### A. 수동 입력 (관리자 페이지)
1. `/admin/policy-management.html` 접속
2. "새 정책 등록" 클릭
3. 위 사이트에서 정보 복사
4. 양식에 맞춰 입력

### B. 원클릭 추가 (가장 쉬움!)
1. 관리자 페이지 접속
2. **빨간색 "실제 데이터 가져오기"** 버튼 클릭
3. 6개 실제 정책 자동 추가

### C. API 자동 수집
```javascript
// 실제 데이터 가져오기
fetch('http://localhost:3003/api/fetch-real-policies')
  .then(res => res.json())
  .then(data => console.log(data));

// DB에 저장하기
fetch('http://localhost:3003/api/fetch-real-policies', {
  method: 'POST',
  headers: {'Content-Type': 'application/json'},
  body: JSON.stringify({ save: true })
});
```

### D. RSS 피드 구독
```xml
<!-- 정책브리핑 RSS -->
https://www.korea.kr/rss/policy.xml

<!-- 중기부 RSS -->
https://www.mss.go.kr/site/smba/ex/rss/rssList.do

<!-- 소상공인진흥공단 RSS -->
https://www.semas.or.kr/web/rss/rss.do
```

---

## 📱 모바일 앱

### 소상공인마당 앱
- **Android**: Play Store에서 "소상공인마당"
- **iOS**: App Store에서 "소상공인마당"
- **특징**: 푸시 알림, 맞춤 추천

### 기업마당 앱
- **Android**: Play Store에서 "기업마당"
- **iOS**: App Store에서 "기업마당"
- **특징**: 전체 정부 지원사업

---

## 💡 활용 팁

1. **매주 월요일** 새로운 공고 확인
2. **마감 1달 전** 미리 준비
3. **중복 신청** 가능한 사업 확인
4. **지역별 추가 혜택** 확인
5. **컨설팅 지원** 함께 신청

---

## 📞 주요 상담 전화

- **중소기업 통합콜센터**: ☎1357
- **소상공인 상담센터**: ☎1588-5302
- **정부민원안내**: ☎110
- **지자체 콜센터**: ☎120
- **기업마당 콜센터**: ☎1577-7114

---

# Part 3. 참고 자료

## 📝 샘플 데이터

### 예제 1: 소상공인 경영개선 자금

```sql
INSERT INTO policy_supports (
    title, 
    organization, 
    category, 
    summary, 
    description,
    support_amount, 
    support_type, 
    eligibility_criteria,
    business_type, 
    target_area, 
    application_start_date, 
    application_end_date,
    application_url,
    contact_info,
    status
) VALUES (
    '2025년 소상공인 경영개선 자금',
    '중소벤처기업부',
    'operation',
    '코로나19 이후 경영 정상화를 위한 소상공인 지원',
    '소상공인의 경영 안정과 성장을 위한 정책자금 지원. 시설개선, 운영자금, 디지털 전환 등 다양한 용도로 사용 가능합니다.',
    '최대 7,000만원',
    'loan',
    '- 사업자등록 후 6개월 이상 영업 중인 소상공인\n- 연매출 10억원 이하\n- 신용등급 6등급 이상',
    ARRAY['음식점', '카페', '소매업', '서비스업'],
    ARRAY['전국'],
    '2025-01-01',
    '2025-12-31',
    'https://www.sbiz.or.kr',
    '소상공인시장진흥공단 ☎1357',
    'active'
);
```

### 예제 2: 착한가격업소 인센티브 지원

```sql
INSERT INTO policy_supports (
    title,
    organization,
    category,
    summary,
    description,
    support_amount,
    support_type,
    eligibility_criteria,
    business_type,
    target_area,
    application_start_date,
    application_end_date,
    application_url,
    contact_info,
    status
) VALUES (
    '착한가격업소 인센티브 지원',
    '진안군청',
    'operation',
    '착한가격업소로 지정된 업소에 대한 인센티브 지원',
    '물가안정에 기여하는 착한가격업소에 대해 상하수도료 감면, 쓰레기봉투 지원 등 다양한 인센티브를 제공합니다.',
    '연간 최대 100만원 상당',
    'grant',
    '- 진안군 소재 착한가격업소로 지정된 업체\n- 가격 안정 유지 업소',
    ARRAY['음식점', '이미용업', '세탁업'],
    ARRAY['전북 진안군'],
    '2025-01-01',
    '2025-11-30',
    'https://www.jinan.go.kr',
    '진안군청 경제정책과 ☎063-430-2345',
    'active'
);
```

---

## 📅 업데이트 기록

### 2025-11-01 (v1.1.0) 
- ✅ **실제 데이터 가져오기 기능 추가**
  - 관리자 페이지에 "실제 데이터 가져오기" 버튼 추가
  - 6개 실제 진행 중인 정책 데이터 내장
  - 공공데이터 API 연동 모듈 개발 (`api/fetch-real-policy-data.js`)
- ✅ **실제 데이터 소스 문서화**
  - 정부 공식 사이트 링크 정리
  - 실시간 데이터 수집 방법 안내
- ✅ **문서 통합 및 정리**
  - 2개 문서를 1개로 통합
  - docs 폴더로 이동하여 체계적 관리

### 2025-11-01 (v1.0.0)
- ✅ 초기 시스템 구축 완료
- ✅ 데이터베이스 스키마 설계
- ✅ 백엔드 API 개발
- ✅ 사용자/관리자 페이지 구현
- ✅ 메인 메뉴 통합

---

## 🔮 향후 개선사항

### 단기 계획
- [ ] 이메일/SMS 알림 기능
- [ ] 엑셀 일괄 등록 기능
- [ ] PDF 다운로드 기능
- [ ] 신청 가이드 템플릿

### 중장기 계획
- [ ] AI 기반 맞춤 추천
- [ ] 신청서 자동 작성 도우미
- [ ] 지원금 성공 사례 공유
- [ ] 전문가 상담 연결
- [ ] 모바일 앱 개발

### 기능 개선
- [ ] 검색 성능 최적화
- [ ] 실시간 푸시 알림
- [ ] 다국어 지원
- [ ] 음성 검색
- [ ] 챗봇 상담

---

## 📍 빠른 참조

### 주요 파일 위치

#### 📄 페이지
- **사용자 페이지**: `/policy-support.html`
- **관리자 페이지**: `/admin/policy-management.html`

#### 🔌 API
- **메인 API**: `/api/policy-support.js`
- **실제 데이터 수집**: `/api/fetch-real-policy-data.js`

#### 🗄️ 데이터베이스
- **스키마**: `/database/schemas/features/policy-support/policy-support-schema.sql`
- **샘플 데이터**: `/database/schemas/features/policy-support/sample-data.sql`

#### 📚 문서
- **통합 시스템 문서**: `/docs/policy-support/정책지원금_통합문서.md`

### 주요 기능 (v1.1.0)

| 기능 | 설명 | 위치 |
|------|------|------|
| 실제 데이터 가져오기 | 6개 실제 정책 원클릭 추가 | 관리자 페이지 빨간 버튼 |
| 정책 검색 | 제목, 기관, 키워드 검색 | 사용자 페이지 상단 |
| 북마크 | 관심 정책 저장 | 각 정책 카드 하단 |
| 마감일 알림 | D-Day 표시 | 정책 카드 내 |
| 카테고리 필터 | 7개 분류별 필터링 | 검색창 하단 |

---

## 📞 지원 및 문의

### 기술 지원
- 시스템 관련 문의는 관리자에게 연락주세요
- 버그 리포트 및 기능 제안 환영

### 정책 정보 관련
- 각 정책의 상세 내용은 해당 기관에 문의
- 신청 관련 질문은 정책별 문의처 활용

---

## 📚 참고 자료

### 정부 지원금 정보 사이트
- [기업마당](https://www.bizinfo.go.kr)
- [K-스타트업](https://www.k-startup.go.kr)
- [소상공인마당](https://www.sbiz.or.kr)
- [정책브리핑](https://www.korea.kr)

### 관련 법령
- 소상공인 보호 및 지원에 관한 법률
- 중소기업 창업 지원법
- 지역균형발전특별법

### 업데이트 주기
- **기업마당**: 실시간
- **소상공인마당**: 매일
- **K-스타트업**: 매주
- **지자체**: 월별

---

## 📌 중요 참고사항

1. **개인정보 보호**
   - 사용자 정보는 암호화하여 저장
   - 최소한의 정보만 수집
   - GDPR/KISA 가이드라인 준수

2. **데이터 정확성**
   - 정책 정보는 공식 출처에서 확인
   - 정기적인 업데이트 필요
   - 만료된 정책 자동 상태 변경

3. **접근성**
   - WCAG 2.1 레벨 AA 준수
   - 모바일 반응형 디자인
   - 스크린 리더 지원

---

*이 문서는 지속적으로 업데이트됩니다.*  
*최종 업데이트: 2024년 11월 1일*
