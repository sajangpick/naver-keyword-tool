<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>ì‚¬ì¥í”½ ì „ìì±… ë‹¤ìš´ë¡œë“œ - ì‚¬ì¥í”½</title>
    <meta
      name="description"
      content="ì‚¬ì¥í”½ ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ì…ë¬¸ ê°€ì´ë“œë¥¼ ì‚¬ì´íŠ¸ ì˜¤í”ˆ ê¸°ë… ê¹œì§ ë¬´ë£Œë¡œ ë§Œë‚˜ë³´ì„¸ìš”."
    />
    <meta name="keywords" content="ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤, ì „ìì±…, ì…ë¬¸ ê°€ì´ë“œ, ë¬´ë£Œ ë‹¤ìš´ë¡œë“œ, ì‹ë‹¹ ë§ˆì¼€íŒ…" />
    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="ì‚¬ì¥í”½ ì „ìì±… ë‹¤ìš´ë¡œë“œ - ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ì…ë¬¸ ê°€ì´ë“œ" />
    <meta property="og:description" content="ì‚¬ì´íŠ¸ ì˜¤í”ˆ ê¸°ë… ë¬´ë£Œ! ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ì…ë¬¸ ê°€ì´ë“œ ì „ìì±…" />
    <meta property="og:site_name" content="ì‚¬ì¥í”½" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      as="style"
      crossorigin
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css"
    />
    <style>
      :root {
        --accent-color: #ff7b54;
        --bg-color: #fff7f0;
        --text-primary: #201a17;
        --text-secondary: #7a6a60;
        --primary: var(--accent-color);
        --primary-dark: #e56548;
        --secondary: #ffe8d9;
        --text: var(--text-primary);
        --border: rgba(0, 0, 0, 0.08);
        --white: #ffffff;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Pretendard Variable", Pretendard, -apple-system,
          BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI",
          "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", sans-serif;
        background: var(--bg-color);
        color: var(--text-primary);
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      .header {
        position: sticky;
        top: 0;
        z-index: 50;
        background: var(--bg-color);
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        box-shadow: none;
      }

      .header-inner {
        max-width: 100%;
        margin: 0;
        padding: 12px 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        position: relative;
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 800;
        font-size: 12px;
        color: var(--text-primary);
        cursor: pointer;
        flex: 0 0 auto;
      }

      .logo-icon {
        width: 28px;
        height: 28px;
        border-radius: 12px;
        background: var(--accent-color);
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
      }

      .logo-text {
        letter-spacing: -0.03em;
        text-transform: lowercase;
        font-size: 12px;
      }

      .header-slogan {
        font-size: 16px;
        font-weight: 600;
        color: var(--text-secondary);
        margin: 0;
        white-space: nowrap;
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1;
      }

      .auth-buttons {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .auth-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        height: 44px;
        padding: 0 22px;
        border-radius: 12px;
        font-weight: 700;
        font-size: 14px;
        border: 1px solid rgba(0, 0, 0, 0.05);
        background: #fff;
        color: var(--text-primary);
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease, border 0.2s ease;
      }

      .auth-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 18px rgba(0, 0, 0, 0.08);
      }

      .auth-btn--primary {
        background: transparent;
        color: var(--accent-color);
        border: 1px solid var(--accent-color);
      }

      .auth-btn--primary:hover {
        background: var(--accent-color);
        color: #fff;
      }

      .auth-user {
        display: none;
        align-items: center;
        gap: 14px;
        padding: 10px 16px;
        border-radius: 16px;
        background: rgba(255, 123, 84, 0.12);
        color: var(--text-primary);
      }

      .auth-user__avatar {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        background: var(--accent-color);
        color: #fff;
        font-weight: 700;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
      }

      .auth-user__avatar {
        letter-spacing: -0.02em;
        text-transform: uppercase;
      }

      .auth-user__meta {
        display: flex;
        flex-direction: column;
        line-height: 1.2;
      }

      .auth-user__label {
        font-size: 11px;
        font-weight: 600;
        color: var(--text-secondary);
        letter-spacing: 0.08em;
        text-transform: uppercase;
        text-decoration: none;
      }

      .auth-user__email {
        font-size: 14px;
        font-weight: 600;
        color: var(--text-primary);
        cursor: pointer;
        transition: color 0.2s ease;
        text-decoration: none;
      }

      .auth-user__email:hover {
        color: var(--accent-color);
      }

      .auth-token-info-inline {
        display: none !important;
        align-items: center;
        gap: 4px;
        padding: 4px 8px;
        border-radius: 8px;
        background: rgba(255, 123, 84, 0.1);
        border: 1px solid rgba(255, 123, 84, 0.25);
        font-size: 11px;
        font-weight: 700;
        color: var(--text-primary);
      }

      .auth-token-info-inline.show {
        display: flex !important;
      }

      .auth-token-info-inline i {
        font-size: 12px;
        color: var(--accent-color);
      }

      .auth-token-text {
        display: flex;
        align-items: center;
        gap: 3px;
        font-weight: 700;
      }

      .auth-token-text span:first-child {
        color: var(--accent-color);
        font-size: 11px;
        font-weight: 800;
      }

      .auth-token-text span:last-child {
        color: var(--text-secondary);
        font-size: 10px;
        opacity: 0.7;
      }

      .auth-user__logout {
        height: 36px;
        padding: 0 16px;
        border-radius: 12px;
        border: 1px solid rgba(0, 0, 0, 0.08);
        background: #fff;
        color: var(--text-primary);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
      }

      .auth-user__logout:hover {
        background: rgba(255, 126, 70, 0.12);
        transform: translateY(-2px);
      }

      .side-nav {
        background: var(--secondary);
        border-radius: 18px;
        padding: 18px 11px;
        display: flex;
        flex-direction: column;
        gap: 14px;
        align-items: center;
        position: fixed;
        left: 20px;
        top: 120px;
        width: 66px;
        max-height: calc(100vh - 160px);
        overflow-y: auto;
        z-index: 40;
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.12);
      }

      .side-nav .menu-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 3px;
        padding: 9px 6px;
        color: #5a5a5a;
        font-weight: 500;
        font-size: 9px;
        border-radius: 11px;
        transition: all 0.3s ease;
        width: 43px;
        background: transparent;
      }

      .side-nav .menu-item:hover {
        background: #ffffff;
        color: var(--accent-color);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 126, 70, 0.3);
      }

      .side-nav .ico {
        width: 29px;
        height: 29px;
        border-radius: 7px;
        display: grid;
        place-items: center;
        background: transparent;
        color: #5a5a5a;
        font-size: 13px;
        transition: all 0.3s ease;
      }

      .side-nav .menu-item.active {
        background: #ffffff;
        color: var(--accent-color);
      }

      .side-nav .menu-item.active .ico {
        color: var(--accent-color);
        background: rgba(255, 126, 70, 0.1);
      }

      .main-content {
        margin-left: 0;
        padding-left: 100px;
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 32px;
        flex: 1;
      }

      .header-section {
        background: var(--secondary);
        border-radius: 20px 20px 0 0;
        padding: 12px 20px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .page-title {
        text-align: center;
      }

      .page-title h1 {
        font-size: 12pt;
        font-weight: 800;
        color: var(--text-primary);
        margin-bottom: 4px;
        line-height: 1.2;
      }

      .page-title p {
        font-size: 8pt;
        color: var(--text-secondary);
        line-height: 1.3;
      }

      .beta-badge {
        display: inline-block;
        padding: 4px 12px;
        background: var(--accent-color);
        color: white;
        font-size: 12px;
        font-weight: 500;
        border-radius: 20px;
        margin-left: 10px;
        vertical-align: middle;
      }

      .content-card {
        background: #ffffff;
        border-radius: 0 0 20px 20px;
        padding: 32px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        margin-bottom: 36px;
      }

      .ebook-hero {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 32px;
        align-items: center;
      }

      .hero-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 14px;
        border-radius: 999px;
        background: rgba(255, 123, 84, 0.15);
        color: var(--accent-color);
        font-weight: 600;
        font-size: 13px;
        margin-bottom: 16px;
      }

      .ebook-hero h2 {
        font-size: 18px;
        font-weight: 800;
        color: var(--text-primary);
        margin-bottom: 16px;
        line-height: 1.4;
      }

      .ebook-hero p {
        font-size: 13px;
        color: var(--text-secondary);
        margin-bottom: 20px;
        line-height: 1.6;
      }

      .price-labels {
        display: flex;
        align-items: baseline;
        gap: 12px;
        margin-bottom: 20px;
      }

      .price-original {
        text-decoration: line-through;
        color: var(--text-secondary);
        font-size: 16px;
      }

      .price-free {
        font-size: 26px;
        font-weight: 800;
        color: var(--accent-color);
      }

      .cta-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-bottom: 18px;
      }

      .cta-primary {
        background: var(--accent-color);
        color: #fff;
        border: none;
        padding: 14px 26px;
        border-radius: 14px;
        font-size: 15px;
        font-weight: 700;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 10px 24px rgba(255, 123, 84, 0.35);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .cta-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 16px 32px rgba(255, 123, 84, 0.4);
      }

      .cta-secondary {
        padding: 14px 22px;
        border-radius: 14px;
        border: 1px solid rgba(0, 0, 0, 0.08);
        background: #fff;
        font-weight: 600;
        font-size: 15px;
        color: var(--text-primary);
        display: inline-flex;
        align-items: center;
        gap: 8px;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .cta-secondary:hover {
        transform: translateY(-1px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
      }

      .status-hint {
        font-size: 13px;
        color: var(--text-secondary);
      }

      .hero-meta {
        margin-top: 12px;
        font-size: 13px;
        color: var(--text-secondary);
        display: flex;
        align-items: center;
        gap: 12px;
        flex-wrap: wrap;
      }

      .hero-meta .tag {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 14px;
        border-radius: 999px;
        background: rgba(32, 26, 23, 0.06);
        font-size: 12px;
      }

      .ebook-visual {
        background: #fff5ef;
        border-radius: 18px;
        padding: 24px;
        border: 1px solid rgba(0, 0, 0, 0.04);
        box-shadow: inset 0 0 0 1px rgba(255, 123, 84, 0.12);
      }

      .ebook-visual img {
        width: 100%;
        max-width: 380px;
        max-height: 380px;
        object-fit: contain;
        border-radius: 12px;
        margin: 0 auto;
        display: block;
      }

      .two-column {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 20px;
      }

      .feature-card {
        border: 1px solid rgba(0, 0, 0, 0.06);
        border-radius: 20px;
        padding: 22px;
        background: #fff;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.06);
      }

      .feature-card h3 {
        font-size: 16px;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .feature-card p {
        font-size: 13px;
        color: var(--text-secondary);
        line-height: 1.6;
      }

      .steps-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 18px;
      }

      .step-card {
        background: rgba(255, 232, 217, 0.6);
        border-radius: 18px;
        padding: 20px;
        border: 1px solid rgba(255, 123, 84, 0.2);
        text-align: center;
      }

      .step-index {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: #fff;
        color: var(--accent-color);
        font-weight: 700;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 12px;
        box-shadow: 0 8px 20px rgba(255, 123, 84, 0.25);
      }

      .step-card h4 {
        font-size: 16px;
        color: var(--text-primary);
        margin-bottom: 8px;
      }

      .step-card p {
        font-size: 13px;
        color: var(--text-secondary);
        line-height: 1.6;
      }

      .trust-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 18px;
      }

      .trust-item {
        border-radius: 18px;
        border: 1px solid rgba(0, 0, 0, 0.06);
        background: #fff;
        padding: 22px;
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.05);
      }

      .trust-item h3 {
        font-size: 16px;
        color: var(--text-primary);
        margin-bottom: 10px;
      }

      .trust-item p {
        font-size: 13px;
        color: var(--text-secondary);
        line-height: 1.6;
      }

      .cta-panel {
        background: linear-gradient(135deg, #ff9966, #ff5e62);
        color: #fff;
        border-radius: 22px;
        padding: 38px 28px;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .cta-panel::before,
      .cta-panel::after {
        content: "";
        position: absolute;
        width: 220px;
        height: 220px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.12);
      }

      .cta-panel::before {
        top: -100px;
        left: -60px;
      }

      .cta-panel::after {
        bottom: -120px;
        right: -60px;
      }

      .cta-panel h2 {
        font-size: 20px;
        font-weight: 800;
        margin-bottom: 14px;
        position: relative;
      }

      .cta-panel p {
        font-size: 13px;
        margin-bottom: 24px;
        opacity: 0.95;
        position: relative;
      }

      .cta-panel .cta-buttons {
        justify-content: center;
      }

      footer {
        max-width: 1200px;
        margin: 0 auto 60px;
        padding: 0 32px;
        font-size: 13px;
        color: var(--text-secondary);
        text-align: center;
      }

      @media (max-width: 992px) {
        .header {
          display: none;
        }

        .side-nav {
          position: fixed !important;
          bottom: 20px !important;
          left: 50%;
          transform: translateX(-50%);
          top: auto !important;
          flex-direction: row;
          width: calc(100vw - 40px);
          max-width: calc(100vw - 40px);
          padding: 6px 10px;
          overflow-x: auto;
          overflow-y: hidden;
          gap: 8px;
          border-radius: 18px;
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
          z-index: 100;
          justify-content: flex-start;
          -webkit-overflow-scrolling: touch;
          touch-action: pan-x;
          scrollbar-width: thin;
          scroll-snap-type: x mandatory;
        }

        /* ì˜¤ë¥¸ìª½ í˜ì´ë“œì•„ì›ƒ íš¨ê³¼ */
        .side-nav::after {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 50px;
          height: 100%;
          background: linear-gradient(to right, transparent, #ffe8d9);
          pointer-events: none;
          z-index: 1;
          opacity: 1;
          transition: opacity 0.3s ease;
        }

        /* ì˜¤ë¥¸ìª½ í™”ì‚´í‘œ ì¸ë””ì¼€ì´í„° */
        .side-nav::before {
          content: 'â†’';
          position: absolute;
          top: 50%;
          right: 8px;
          transform: translateY(-50%);
          font-size: 18px;
          color: rgba(255, 126, 70, 0.6);
          pointer-events: none;
          z-index: 2;
          opacity: 1;
          transition: opacity 0.3s ease;
          animation: slideHintSide 2s ease-in-out infinite;
        }

        @keyframes slideHintSide {
          0%, 100% {
            transform: translateY(-50%) translateX(0);
          }
          50% {
            transform: translateY(-50%) translateX(5px);
          }
        }

        /* ì¸ë””ì¼€ì´í„°ê°€ ìˆ¨ê²¨ì§„ ê²½ìš° */
        .side-nav.hide-indicator::before,
        .side-nav.hide-indicator::after {
          opacity: 0 !important;
          animation: none !important;
        }

        .side-nav::-webkit-scrollbar {
          height: 4px;
        }

        .side-nav::-webkit-scrollbar-track {
          background: rgba(0, 0, 0, 0.05);
          border-radius: 2px;
        }

        .side-nav::-webkit-scrollbar-thumb {
          background: rgba(255, 126, 70, 0.4);
          border-radius: 2px;
        }

        .side-nav::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 126, 70, 0.6);
        }

        .side-nav .menu-item {
          flex-direction: column;
          min-width: 50px;
          padding: 4px 5px;
          font-size: 8px;
          flex: 0 0 50px;
          flex-shrink: 0;
          scroll-snap-align: start;
          gap: 3px;
        }

        .side-nav .menu-item.active {
          background: #ffffff;
          color: var(--accent-color);
        }

        .side-nav .menu-item.active .ico {
          color: var(--accent-color);
          background: rgba(255, 126, 70, 0.1);
        }

        .side-nav .menu-item .ico {
          width: 32px;
          height: 32px;
          font-size: 14px;
        }

        .main-content {
          padding-left: 0;
          padding-bottom: 65px;
        }

        .container {
          padding: 20px 14px;
        }

        .ebook-hero {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 768px) {
        .page-title h1 {
          font-size: 12pt;
          margin-bottom: 2px;
          line-height: 1.2;
        }

        .page-title p {
          font-size: 8pt;
          line-height: 1.3;
        }

        .ebook-hero h2 {
          font-size: 16px;
        }

        .ebook-hero p {
          font-size: 12px;
        }
      }

      @media (max-width: 640px) {
        .content-card {
          padding: 22px 18px;
        }

        .cta-buttons {
          flex-direction: column;
        }

        .cta-buttons > * {
          width: 100%;
          justify-content: center;
        }
      }

      @media (max-width: 360px) {
        .side-nav {
          position: fixed !important;
          bottom: 12px !important;
          top: auto !important;
          width: calc(100vw - 16px);
          max-width: calc(100vw - 16px);
          padding: 5px 8px;
          gap: 6px;
          border-radius: 14px;
          overflow-x: auto;
          overflow-y: hidden;
          justify-content: flex-start;
          -webkit-overflow-scrolling: touch;
          touch-action: pan-x;
          scrollbar-width: thin;
          scroll-snap-type: x mandatory;
        }

        /* ì˜¤ë¥¸ìª½ í˜ì´ë“œì•„ì›ƒ íš¨ê³¼ */
        .side-nav::after {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 40px;
          height: 100%;
          background: linear-gradient(to right, transparent, #ffe8d9);
          pointer-events: none;
          z-index: 1;
          opacity: 1;
          transition: opacity 0.3s ease;
        }

        /* ì˜¤ë¥¸ìª½ í™”ì‚´í‘œ ì¸ë””ì¼€ì´í„° */
        .side-nav::before {
          content: 'â†’';
          position: absolute;
          top: 50%;
          right: 6px;
          transform: translateY(-50%);
          font-size: 16px;
          color: rgba(255, 126, 70, 0.6);
          pointer-events: none;
          z-index: 2;
          animation: slideHintSide 2s ease-in-out infinite;
          opacity: 1;
          transition: opacity 0.3s ease;
        }

        /* ì¸ë””ì¼€ì´í„°ê°€ ìˆ¨ê²¨ì§„ ê²½ìš° (360px ì´í•˜) */
        .side-nav.hide-indicator::before,
        .side-nav.hide-indicator::after {
          opacity: 0 !important;
          animation: none !important;
        }

        .side-nav::-webkit-scrollbar {
          height: 3px;
        }

        .side-nav::-webkit-scrollbar-track {
          background: rgba(0, 0, 0, 0.05);
          border-radius: 2px;
        }

        .side-nav::-webkit-scrollbar-thumb {
          background: rgba(255, 126, 70, 0.4);
          border-radius: 2px;
        }

        .side-nav .menu-item {
          min-width: 45px;
          padding: 3px 4px;
          font-size: 7px;
          flex: 0 0 45px;
          flex-shrink: 0;
          gap: 2px;
          scroll-snap-align: start;
        }

        .side-nav .menu-item .ico {
          width: 28px;
          height: 28px;
          font-size: 12px;
        }

        .side-nav .menu-item span:not(.ico) {
          font-size: 7px;
          word-break: keep-all;
          line-height: 1.2;
          text-align: center;
        }

        .side-nav .menu-item.active {
          background: #ffffff;
          color: var(--accent-color);
        }

        .side-nav .menu-item.active .ico {
          color: var(--accent-color);
          background: rgba(255, 126, 70, 0.1);
        }

        .main-content {
          padding-bottom: 55px;
        }
      }

      /* í‘¸í„° ìŠ¤íƒ€ì¼ */
      .site-footer {
        background: rgba(255, 255, 255, 0.95);
        border-top: 1px solid rgba(0, 0, 0, 0.08);
        padding: 40px 20px;
        margin-top: auto;
        color: var(--text-secondary);
        width: 100%;
      }

      .footer-content {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        gap: 24px;
        font-size: 14px;
        line-height: 1.8;
        align-items: center;
      }

      .footer-item {
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 12px;
      }

      .footer-label {
        font-weight: 700;
        color: var(--text-primary);
        font-size: 13px;
        margin-bottom: 4px;
      }

      .footer-value {
        color: var(--text-secondary);
        font-size: 13px;
      }

      .footer-value a {
        color: var(--accent-color);
        text-decoration: none;
        transition: opacity 0.2s ease;
      }

      .footer-value a:hover {
        opacity: 0.8;
        text-decoration: underline;
      }

      @media (max-width: 768px) {
        .site-footer {
          padding: 32px 16px;
        }

        .footer-content {
          gap: 16px;
          font-size: 12px;
          flex-direction: row;
          flex-wrap: wrap;
        }

        .footer-item {
          flex-direction: row;
          align-items: center;
          gap: 6px;
        }

        .footer-label {
          font-size: 12px;
        }

        .footer-value {
          font-size: 12px;
        }
      }
    </style>
    <!-- ì¸ì¦ ê°€ë“œ: ë¡œê·¸ì¸ í•„ìˆ˜ ê¸°ëŠ¥ ë³´í˜¸ -->
    <script src="./assets/auth-guard.js" defer></script>
    <!-- Meta Pixel Code -->
    <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '823098897158597');
      fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id=823098897158597&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
  </head>
  <body>
    <header class="header">
      <div class="header-inner">
        <a href="./index.html" class="logo-container">
          <div class="logo-icon">
            <i class="fa-solid fa-thumbtack"></i>
          </div>
          <span class="logo-text">sajang pick</span>
        </a>

        <h1 class="header-slogan">ì„¼ìŠ¤ìˆëŠ” ì‚¬ì¥ë‹˜ë“¤ì˜ ì„ íƒ</h1>

        <div class="auth-buttons" id="authButtons">
            <div class="auth-token-info" id="authTokenInfo" style="display: none;" onclick="location.href='./mypage.html'" title="ë§ˆì´í˜ì´ì§€ì—ì„œ í† í° ì •ë³´ í™•ì¸">
              <i class="fa-solid fa-coins"></i>
              <span class="auth-token-text">
                <span id="tokenRemaining">-</span>
                <span style="color: var(--text-secondary); font-weight: 400;">/</span>
                <span id="tokenLimit">-</span>
              </span>
            </div>
          <div class="auth-user" id="authUser" style="display: none">
            <div class="auth-user__avatar" id="userAvatar">U</div>
            <div class="auth-user__meta">
              <div style="display: flex; align-items: center; gap: 8px;">
                <a
                  href="./mypage.html"
                  class="auth-user__label"
                  style="cursor: pointer; text-decoration: none; display: flex; align-items: center; gap: 6px;"
                  ><i class="fa-solid fa-door-open" style="font-size: 14px;"></i>ë‚˜ì˜ í˜ì´ì§€</a
                >
                <div class="auth-token-info-inline" id="authTokenInfo" style="display: none;">
                  <i class="fa-solid fa-coins"></i>
                  <span class="auth-token-text">
                    <span id="tokenRemaining">-</span>
                    <span style="color: var(--text-secondary); font-weight: 400;">/</span>
                    <span id="tokenLimit">-</span>
                  </span>
                </div>
              </div>
              <a
                href="./mypage.html"
                class="auth-user__email"
                id="userEmail"
                style="cursor: pointer"
              ></a>
            </div>
            <button class="auth-user__logout" id="logoutBtn" type="button">
              ë¡œê·¸ì•„ì›ƒ
            </button>
          </div>
          <a
            href="./login.html"
            class="auth-btn auth-btn--primary"
            id="loginBtn"
          >
            <i class="fa-solid fa-sign-in-alt" style="margin-right: 8px"></i>
            <span>ë¡œê·¸ì¸</span>
          </a>
          <a href="./join.html" class="auth-btn auth-btn--ghost" id="signupBtn">
            <i class="fa-solid fa-user-plus" style="margin-right: 8px"></i>
            <span>íšŒì›ê°€ì…</span>
          </a>
        </div>
      </div>
    </header>

    <aside class="side-nav" aria-label="ì‚¬ì´ë“œ ë„¤ë¹„ê²Œì´ì…˜">
      <a class="menu-item" href="./index.html">
        <span class="ico"><i class="fa-solid fa-house"></i></span>
        <span>í™ˆ</span>
      </a>
      <a class="menu-item" href="./naver_search.html">
        <span class="ico"><i class="fa-solid fa-key"></i></span>
        <span>í‚¤ì›Œë“œ</span>
      </a>
      <a class="menu-item" href="./AI-Review.html">
        <span class="ico"><i class="fa-solid fa-pen-nib"></i></span>
        <span>ë¦¬ë·°</span>
      </a>
      <a class="menu-item" href="./Blog-Editor.html">
        <span class="ico"><i class="fa-solid fa-blog"></i></span>
        <span>ë¸”ë¡œê·¸</span>
      </a>
      <a class="menu-item" href="./recipe-manager.html">
        <span class="ico"><i class="fa-solid fa-utensils"></i></span>
        <span>ë ˆì‹œí”¼</span>
      </a>
      <a class="menu-item" href="./shorts-editor.html">
        <span class="ico"><i class="fa-solid fa-film"></i></span>
        <span>ì˜ìƒ</span>
      </a>
      <a class="menu-item active" href="./sajangpick-book.html">
        <span class="ico"><i class="fa-solid fa-book-open"></i></span>
        <span>ì „ìì±…</span>
      </a>
      <a class="menu-item" href="./news-board.html">
        <span class="ico"><i class="fa-solid fa-newspaper"></i></span>
        <span>ë‰´ìŠ¤</span>
      </a>
      <a class="menu-item" href="./policy-support.html">
        <span class="ico"><i class="fa-solid fa-coins"></i></span>
        <span>ì •ì±…</span>
      </a>
    </aside>

    <div class="main-content">
      <div class="container">
        <div class="header-section">
          <div class="page-title">
            <h1>
              ì‚¬ì¥í”½ ì „ìì±… ë‹¤ìš´ë¡œë“œ <span class="beta-badge">ê¹œì§ ë¬´ë£Œ</span>
            </h1>
            <p>
              ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ì´ˆë³´ ì‚¬ì¥ë‹˜ì„ ìœ„í•œ ì‹¤ì „ ì…ë¬¸ ê°€ì´ë“œë¥¼ ë¡œê·¸ì¸
              ê³ ê°ì—ê²Œë§Œ ë¬´ë£Œë¡œ ì œê³µí•©ë‹ˆë‹¤.
            </p>
          </div>
        </div>

        <div class="content-card">
          <div class="ebook-hero">
            <div>
              <div class="hero-badge">
                <i class="fa-solid fa-gift"></i>
                ì‚¬ì´íŠ¸ ì˜¤í”ˆ ê¸°ë… í•œì • ì´ë²¤íŠ¸
              </div>
              <h2>ë¡œê·¸ì¸ë§Œ í•˜ë©´ 0ì›ìœ¼ë¡œ ë°›ëŠ” ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ì…ë¬¸ì„œ</h2>
              <p>
                ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì—ì„œ ì •ê°€ë¡œ íŒë§¤ ì¤‘ì¸ ì‚¬ì¥í”½ ì „ìì±…ì„ ì§€ê¸ˆ
                ë¡œê·¸ì¸ íšŒì›ì—ê²Œë§Œ ë¬´ë£Œë¡œ ë“œë¦½ë‹ˆë‹¤. ì˜ˆê³  ì—†ì´ ìœ ë£Œë¡œ ì „í™˜ë  ìˆ˜
                ìˆëŠ” ê¹œì§ ì´ë²¤íŠ¸ì´ë‹ˆ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”.
              </p>
              <div class="price-labels">
                <span class="price-original">ì •ê°€ 79,000ì›</span>
                <span class="price-free">â†’ ì§€ê¸ˆì€ 0ì›</span>
              </div>
              <div class="cta-buttons">
                <button class="cta-primary" type="button" id="downloadBtn">
                  <i class="fa-solid fa-download"></i>
                  ì „ìì±… ë¬´ë£Œ ë‹¤ìš´ë¡œë“œ
                </button>
                <a class="cta-secondary" id="loginCta" href="./login.html">
                  <i class="fa-solid fa-arrow-right-to-bracket"></i>
                  ë¡œê·¸ì¸í•˜ê³  ë°›ê¸°
                </a>
              </div>
              <div class="status-hint" id="downloadStatus">
                ë¡œê·¸ì¸ íšŒì›ì—ê²Œë§Œ ë‹¤ìš´ë¡œë“œ ë§í¬ê°€ ì—´ë¦½ë‹ˆë‹¤.
              </div>
              <div class="hero-meta">
                <a
                  href="https://smartstore.naver.com/sanao/products/12315210567"
                  target="_blank"
                  rel="noopener"
                  class="tag"
                >
                  <i class="fa-solid fa-store"></i>
                  ì‚¬ì¥í”½ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ì •ì‹ íŒë§¤ ë„ì„œ
                </a>
                <span class="tag">
                  <i class="fa-solid fa-clock"></i>
                  ê¹œì§ ì´ë²¤íŠ¸ëŠ” ì˜ˆê³  ì—†ì´ ì¢…ë£Œë©ë‹ˆë‹¤
                </span>
              </div>
            </div>
            <div class="ebook-visual">
              <img
                src="./docs/01_ê¸°ëŠ¥_ì‚¬ìš©ì„¤ëª…ì„œ/image/07_ë ˆì‹œí”¼ê´€ë¦¬_AIìƒì„±ì‹œìŠ¤í…œ/ebook-cover.jpg"
                alt="ì‚¬ì¥í”½ ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ì…ë¬¸ ê°€ì´ë“œ ì „ìì±… í‘œì§€"
              />
            </div>
          </div>
        </div>

        <div class="content-card">
          <div class="two-column" style="margin-bottom: 24px">
            <div class="feature-card">
              <h3>
                <i class="fa-solid fa-list-check"></i> ì „ìì±…ì—ì„œ ë°”ë¡œ ì¨ë¨¹ëŠ”
                í•µì‹¬ ë…¸í•˜ìš°
              </h3>
              <p>
                í”Œë ˆì´ìŠ¤ ê¸°ë³¸ ì„¸íŒ…ë¶€í„° ë¦¬ë·° ê´€ë¦¬, ìƒìœ„ ë…¸ì¶œ ì „ëµê¹Œì§€ ì´ˆë³´
                ì‚¬ì¥ë‹˜ì´ ë‹¹ì¥ ë”°ë¼ í•  ìˆ˜ ìˆëŠ” ìˆœì„œë¡œ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ì‹¤ì „
                ì²´í¬ë¦¬ìŠ¤íŠ¸ì™€ ì‚¬ë¡€ ì¤‘ì‹¬ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆì–´ ë§¤ì¥ ìš´ì˜ì— ë°”ë¡œ ì ìš©í• 
                ìˆ˜ ìˆìŠµë‹ˆë‹¤.
              </p>
            </div>
            <div class="feature-card">
              <h3>
                <i class="fa-solid fa-envelope-open-text"></i> í›„ì† ìë£Œì™€
                ì—…ë°ì´íŠ¸
              </h3>
              <p>
                ì „ìì±…ì„ ë¬´ë£Œë¡œ ë°›ì•„ê°€ì‹  íšŒì›ì—ê²ŒëŠ” í”Œë ˆì´ìŠ¤ ìš´ì˜ ê¿€íŒ, ë¼ì´ë¸Œ
                ì›¨ë¹„ë‚˜, ì •ì±… ì§€ì› ì†Œì‹ê¹Œì§€ ì´ì–´ì„œ ì „í•´ë“œë¦½ë‹ˆë‹¤. í•œ ë²ˆ
                ë‹¤ìš´ë¡œë“œí•˜ë©´ ê³„ì†í•´ì„œ ìµœì‹  ì •ë³´ë¥¼ ë°›ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
              </p>
            </div>
          </div>

          <div class="steps-grid">
            <div class="step-card">
              <div class="step-index">1</div>
              <h4>ì‚¬ì¥í”½ ë¡œê·¸ì¸</h4>
              <p>
                ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë˜ëŠ” ì´ë©”ì¼ íšŒì›ê°€ì… í›„ ë¡œê·¸ì¸í•˜ë©´ ë‹¤ìš´ë¡œë“œ ì¤€ë¹„ê°€
                ëë‚©ë‹ˆë‹¤.
              </p>
            </div>
            <div class="step-card">
              <div class="step-index">2</div>
              <h4>ë¬´ë£Œ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ í´ë¦­</h4>
              <p>
                ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ PDFê°€ ìƒˆ ì°½ìœ¼ë¡œ ì—´ë¦¬ê³ , ë‚´ ê³„ì •ì—ë„ ì¦‰ì‹œ
                ì €ì¥ë©ë‹ˆë‹¤.
              </p>
            </div>
            <div class="step-card">
              <div class="step-index">3</div>
              <h4>PDF ì—´ëŒ & ì´ë©”ì¼ ìˆ˜ì‹ </h4>
              <p>
                ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ í™•ì¸í•˜ê³ , ì´ë©”ì¼ë¡œë„ ë‹¤ìš´ë¡œë“œ ë§í¬ë¥¼ ë‹¤ì‹œ
                ë°›ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
              </p>
            </div>
          </div>
        </div>

        <div class="content-card">
          <h2
            style="
              font-size: 20px;
              font-weight: 800;
              color: var(--text-primary);
              margin-bottom: 18px;
            "
          >
            ì‚¬ì¥ë‹˜ë“¤ì´ ì•ˆì‹¬í•˜ê³  ì„ íƒí•˜ëŠ” ì´ìœ 
          </h2>
          <div class="trust-grid">
            <div class="trust-item">
              <h3>
                <i
                  class="fa-solid fa-medal"
                  style="color: var(--accent-color); margin-right: 8px"
                ></i
                >ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ì •ì‹ íŒë§¤ ì½˜í…ì¸ 
              </h3>
              <p>
                ì‹¤ì œë¡œ íŒë§¤ ì¤‘ì¸ ê²€ì¦ëœ ì½˜í…ì¸ ë¥¼ ê¹œì§ ë¬´ë£Œë¡œ ì œê³µí•´ ë“œë¦½ë‹ˆë‹¤.
                ìœ ë£Œë¡œ êµ¬ë§¤í•œ ì‚¬ì¥ë‹˜ë“¤ì˜ ë§Œì¡± í›„ê¸°ê°€ ê³„ì† ì´ì–´ì§€ê³  ìˆìŠµë‹ˆë‹¤.
              </p>
            </div>
            <div class="trust-item">
              <h3>
                <i
                  class="fa-solid fa-briefcase"
                  style="color: var(--accent-color); margin-right: 8px"
                ></i
                >ì‚¬ì¥í”½ ì‹¤ë¬´ì§„ì˜ ë…¸í•˜ìš°
              </h3>
              <p>
                ë§¤ì¥ ì»¨ì„¤íŒ…ê³¼ ë°ì´í„° ë¶„ì„ì„ ì§„í–‰í•´ ì˜¨ ì‚¬ì¥í”½ íŒ€ì´ ì§ì ‘ ì‘ì„±í•œ
                ê°€ì´ë“œì…ë‹ˆë‹¤. í˜„ì¥ì—ì„œ ë°”ë¡œ ì¨ë¨¹ì„ ìˆ˜ ìˆëŠ” íŒë§Œ ëª¨ì•˜ìŠµë‹ˆë‹¤.
              </p>
            </div>
            <div class="trust-item">
              <h3>
                <i
                  class="fa-solid fa-bell"
                  style="color: var(--accent-color); margin-right: 8px"
                ></i
                >ì—…ë°ì´íŠ¸ & ì •ì±… ì†Œì‹
              </h3>
              <p>
                ì „ìì±…ì„ ë°›ìœ¼ì‹  ì´í›„ì—ë„ í”Œë ˆì´ìŠ¤ ì •ì±… ë³€ê²½, ì •ë¶€ ì§€ì› ì†Œì‹, AI
                í™œìš©ë²• ë“± ì‹¤ë¬´ ì •ë³´ë¥¼ ì´ë©”ì¼ë¡œ ê³„ì† ì•ˆë‚´í•´ ë“œë¦½ë‹ˆë‹¤.
              </p>
            </div>
          </div>
        </div>

        <div class="content-card">
          <div class="cta-panel">
            <h2>ì§€ê¸ˆ ë¡œê·¸ì¸í•˜ê³  ê¹œì§ ë¬´ë£Œ í˜œíƒì„ ì¡ìœ¼ì„¸ìš”</h2>
            <p>
              ì´ë²¤íŠ¸ ì¢…ë£Œ í›„ì—ëŠ” ë‹¤ì‹œ ìœ ë£Œë¡œ ì „í™˜ë©ë‹ˆë‹¤. ì‚¬ì¥ë‹˜ ì „ìš© ë„¤ì´ë²„
              í”Œë ˆì´ìŠ¤ ì…ë¬¸ ê°€ì´ë“œë¥¼ ì§€ê¸ˆ ë¬´ë£Œë¡œ ë°›ì•„ë³´ì„¸ìš”.
            </p>
            <div class="cta-buttons">
              <button class="cta-primary" type="button" id="ctaDownloadBtn">
                <i class="fa-solid fa-arrow-down-long"></i>
                ì§€ê¸ˆ ë°”ë¡œ ë¬´ë£Œ ë‹¤ìš´ë¡œë“œ
              </button>
              <a class="cta-secondary" id="ctaLoginBtn" href="./login.html">
                <i class="fa-solid fa-user"></i>
                ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
              </a>
            </div>
          </div>
        </div>

        <footer>
          Â© <span id="footerYear"></span> ì‚¬ì¥í”½. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .
          <span style="margin-left: 12px"
            >ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨Â·ì´ìš©ì•½ê´€ì€ ê³§ ê³µê°œë©ë‹ˆë‹¤.</span
          >
        </footer>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.4/dist/umd/supabase.min.js"
      integrity="sha384-GFr3yTh5lJznCbZfpTtXnwboFsxqtTQoeTZCRHhE0579KrRmlCzen5AA8ohaB5ug"
      crossorigin="anonymous"
    ></script>
    <script src="./assets/auth-state.js?v=20251114"></script>
    <script>
      // âš ï¸ ìºì‹œ ë°©ì§€ë¥¼ ìœ„í•œ ë²„ì „ ë²ˆí˜¸ (2025-11-14 ìˆ˜ì •: 2026 â†’ 2025 ìˆ˜ì •)
      console.log("========================================");
      console.log("ğŸ“š ì „ìì±… ë‹¤ìš´ë¡œë“œ í˜ì´ì§€ ë¡œë“œë¨");
      console.log("ğŸ“… ìŠ¤í¬ë¦½íŠ¸ ë²„ì „: 2025-11-14");
      console.log("âœ… 2026 ë²„ì „ ì‚¬ìš©");
      console.log("========================================");
    </script>
    <script>
      (function () {
        const CORRECT_FILENAME =
          "Naver_Place_Introduction_Guide_2026_Sajangpick_vol1.pdf";
        const DOWNLOAD_ENDPOINT = "/api/ebook/download";

        console.log("[ì „ìì±…] âœ… ë³´í˜¸ ë‹¤ìš´ë¡œë“œ ëª¨ë“œ í™œì„±í™”");
        console.log("[ì „ìì±…] âœ… ì˜ˆìƒ íŒŒì¼ëª…:", CORRECT_FILENAME);
        console.log("[ì „ìì±…] âœ… ë‹¤ìš´ë¡œë“œ API:", DOWNLOAD_ENDPOINT);
        const downloadBtn = document.getElementById("downloadBtn");
        const loginCta = document.getElementById("loginCta");
        const statusText = document.getElementById("downloadStatus");
        const ctaDownloadBtn = document.getElementById("ctaDownloadBtn");
        const ctaLoginBtn = document.getElementById("ctaLoginBtn");
        const footerYear = document.getElementById("footerYear");
        let currentUser = null;
        window.currentUser = null;
        let sessionCheckAttempts = 0;
        const MAX_SESSION_CHECK_ATTEMPTS = 50; // ìµœëŒ€ 5ì´ˆ ëŒ€ê¸° (50 * 100ms)

        footerYear.textContent = new Date().getFullYear();

        function normalizeUserPayload(rawUser) {
          if (!rawUser || typeof rawUser !== "object") {
            return null;
          }
          const id =
            rawUser.id ||
            rawUser.user_id ||
            rawUser.userId ||
            rawUser.uid ||
            rawUser?.user_metadata?.sub ||
            null;
          const email =
            rawUser.email ||
            rawUser.user_metadata?.email ||
            rawUser.user_metadata?.email_address ||
            null;
          const displayName =
            rawUser.displayName ||
            rawUser.name ||
            rawUser.user_metadata?.full_name ||
            rawUser.user_metadata?.name ||
            email ||
            "ì‚¬ì¥ë‹˜";
          const provider =
            rawUser.provider ||
            rawUser.app_metadata?.provider ||
            "unknown";
          return {
            id,
            email,
            displayName,
            provider,
          };
        }

        function setLoggedInUI(user) {
          const normalizedUser = normalizeUserPayload(user);
          if (!normalizedUser) {
            console.warn("[ì „ìì±…] ë¡œê·¸ì¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.");
            return;
          }

          currentUser = normalizedUser;
          window.currentUser = normalizedUser;

          // ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ì˜ì—­ ì—…ë°ì´íŠ¸
          if (loginCta) loginCta.style.display = "none";
          if (ctaLoginBtn) ctaLoginBtn.style.display = "none";
          if (statusText) {
            statusText.textContent =
              "ë¡œê·¸ì¸ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ë²„íŠ¼ì„ ëˆŒëŸ¬ ì „ìì±…ì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.";
            statusText.style.color = "#d9480f";
          }

          // í—¤ë” ì—…ë°ì´íŠ¸
          const authUser = document.getElementById("authUser");
          const loginBtn = document.getElementById("loginBtn");
          const signupBtn = document.getElementById("signupBtn");
          const userEmail = document.getElementById("userEmail");
          const userAvatar = document.getElementById("userAvatar");
          const logoutBtn = document.getElementById("logoutBtn");

          if (authUser) authUser.style.display = "flex";
          if (loginBtn) loginBtn.style.display = "none";
          if (signupBtn) signupBtn.style.display = "none";
          if (logoutBtn) logoutBtn.style.display = "inline-flex";

          if (userEmail) {
            const emailText = normalizedUser.email || "ë§ˆì´í˜ì´ì§€";
            userEmail.textContent = emailText;
            userEmail.title =
              emailText !== "ë§ˆì´í˜ì´ì§€"
                ? `${emailText} (ë§ˆì´í˜ì´ì§€ë¡œ ì´ë™)`
                : "í´ë¦­í•˜ì—¬ ë§ˆì´í˜ì´ì§€ë¡œ ì´ë™";
          }

          if (userAvatar) {
            const baseValue =
              normalizedUser.displayName ||
              normalizedUser.email ||
              "U";
            const initial = (baseValue.toString().trim()[0] || "U").toUpperCase();
            userAvatar.textContent = initial;
          }

          // ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
          if (logoutBtn) {
            logoutBtn.onclick = async () => {
              if (!confirm("ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;
              try {
                if (window.authState?.signOut) {
                  await window.authState.signOut();
                }
              } finally {
                localStorage.removeItem("isLoggedIn");
                localStorage.removeItem("userData");
                window.location.reload();
              }
            };
          }
        }

        function setLoggedOutUI() {
          currentUser = null;
          window.currentUser = null;

          // ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ì˜ì—­ ì—…ë°ì´íŠ¸
          if (loginCta) loginCta.style.display = "inline-flex";
          if (ctaLoginBtn) ctaLoginBtn.style.display = "inline-flex";
          if (statusText) {
            statusText.textContent =
              "ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš° ë‹¤ìš´ë¡œë“œ ì „ì— ë¡œê·¸ì¸ ì•ˆë‚´ê°€ í‘œì‹œë©ë‹ˆë‹¤.";
            statusText.style.color = "var(--text-secondary)";
          }

          // í—¤ë” ì—…ë°ì´íŠ¸
          const authUser = document.getElementById("authUser");
          const loginBtn = document.getElementById("loginBtn");
          const signupBtn = document.getElementById("signupBtn");

          if (authUser) authUser.style.display = "none";
          if (loginBtn) loginBtn.style.display = "inline-flex";
          if (signupBtn) signupBtn.style.display = "inline-flex";
        }

        async function resolveSession() {
          // ë¨¼ì € localStorageì—ì„œ ì‚¬ìš©ì ì •ë³´ í™•ì¸ (ë¹ ë¥¸ ì´ˆê¸° ë Œë”ë§)
          const isLoggedIn = localStorage.getItem("isLoggedIn") === "true";
          const rawUser = localStorage.getItem("userData");
          
          if (isLoggedIn && rawUser) {
            try {
              const user = JSON.parse(rawUser);
              console.log("[ì „ìì±…] localStorage ì‚¬ìš©ì ì •ë³´:", { email: user.email });
              
              // ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸
              setLoggedInUI(user);
            } catch (error) {
              console.error("[ì „ìì±…] userData íŒŒì‹± ì˜¤ë¥˜:", error);
            }
          }

          // authStateê°€ ì•„ì§ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì¬ì‹œë„
          if (!window.authState?.supabase) {
            sessionCheckAttempts++;
            if (sessionCheckAttempts < MAX_SESSION_CHECK_ATTEMPTS) {
              setTimeout(resolveSession, 100);
              return;
            } else {
              console.warn("[ì „ìì±…] authState ì´ˆê¸°í™” ëŒ€ê¸° ì‹œê°„ ì´ˆê³¼");
              if (!isLoggedIn || !rawUser) {
                setLoggedOutUI();
              }
              return;
            }
          }

          try {
            const { data, error } =
              await window.authState.supabase.auth.getSession();
            if (error) {
              console.error("[ì „ìì±…] ì„¸ì…˜ í™•ì¸ ì˜¤ë¥˜:", error);
              if (!isLoggedIn || !rawUser) {
                setLoggedOutUI();
              }
              return;
            }

            const session = data?.session;
            if (session?.user) {
              console.log("[ì „ìì±…] Supabase ì„¸ì…˜ í™•ì¸ë¨:", session.user.email);
              setLoggedInUI(session.user);
            } else if (!isLoggedIn || !rawUser) {
              console.log("[ì „ìì±…] ë¡œê·¸ì¸ë˜ì§€ ì•ŠìŒ");
              setLoggedOutUI();
            }
          } catch (error) {
            console.error("[ì „ìì±…] ì„¸ì…˜ í™•ì¸ ì‹¤íŒ¨:", error);
            if (!isLoggedIn || !rawUser) {
              setLoggedOutUI();
            }
          }
        }

        function requireLogin() {
          if (!currentUser) {
            alert("ë¡œê·¸ì¸ í›„ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.");
            window.location.href = "./login.html?redirect=./sajangpick-book.html";
            return false;
          }
          return true;
        }

        async function getAccessTokenOrRedirect() {
          let waitCount = 0;
          const maxWait = 30; // ìµœëŒ€ 3ì´ˆ ëŒ€ê¸°
          while (!window.authState?.supabase && waitCount < maxWait) {
            await new Promise((resolve) => setTimeout(resolve, 100));
            waitCount++;
          }

          if (!window.authState?.supabase) {
            console.warn("[ì „ìì±…] authStateê°€ ì•„ì§ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");
            alert(
              "ë¡œê·¸ì¸ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•œ ë’¤ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
            );
            return null;
          }

          try {
            const { data } = await window.authState.supabase.auth.getSession();
            const session = data?.session;
            if (!session?.access_token) {
              alert("ë¡œê·¸ì¸ ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
              setLoggedOutUI();
              window.location.href = "./login.html?redirect=./sajangpick-book.html";
              return null;
            }
            return session.access_token;
          } catch (error) {
            console.error("[ì „ìì±…] ì•¡ì„¸ìŠ¤ í† í° í™•ì¸ ì‹¤íŒ¨:", error);
            alert(
              "ë¡œê·¸ì¸ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ìƒˆë¡œê³ ì¹¨ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
            );
            return null;
          }
        }

        // ëª¨ë°”ì¼ ê¸°ê¸° ê°ì§€ í•¨ìˆ˜
        function isMobileDevice() {
          return (
            /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
              navigator.userAgent
            ) || window.innerWidth <= 768
          );
        }

        async function logEbookDownload(triggerSource) {
          if (!currentUser?.id) {
            console.warn("[ì „ìì±…] ì‚¬ìš©ì ì •ë³´ê°€ ì—†ì–´ ë‹¤ìš´ë¡œë“œ ë¡œê·¸ë¥¼ ìƒëµí•©ë‹ˆë‹¤.");
            return;
          }

          try {
            const response = await fetch("/api/ebook/downloads", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                userId: currentUser.id,
                email: currentUser.email,
                name: currentUser.displayName,
                downloadSource: triggerSource,
                deviceType: isMobileDevice() ? "mobile" : "desktop",
                downloadMethod: isMobileDevice()
                  ? "mobile_direct"
                  : "desktop_window",
                pageUrl: window.location.href,
                metadata: {
                  section: triggerSource,
                  screen: `${window.screen.width}x${window.screen.height}`,
                  referrer: document.referrer || undefined,
                },
                userAgent: navigator.userAgent,
              }),
            });

            if (!response.ok) {
              const payload = await response.json().catch(() => ({}));
              console.warn(
                "[ì „ìì±…] ë‹¤ìš´ë¡œë“œ ë¡œê·¸ ì €ì¥ ì‹¤íŒ¨:",
                payload.error || response.status
              );
            }
          } catch (error) {
            console.warn("[ì „ìì±…] ë‹¤ìš´ë¡œë“œ ë¡œê·¸ ìš”ì²­ ì˜¤ë¥˜:", error);
          }
        }

        async function handleDownload(arg) {
          let event = null;
          let triggerSource = "hero_primary";

          if (typeof arg === "string") {
            triggerSource = arg;
          } else if (arg && typeof arg.preventDefault === "function") {
            event = arg;
            if (arg.currentTarget?.dataset?.downloadSource) {
              triggerSource = arg.currentTarget.dataset.downloadSource;
            }
          }

          event?.preventDefault();
          if (!requireLogin()) return;

          const targetBtn = event?.currentTarget || null;

          if (targetBtn) {
            targetBtn.disabled = true;
            targetBtn.classList.add("loading");
          }

          if (statusText) {
            statusText.textContent = "ë‹¤ìš´ë¡œë“œë¥¼ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤...";
            statusText.style.color = "#d9480f";
          }

          await logEbookDownload(triggerSource);

          try {
            const accessToken = await getAccessTokenOrRedirect();
            if (!accessToken) {
              if (statusText) {
                statusText.textContent =
                  "ë¡œê·¸ì¸ ìƒíƒœë¥¼ í™•ì¸í•œ ë’¤ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.";
                statusText.style.color = "#b91c1c";
              }
              return;
            }

            console.log("========================================");
            console.log("[ì „ìì±…] âœ… ë³´í˜¸ ë‹¤ìš´ë¡œë“œ API í˜¸ì¶œ");
            console.log("[ì „ìì±…] âœ… ì—”ë“œí¬ì¸íŠ¸:", DOWNLOAD_ENDPOINT);
            console.log("[ì „ìì±…] âœ… ëª¨ë°”ì¼ ê¸°ê¸°:", isMobileDevice());
            console.log("========================================");

            const response = await fetch(DOWNLOAD_ENDPOINT, {
              method: "GET",
              headers: {
                Authorization: `Bearer ${accessToken}`,
              },
            });

            if (!response.ok) {
              if (response.status === 401) {
                alert("ë¡œê·¸ì¸ ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.");
                setLoggedOutUI();
                window.location.href =
                  "./login.html?redirect=./sajangpick-book.html";
                return;
              }

              let message = response.statusText || "ì „ìì±… ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.";
              try {
                const payload = await response.clone().json();
                if (payload?.error) {
                  message = payload.error;
                }
              } catch (err) {
                // JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ë¬´ì‹œ
              }

              if (statusText) {
                statusText.textContent = message;
                statusText.style.color = "#b91c1c";
              }
              throw new Error(message);
            }

            const blob = await response.blob();
            const blobUrl = window.URL.createObjectURL(blob);

            const link = document.createElement("a");
            link.href = blobUrl;
            link.download = CORRECT_FILENAME;
            link.rel = "noopener noreferrer";
            link.style.display = "none";
            if (isMobileDevice()) {
              link.target = "_blank";
            }
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);

            setTimeout(() => {
              window.URL.revokeObjectURL(blobUrl);
            }, 2000);

            if (statusText) {
              statusText.textContent =
                "ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë©”ì¼ë¡œë„ ë§í¬ë¥¼ ë³´ë‚´ë“œë¦´ê²Œìš”.";
              statusText.style.color = "#d9480f";
            }
          } catch (error) {
            console.error("[ì „ìì±…] ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:", error);
            if (statusText) {
              statusText.textContent =
                "ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.";
              statusText.style.color = "#b91c1c";
            }
            alert(
              `ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n\nì‚¬ìœ : ${
                error.message || "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"
              }\n\nì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.`
            );
          } finally {
            if (targetBtn) {
              targetBtn.disabled = false;
              targetBtn.classList.remove("loading");
            }
          }
        }

        if (downloadBtn) {
          downloadBtn.dataset.downloadSource = "hero_primary";
          downloadBtn.addEventListener("click", handleDownload);
        }
        if (ctaDownloadBtn) {
          ctaDownloadBtn.dataset.downloadSource = "cta_bottom";
          ctaDownloadBtn.addEventListener("click", handleDownload);
        }

        // auth:state-changed ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        window.addEventListener("auth:state-changed", () => {
          console.log("[ì „ìì±…] auth:state-changed ì´ë²¤íŠ¸ ìˆ˜ì‹ ");
          sessionCheckAttempts = 0; // ì¬ì‹œë„ ì¹´ìš´í„° ë¦¬ì…‹
          resolveSession();
        });

        // ì´ˆê¸° ì„¸ì…˜ í™•ì¸ (ì¦‰ì‹œ ì‹¤í–‰ ë° DOMContentLoaded í›„ ì¬ì‹¤í–‰)
        resolveSession(); // ì¦‰ì‹œ localStorage ê¸°ë°˜ìœ¼ë¡œ UI ì—…ë°ì´íŠ¸
        
        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", () => {
            setTimeout(resolveSession, 200);
          });
        } else {
          setTimeout(resolveSession, 200);
        }
      })();

      // í•˜ë‹¨ë°” ìŠ¬ë¼ì´ë“œ ì¸ë””ì¼€ì´í„° ì œì–´
      (function() {
        const sideNav = document.querySelector('.side-nav');
        if (!sideNav) return;

        function updateSideNavIndicator() {
          // PC í™”ë©´ì—ì„œëŠ” ì¸ë””ì¼€ì´í„° ìˆ¨ê¸°ê¸° (ì ˆëŒ€ ê±´ë“¤ì§€ ì•ŠìŒ)
          if (window.innerWidth > 992) {
            sideNav.classList.add('hide-indicator');
            return;
          }

          // ëª¨ë°”ì¼ í™”ë©´ì—ì„œë§Œ ë™ì‘
          const scrollLeft = Math.round(sideNav.scrollLeft);
          const scrollWidth = sideNav.scrollWidth;
          const clientWidth = sideNav.clientWidth;
          
          // ìŠ¤í¬ë¡¤ì´ ëì— ë„ë‹¬í–ˆëŠ”ì§€ í™•ì¸
          const remainingScroll = scrollWidth - scrollLeft - clientWidth;
          
          if (remainingScroll <= 3 || scrollWidth <= clientWidth) {
            // ìŠ¤í¬ë¡¤ì´ ëì— ë„ë‹¬í•˜ê±°ë‚˜ ìŠ¤í¬ë¡¤ì´ í•„ìš” ì—†ìœ¼ë©´ ì¸ë””ì¼€ì´í„° ìˆ¨ê¸°ê¸°
            sideNav.classList.add('hide-indicator');
          } else {
            // ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•˜ë©´ ì¸ë””ì¼€ì´í„° ë³´ì´ê¸°
            sideNav.classList.remove('hide-indicator');
          }
        }

        // DOMì´ ì™„ì „íˆ ë¡œë“œëœ í›„ ì´ˆê¸° ìƒíƒœ í™•ì¸
        function initIndicator() {
          setTimeout(() => {
            updateSideNavIndicator();
          }, 300);
        }

        // ì´ˆê¸° ìƒíƒœ í™•ì¸
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', initIndicator);
        } else {
          initIndicator();
        }

        // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        sideNav.addEventListener('scroll', updateSideNavIndicator, { passive: true });
        
        // ë¦¬ì‚¬ì´ì¦ˆ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        let resizeTimeout;
        window.addEventListener('resize', () => {
          clearTimeout(resizeTimeout);
          resizeTimeout = setTimeout(updateSideNavIndicator, 150);
        });

        // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ í›„ ì¬í™•ì¸
        window.addEventListener('load', () => {
          setTimeout(updateSideNavIndicator, 500);
        });

        // MutationObserverë¡œ DOM ë³€ê²½ ê°ì§€ (ë™ì  ì½˜í…ì¸  ëŒ€ì‘)
        const observer = new MutationObserver(() => {
          setTimeout(updateSideNavIndicator, 100);
        });
        observer.observe(sideNav, { childList: true, subtree: true });
      })();
    </script>

    <!-- í‘¸í„° -->
    <footer class="site-footer">
      <div class="footer-content">
        <div class="footer-item">
          <div class="footer-label">ëŒ€í‘œìëª…</div>
          <div class="footer-value">ì˜¤ëŒ€ì¤€</div>
        </div>
        <div class="footer-item">
          <div class="footer-label">ì‚¬ì—…ì¥ ì£¼ì†Œì§€</div>
          <div class="footer-value">ë¶€ì‚°ê´‘ì—­ì‹œ ë¶êµ¬ ë°±ì–‘ëŒ€ë¡œ 1003 5ë™307í˜¸</div>
        </div>
        <div class="footer-item">
          <div class="footer-label">ì‚¬ì—…ì ë²ˆí˜¸</div>
          <div class="footer-value">441-31-01878</div>
        </div>
        <div class="footer-item">
          <div class="footer-label">ì´ë©”ì¼ ì£¼ì†Œ</div>
          <div class="footer-value">
            <a href="mailto:ohdaejun@naver.com">ohdaejun@naver.com</a>
          </div>
        </div>
        <div class="footer-item">
          <div class="footer-label">ì „í™”ë²ˆí˜¸</div>
          <div class="footer-value">
            <a href="tel:010-6664-3744">010-6664-3744</a>
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
