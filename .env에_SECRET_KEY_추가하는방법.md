# .env 파일에 SECRET_KEY 추가하는 방법

## ⚠️ 중요: PowerShell에서 직접 입력하면 안 됩니다!

PowerShell에서 `SECRET_KEY=...`를 입력하면 오류가 발생합니다.
**반드시 .env 파일을 직접 편집해야 합니다.**

## ✅ 올바른 방법

### 방법 1: VS Code로 편집 (가장 쉬움)

1. **VS Code에서 프로젝트 열기**
   - 프로젝트 폴더(`최종251120`)를 VS Code로 열기

2. **.env 파일 열기**
   - 왼쪽 파일 탐색기에서 `.env` 파일 찾기
   - 클릭해서 열기
   - 만약 보이지 않으면, 파일 이름을 직접 입력해서 열기 (Ctrl+P → `.env` 입력)

3. **SECRET_KEY 추가**
   - 파일 맨 끝에 다음 줄 추가:
   
   ```env
   SECRET_KEY=DZFSS8Dp6oS1rKy_Z0fGUhrpGRveIk-pA9mU19MZUr4=
   ```

4. **저장**
   - Ctrl+S (저장)

### 방법 2: 메모장으로 편집

1. **파일 탐색기 열기**
   - 프로젝트 폴더(`최종251120`) 열기

2. **.env 파일 찾기**
   - `.env` 파일이 보이지 않을 수 있습니다
   - 파일 탐색기 상단 메뉴: 보기 → 항목 → 파일 이름 확장자 체크
   - 또는 숨김 파일 표시 체크

3. **메모장으로 열기**
   - `.env` 파일을 우클릭 → 연결 프로그램 → 메모장

4. **SECRET_KEY 추가**
   - 파일 맨 끝에 다음 줄 추가:
   
   ```env
   SECRET_KEY=DZFSS8Dp6oS1rKy_Z0fGUhrpGRveIk-pA9mU19MZUr4=
   ```

5. **저장 후 닫기**

### 방법 3: PowerShell로 파일에 추가 (고급)

PowerShell에서 아래 명령어 실행:

```powershell
Add-Content -Path .env -Value "SECRET_KEY=DZFSS8Dp6oS1rKy_Z0fGUhrpGRveIk-pA9mU19MZUr4="
```

**주의:** 이 방법은 파일 맨 끝에 추가됩니다. 이미 SECRET_KEY가 있다면 중복될 수 있습니다.

## 📝 .env 파일 내용 예시

기존 .env 파일이 있다면, 맨 끝에 추가:

```env
# 기존 환경변수들...
SUPABASE_URL=https://xxxxx.supabase.co
OPENAI_API_KEY=sk-xxxxx

# 전화번호 암호화 키 (보안카드 역할) - 새로 추가
SECRET_KEY=DZFSS8Dp6oS1rKy_Z0fGUhrpGRveIk-pA9mU19MZUr4=
```

.env 파일이 없다면, 새로 만들고 위 내용 입력:

```env
SECRET_KEY=DZFSS8Dp6oS1rKy_Z0fGUhrpGRveIk-pA9mU19MZUr4=
```

## ✅ 설정 확인

파일을 저장한 후, PowerShell에서 테스트:

```powershell
python api/utils/cipher_service.py encrypt "010-6664-3744"
```

**성공하면:** 암호화된 문자열이 출력됩니다 (예: `gAAAAABk...`)
**실패하면:** "SECRET_KEY가 설정되지 않았습니다" 오류 발생

## 🔍 .env 파일이 안 보일 때

1. **VS Code에서**
   - Ctrl+Shift+P → "Open User Settings" → "files.exclude" 검색
   - `.env`가 제외되어 있는지 확인

2. **파일 탐색기에서**
   - 보기 탭 → 숨김 항목 체크
   - 파일 이름 확장자 체크

3. **직접 찾기**
   - 주소창에 `.env` 입력 후 Enter
   - 또는 `D:\오연수사무실\개인\공부\최종251120\.env` 경로로 직접 접근

## ❌ 하지 말아야 할 것

- ❌ PowerShell에서 `SECRET_KEY=...` 직접 입력 (명령어 아님)
- ❌ `.env.txt` 파일 만들기 (확장자 없어야 함)
- ❌ 따옴표로 감싸기 (`SECRET_KEY="..."` 안 됨)
- ❌ 공백 추가 (`SECRET_KEY = ...` 안 됨)

## ✅ 올바른 형식

```env
SECRET_KEY=DZFSS8Dp6oS1rKy_Z0fGUhrpGRveIk-pA9mU19MZUr4=
```

- `=` 앞뒤 공백 없음
- 따옴표 없음
- `=` 기호 포함

